%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
 \ifdefined\DeclareUnicodeCharacterAsOptional
  \DeclareUnicodeCharacter{"00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{"2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{"2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{"2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{"251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{"2572}{\textbackslash}
 \else
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
  \DeclareUnicodeCharacter{2500}{\sphinxunichar{2500}}
  \DeclareUnicodeCharacter{2502}{\sphinxunichar{2502}}
  \DeclareUnicodeCharacter{2514}{\sphinxunichar{2514}}
  \DeclareUnicodeCharacter{251C}{\sphinxunichar{251C}}
  \DeclareUnicodeCharacter{2572}{\textbackslash}
 \fi
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage[dontkeepoldnames]{sphinx}

\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.}}
\addto\captionsenglish{\renewcommand{\tablename}{Table}}
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\captionsenglish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsenglish{\renewcommand{\literalblockcontinuesname}{continues on next page}}

\addto\extrasenglish{\def\pageautorefname{page}}

\setcounter{tocdepth}{2}



\title{LuxPy Documentation}
\date{May 04, 2018}
\release{1.3.5}
\author{Kevin A.G. Smet}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex

\begin{document}

\maketitle
\sphinxtableofcontents
\phantomsection\label{\detokenize{index::doc}}

\begin{itemize}
\item {} 
Author: K. A.G. Smet (ksmet1977 at gmail.com)

\item {} 
Version: 1.3.05

\item {} 
Date: May 3, 2018

\item {} 
License: GPLv3

\end{itemize}

\noindent\sphinxincludegraphics{{LUXPY__logo}.jpg}


\chapter{License: GPLv3}
\label{\detokenize{license:luxpy-a-package-for-lighting-and-color-science}}\label{\detokenize{license:license-gplv3}}\label{\detokenize{license::doc}}
Copyright (C) \textless{}2017\textgreater{}\textless{}Kevin A.G. Smet\textgreater{} (ksmet1977 at gmail.com)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see \textless{}\sphinxurl{http://www.gnu.org/licenses/}\textgreater{}.


\chapter{Installation}
\label{\detokenize{installation:installation}}\label{\detokenize{installation::doc}}

\section{Install luxpy}
\label{\detokenize{installation:install-luxpy}}\begin{enumerate}
\item {} \begin{description}
\item[{Install miniconda}] \leavevmode\begin{itemize}
\item {} 
download the installer from: \sphinxurl{https://conda.io/miniconda.html}
or \sphinxurl{https://repo.continuum.io/miniconda/})

\item {} 
e.g. \sphinxurl{https://repo.continuum.io/miniconda/Miniconda3-latest-Windows-x86\_64.exe}

\item {} 
Make sure ‘conda.exe’ can be found on the windows system path, if necessary do a manual add.

\end{itemize}

\end{description}

\item {} 
Create a virtual environment with full anaconda distribution by typing the following at the commandline:
\begin{quote}

\sphinxcode{\textgreater{}\textgreater{} conda create -{-}name py36 python=3.6 anaconda}
\end{quote}

\item {} 
Activate the virtual environment:
\begin{quote}

\sphinxcode{\textgreater{}\textgreater{} activate py36}
\end{quote}

\item {} \begin{description}
\item[{Install pip to virtual environment (just to ensure any packages to be}] \leavevmode
installed with pip to this virt. env. will be installed here and not globally):

\sphinxcode{\textgreater{}\textgreater{} conda install -n py36 pip}

\end{description}

\item {} 
Install luxpy package from pypi:
\begin{quote}

\sphinxcode{\textgreater{}\textgreater{} pip install luxpy}
\end{quote}

\end{enumerate}
\begin{quote}\begin{description}
\item[{Note}] \leavevmode
If any errors show up, try and do a manual install of the dependencies:
scipy, numpy, pandas, matplotlib and setuptools,
either using e.g.
\sphinxcode{\textgreater{}\textgreater{} conda install scipy}
or
\sphinxcode{\textgreater{}\textgreater{} pip install scipy},
and try and reinstall luxpy using pip.

\end{description}\end{quote}


\section{Use of LuxPy package in Spyder IDE}
\label{\detokenize{installation:use-of-luxpy-package-in-spyder-ide}}\begin{enumerate}
\setcounter{enumi}{5}
\item {} 
Install spyder in py36 environment:
\begin{quote}

\sphinxcode{\textgreater{}\textgreater{} conda install -n py36 spyder}
\end{quote}

\item {} 
Run spyder
\begin{quote}

\sphinxcode{\textgreater{}\textgreater{} spyder}
\end{quote}

\item {} 
To import the luxpy package, on Spyder’s commandline for the IPython kernel (or in script) type:
\begin{quote}

\sphinxcode{import luxpy as lx}
\end{quote}

\end{enumerate}


\section{Use of LuxPy package in Jupyter notebook}
\label{\detokenize{installation:use-of-luxpy-package-in-jupyter-notebook}}\begin{enumerate}
\setcounter{enumi}{5}
\item {} 
Start jupyter notebook:
\begin{quote}

\sphinxcode{\textgreater{}\textgreater{} jupyter notebook}
\end{quote}

\item {} \begin{description}
\item[{Open an existing or new notebook:}] \leavevmode
e.g. open “luxpy\_basic\_usage.ipynb” for an overview of how to use the LuxPy package.

\end{description}

\item {} 
To import LuxPy package type:
\begin{quote}

\sphinxcode{import luxpy as lx}
\end{quote}

\end{enumerate}


\chapter{Imported (required) packages}
\label{\detokenize{required_packages:imported-required-packages}}\label{\detokenize{required_packages::doc}}

\section{Core}
\label{\detokenize{required_packages:core}}\begin{itemize}
\item {} 
import os

\item {} 
import warnings

\item {} 
from collections import OrderedDict as odict

\item {} 
from mpl\_toolkits.mplot3d import Axes3D

\item {} 
import colorsys

\item {} 
import itertools

\end{itemize}


\section{3e party}
\label{\detokenize{required_packages:e-party}}\begin{itemize}
\item {} 
import numpy as np

\item {} 
import pandas as pd

\item {} 
import matplotlib.pyplot as plt

\item {} 
import scipy as sp

\item {} 
from scipy import interpolate

\item {} 
from scipy.optimize import minimize

\item {} 
from scipy.spatial import cKDTree

\item {} 
import cv2

\end{itemize}


\chapter{Luxpy package structure}
\label{\detokenize{luxpy_structure:luxpy-package-structure}}\label{\detokenize{luxpy_structure::doc}}

\section{Utils sub-package}
\label{\detokenize{utils:utils-sub-package}}\label{\detokenize{utils::doc}}

\subsection{helpers/}
\label{\detokenize{utils:helpers}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
helpers.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{utils:module-luxpy.utils.helpers}}\index{luxpy.utils.helpers (module)}

\subsubsection{Module with helper functions}
\label{\detokenize{utils:module-with-helper-functions}}\begin{quote}
\begin{quote}\begin{description}
\item[{np2d()}] \leavevmode
Make a tuple, list or array at least a 2D numpy array.

\item[{np2dT()}] \leavevmode
Make a tuple, list or array at least a 2D numpy array and tranpose.

\item[{np3d()}] \leavevmode
Make a tuple, list or array at least a 3D numpy array.

\item[{np3dT()}] \leavevmode
Make a tuple, list or array at least a 3D numpy array 
and tranpose (swap) first two axes.

\item[{normalize\_3x3\_matrix()}] \leavevmode
Normalize 3x3 matrix M to xyz0 \textendash{} \textgreater{} {[}1,1,1{]}

\item[{put\_args\_in\_db()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Takes the args with not-None input values of a function 
and overwrites the values of the corresponding keys 
in dict db.
\item[] See put\_args\_in\_db? for more info.
\end{DUlineblock}

\item[{vec\_to\_dict()}] \leavevmode
Convert dict to vec and vice versa.
\begin{description}
\item[{getdata(): Get data from csv-file or convert between pandas dataframe}] \leavevmode
and numpy 2d-array.

\end{description}

\item[{dictkv()}] \leavevmode
Easy input of of keys and values into dict 
(both should be iterable lists).

\item[{OD()}] \leavevmode
Provides a nice way to create OrderedDict “literals”.

\item[{meshblock()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Create a meshed block.
\item[] (Similar to meshgrid, but axis = 0 is retained) 
\item[] To enable fast blockwise calculation.
\end{DUlineblock}

\item[{aplit()}] \leavevmode
Split ndarray data on (default = last) axis.

\item[{ajoin()}] \leavevmode
Join tuple of ndarray data on (default = last) axis.

\item[{broadcast\_shape()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Broadcasts shapes of data to a target\_shape. 
\item[] Useful for block/vector calculations when numpy fails 
to broadcast correctly.
\end{DUlineblock}

\item[{todim()}] \leavevmode
Expand x to dimensions that are broadcast-compatable 
with shape of another array.

\end{description}\end{quote}
\end{quote}


\bigskip\hrule\bigskip

\index{np2d() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.np2d}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{np2d}}{\emph{data}}{}
Make a tuple, list or numpy array at least a 2D numpy array.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple, list, ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with .ndim \textgreater{}= 2
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{np3d() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.np3d}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{np3d}}{\emph{data}}{}
Make a tuple, list or numpy array at least a 3d numpy array.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple, list, ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with .ndim \textgreater{}= 3
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{np2dT() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.np2dT}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{np2dT}}{\emph{data}}{}
Make a tuple, list or numpy array at least a 2D numpy array and transpose.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple, list, ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with .ndim \textgreater{}= 2 and with transposed axes.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{np3dT() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.np3dT}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{np3dT}}{\emph{data}}{}
Make a tuple, list or numpy array at least a 3d numpy array and transposed 
first 2 axes.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple, list, ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with .ndim \textgreater{}= 3 and with first two axes 
transposed (axis=3 is kept the same).
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{put\_args\_in\_db() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.put_args_in_db}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{put\_args\_in\_db}}{\emph{db}, \emph{args}}{}
Takes the args with not-None input values of a function and overwrites 
the values of the corresponding keys in dict db.
\textbar{} (args are collected with the built-in function locals(), 
\textbar{} See example usage below)
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{db}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with the values of specific keys overwritten by the 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] not-None values of corresponding args of a function fcn.
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Example usage:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_db = \{‘c’ : ‘c1’, ‘d’ : 10, ‘e’ : \{‘e1’:’hello’, ‘e2’:1000\}\}
\item[] 
\item[] def test\_put\_args\_in\_db(a, b, db = None, c = None,d = None,e = None):
\item[] 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] args = locals().copy()  \# get dict with keyword input arguments to 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] \# function ‘test\_put\_args\_in\_db’
\item[] 
\end{DUlineblock}
\item[] db = put\_args\_in\_db(db,args) \# overwrite non-None args in db copy.
\item[] 
\end{DUlineblock}
\item[] if db is not None: \# unpack db for further use
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] c,d,e = {[}db{[}x{]} for x in sorted(db.keys()){]}
\item[] 
\end{DUlineblock}
\item[] print(‘ a : \{\}’.format(a))
\item[] print(‘ b : \{\}’.format(b))
\item[] print(‘ db: \{\}’.format(db))
\item[] print(‘ c : \{\}’.format(c))
\item[] print(‘ d : \{\}’.format(d))
\item[] print(‘ e : \{\}’.format(e))
\item[] print(‘\_db: \{\}’.format(\_db))
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}

\end{fulllineitems}

\index{vec\_to\_dict() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.vec_to_dict}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{vec\_to\_dict}}{\emph{vec=None}, \emph{dic=\{\}}, \emph{vsize=None}, \emph{keys=None}}{}
Convert dict to vec and vice versa.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{vec}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list or vector array, optional
\end{DUlineblock}

\item[{dic}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict, optional
\end{DUlineblock}

\item[{vsize}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list or vector array with size of values of dict, optional
\end{DUlineblock}

\item[{keys}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list or vector array with keys in dict (must be provided).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] x, vsize
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] x is an array, if vec is None
\item[] x is a dict, if vec is not None
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{getdata() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.getdata}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{getdata}}{\emph{data}, \emph{kind='np'}, \emph{columns=None}, \emph{header=None}, \emph{sep='}, \emph{'}, \emph{datatype='S'}, \emph{verbosity=True}}{}
Get data from csv-file 
or convert between pandas dataframe and numpy 2d-array.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] - str with path to file containing data
\item[] - ndarray with data
\item[] - pandas.dataframe with data
\end{DUlineblock}

\item[{kind}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str {[}‘np’,’df’{]}, optional 
\item[] Determines type(:returns:), np: ndarray, df: pandas.dataframe
\end{DUlineblock}

\item[{columns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}str{]} of column names for dataframe, optional
\end{DUlineblock}

\item[{header}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: no header in file
\item[] - ‘infer’: infer headers from file
\end{DUlineblock}
\end{DUlineblock}

\item[{sep}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘,’ or ‘  ‘ or other char, optional
\item[] Column separator in data file
\end{DUlineblock}

\item[{datatype’}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘S’,optional 
\item[] Specifies a type of data. 
\item[] Is used when creating column headers (:column: is None).
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘S’: light source spectrum
\item[] -‘R’: reflectance spectrum
\item[] or other.      
\end{DUlineblock}
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, False, optional
\item[] Print warning when inferring headers from file.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] data as ndarray or pandas.dataframe
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{dictkv() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.dictkv}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{dictkv}}{\emph{keys=None}, \emph{values=None}, \emph{ordered=True}}{}
Easy input of of keys and values into dict.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{keys}] \leavevmode
\begin{DUlineblock}{0em}
\item[] iterable list{[}str,…{]} of keys
\end{DUlineblock}

\item[{values}] \leavevmode
\begin{DUlineblock}{0em}
\item[] iterable list{[}…,…, {]} of values
\end{DUlineblock}

\item[{ordered}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, False, optional
\item[] True: creates an ordered dict using ‘collections.OrderedDict()’
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (ordered) dict
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{meshblock() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.meshblock}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{meshblock}}{\emph{x}, \emph{y}}{}
Create a meshed block from x and y.

\begin{DUlineblock}{0em}
\item[] (Similar to meshgrid, but axis = 0 is retained).
\item[] To enable fast blockwise calculation.
\end{DUlineblock}
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with ndim == 2
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with ndim == 2
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{X,Y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 2 ndarrays with ndim == 3 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] X.shape = (x.shape{[}0{]},y.shape{[}0{]},x.shape{[}1{]})
\item[] Y.shape = (x.shape{[}0{]},y.shape{[}0{]},y.shape{[}1{]})
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{asplit() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.asplit}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{asplit}}{\emph{data}}{}
Split data on last axis
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray, ndarray, … 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (number of returns is equal data.shape{[}-1{]})
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{ajoin() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.ajoin}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{ajoin}}{\emph{data}}{}
Join data on last axis.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple (ndarray, ndarray, …)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (shape{[}-1{]} is equal to tuple length)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{broadcast\_shape() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.broadcast_shape}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{broadcast\_shape}}{\emph{data}, \emph{target\_shape=None}, \emph{expand\_2d\_to\_3d=None}, \emph{axis0\_repeats=None}, \emph{axis1\_repeats=None}}{}
Broadcasts shapes of data to a target\_shape.

\begin{DUlineblock}{0em}
\item[] Useful for block/vector calc. when numpy fails to broadcast correctly.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray 
\end{DUlineblock}

\item[{target\_shape}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or tuple with requested shape, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: returns unchanged :data:
\end{DUlineblock}
\end{DUlineblock}

\item[{expand\_2d\_to\_3d}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None (do nothing) or …, optional 
\item[] If ndim == 2, expand from 2 to 3 dimensions
\end{DUlineblock}

\item[{axis0\_repeats}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or number of times to repeat axis=0, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: keep axis=0 same size
\end{DUlineblock}
\end{DUlineblock}

\item[{axis1\_repeats}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or number of times to repeat axis=1, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: keep axis=1 same size
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] reshaped ndarray
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{todim() (in module luxpy.utils.helpers)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.helpers.todim}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.helpers.}\sphinxbfcode{todim}}{\emph{x}, \emph{tshape}, \emph{add\_axis=1}, \emph{equal\_shape=False}}{}
Expand x to dims that are broadcast-compatable with shape of another array.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\item[{tshape}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple with target shape
\end{DUlineblock}

\item[{add\_axis}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Determines where in x.shape an axis should be added
\end{DUlineblock}

\item[{equal\_shape}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True: expand :x: to identical dimensions (speficied by :tshape:)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray broadcast-compatable with tshape.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\subsection{math/}
\label{\detokenize{utils:math}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
basics.py

\item {} 
optimizers.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.math

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{utils:module-luxpy.utils.math}}\index{luxpy.utils.math (module)}

\subsubsection{Module with useful math functions}
\label{\detokenize{utils:module-with-useful-math-functions}}\begin{quote}
\begin{quote}\begin{description}
\item[{normalize\_3x3\_matrix()}] \leavevmode
Normalize 3x3 matrix M to xyz0 \textendash{} \textgreater{} {[}1,1,1{]}

\item[{line\_intersect()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Line intersections of series of two line segments a and b. 
\item[] \sphinxurl{https://stackoverflow.com/questions/3252194/numpy-and-line-intersections}
\end{DUlineblock}

\item[{positive\_arctan()}] \leavevmode
Calculates the positive angle (0°-360° or 0 - 2*pi rad.) 
from x and y.

\item[{dot23()}] \leavevmode
Dot product of a 2-d ndarray 
with a (N x K x L) 3-d ndarray using einsum().

\item[{check\_symmetric()}] \leavevmode
Checks if A is symmetric.

\item[{check\_posdef()}] \leavevmode
Checks positive definiteness of a matrix via Cholesky.

\item[{symmM\_to\_posdefM()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Converts a symmetric matrix to a positive definite one. 
\item[] Two methods are supported:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * ‘make’: A Python/Numpy port of Muhammad Asim Mubeen’s
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] matlab function Spd\_Mat.m 
\end{DUlineblock}
\item[] (\sphinxurl{https://nl.mathworks.com/matlabcentral/fileexchange/45873-positive-definite-matrix})
\end{DUlineblock}
\item[] * ‘nearest’: A Python/Numpy port of John D’Errico’s 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘nearestSPD’ MATLAB code. 
\end{DUlineblock}
\item[] (\sphinxurl{https://stackoverflow.com/questions/43238173/python-convert-matrix-to-positive-semi-definite})
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{bvgpdf()}] \leavevmode
Evaluate bivariate Gaussian probability density function (BVGPDF) 
at (x,y) with center mu and inverse covariance matric, sigmainv.

\item[{mahalanobis2()}] \leavevmode
Evaluate the squared mahalanobis distance with center mu and 
shape and orientation determined by sigmainv.

\item[{rms()}] \leavevmode
Calculates root-mean-square along axis.

\item[{geomean()}] \leavevmode
Calculates geometric mean along axis.

\item[{polyarea()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculates area of polygon. 
\item[] (First coordinate should also be last)
\end{DUlineblock}

\item[{erf()}] \leavevmode
erf-function, direct import from scipy.special

\item[{cart2pol()}] \leavevmode
Converts Cartesian to polar coordinates.

\item[{pol2cart()}] \leavevmode
Converts polar to Cartesian coordinates.

\item[{magnitude\_v()}] \leavevmode
Calculates magnitude of vector.

\item[{angle\_v1v2()}] \leavevmode
Calculates angle between two vectors.

\item[{histogram()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Histogram function that can take as bins either the center
\item[] (cfr. matlab hist) or bin-edges.
\end{DUlineblock}

\item[{minimizebnd()}] \leavevmode
scipy.minimize() that allows contrained parameters on 
unconstrained methods(port of Matlab’s fminsearchbnd). 
Starting, lower and upper bounds values can also be provided 
as a dict.

\end{description}\end{quote}
\end{quote}


\bigskip\hrule\bigskip

\index{normalize\_3x3\_matrix() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.normalize_3x3_matrix}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{normalize\_3x3\_matrix}}{\emph{M}, \emph{xyz0=array({[}{[}1.0000e+00}, \emph{1.0000e+00}, \emph{1.0000e+00{]}{]})}}{}
Normalize 3x3 matrix M to xyz0 \textendash{} \textgreater{} {[}1,1,1{]}
If M.shape == (1,9): M is reshaped to (3,3)
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray((3,3) or ndarray((1,9))
\end{DUlineblock}

\item[{xyz0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 2darray, optional 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] normalized matrix such that M*xyz0 = {[}1,1,1{]}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{symmM\_to\_posdefM() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.symmM_to_posdefM}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{symmM\_to\_posdefM}}{\emph{A=None}, \emph{atol=1e-09}, \emph{rtol=1e-09}, \emph{method='make'}, \emph{forcesymm=True}}{}
Convert a symmetric matrix to a positive definite one.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{A}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\item[{atol}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] The absolute tolerance parameter (see Notes of numpy.allclose())
\end{DUlineblock}

\item[{rtol}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] The relative tolerance parameter (see Notes of numpy.allclose())
\end{DUlineblock}

\item[{method}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘make’ or ‘nearest’, optional (see notes for more info)
\end{DUlineblock}

\item[{forcesymm}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] If A is not symmetric, force symmetry using: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] A = numpy.triu(A) + numpy.triu(A).T - numpy.diag(numpy.diag(A))
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with positive-definite matrix.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes on supported methods:}] \leavevmode
1. \sphinxhref{https://nl.mathworks.com/matlabcentral/fileexchange/45873-positive-definite-matrix}{‘make’: A Python/Numpy port of Muhammad Asim Mubeen’s matlab function 
Spd\_Mat.m}
2. \sphinxtitleref{‘nearest’: A Python/Numpy port of John D’Errico’s {}`nearestSPD} 
MATLAB code. 
\textless{}\sphinxurl{https://stackoverflow.com/questions/43238173/python-convert-matrix-to-positive-semi-definite}\textgreater{}{}`\_

\end{description}

\end{fulllineitems}

\index{check\_symmetric() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.check_symmetric}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{check\_symmetric}}{\emph{A}, \emph{atol=1e-09}, \emph{rtol=1e-09}}{}
Check if A is symmetric.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{A}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\item[{atol}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] The absolute tolerance parameter (see Notes of numpy.allclose())
\end{DUlineblock}

\item[{rtol}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] The relative tolerance parameter (see Notes of numpy.allclose())
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Bool
\item[] True: the array is symmetric within the given tolerance
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{check\_posdef() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.check_posdef}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{check\_posdef}}{\emph{A}, \emph{atol=1e-09}, \emph{rtol=1e-09}}{}
Checks positive definiteness of a matrix via Cholesky.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{A}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\item[{atol}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] The absolute tolerance parameter (see Notes of numpy.allclose())
\end{DUlineblock}

\item[{rtol}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] The relative tolerance parameter (see Notes of numpy.allclose())
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Bool
\item[] True: the array is positive-definite within the given tolerance
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{positive\_arctan() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.positive_arctan}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{positive\_arctan}}{\emph{x}, \emph{y}, \emph{htype='deg'}}{}
Calculate positive angle (0°-360° or 0 - 2*pi rad.) from x and y.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of x-coordinates
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of y-coordinates
\end{DUlineblock}

\item[{htype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘deg’ or ‘rad’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘deg’: hue angle between 0° and 360°
\item[] - ‘rad’: hue angle between 0 and 2pi radians
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of positive angles.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{line\_intersect() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.line_intersect}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{line\_intersect}}{\emph{a1}, \emph{a2}, \emph{b1}, \emph{b2}}{}
Line intersections of series of two line segments a and b.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{a1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape  = (N,2)) specifying end-point 1 of line a
\end{DUlineblock}

\item[{a2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape  = (N,2)) specifying end-point 2 of line a
\end{DUlineblock}

\item[{b1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape  = (N,2)) specifying end-point 1 of line b
\end{DUlineblock}

\item[{b2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape  = (N,2)) specifying end-point 2 of line b
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note: }] \leavevmode
N is the number of line segments a and b.

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with line-intersections (.shape = (N,2))
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode\begin{enumerate}
\item {} 
\sphinxurl{https://stackoverflow.com/questions/3252194/numpy-and-line-intersections}

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{erfinv() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.erfinv}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{erfinv}}{\emph{y}}{}
Inverse function for erf.

\end{fulllineitems}

\index{histogram() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.histogram}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{histogram}}{\emph{a}, \emph{bins=10}, \emph{bin\_center=False}, \emph{range=None}, \emph{normed=False}, \emph{weights=None}, \emph{density=None}}{}
Histogram function that can take as bins either 
the center (cfr. matlab hist) or bin-edges.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{bin\_center}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] False: if :bins: int, str or sequence of scalars:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] default to numpy.histogram (uses bin edges).
\end{DUlineblock}
\item[] True: if :bins: is a sequence of scalars:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] bins (containing centers) are transformed to edges
\item[] and nump.histogram is run. 
\item[] Mimicks matlab hist (uses bin centers).
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
For other armuments and output, see ?numpy.histogram

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with histogram
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{pol2cart() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.pol2cart}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{pol2cart}}{\emph{theta}, \emph{r=None}, \emph{htype='deg'}}{}
Convert Cartesion to polar coordinates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{theta}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with theta-coordinates
\end{DUlineblock}

\item[{r}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or float or ndarray with r-coordinates, optional
\item[] If None, r-coordinates are assumed to be in :theta:.
\end{DUlineblock}

\item[{htype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘deg’ or ‘rad, optional
\item[] Intput type of :theta:.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (float or ndarray of x, float or ndarray of y) coordinates 
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{cart2pol() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.cart2pol}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{cart2pol}}{\emph{x}, \emph{y=None}, \emph{htype='deg'}}{}
Convert Cartesion to polar coordinates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with x-coordinates
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or float or ndarray with x-coordinates, optional
\item[] If None, y-coordinates are assumed to be in :x:.
\end{DUlineblock}

\item[{htype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘deg’ or ‘rad, optional
\item[] Output type of theta.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (float or ndarray of theta, float or ndarray of r) values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{bvgpdf() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.bvgpdf}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{bvgpdf}}{\emph{x}, \emph{y=None}, \emph{mu=None}, \emph{sigmainv=None}}{}
Evaluate bivariate Gaussian probability density function (BVGPDF) at (x,y) 
with center mu and inverse covariance matric, sigmainv.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] scalar or list or ndarray (.ndim = 1 or 2) with 
\item[] x(y)-coordinates at which to evaluate bivariate Gaussian PD.
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or scalar or list or ndarray (.ndim = 1) with 
\item[] y-coordinates at which to evaluate bivariate Gaussian PD, optional.
\item[] If :y: is None, :x: should be a 2d array.
\end{DUlineblock}

\item[{mu}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray (.ndim = 2) with center coordinates of 
\item[] bivariate Gaussian PD, optional. 
\item[] None defaults to ndarray({[}0,0{]}).
\end{DUlineblock}

\item[{sigmainv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with ‘inverse covariance matrix’, optional 
\item[] Determines the shape and orientation of the PD.
\item[] None default to numpy.eye(2).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with magnitude of BVGPDF(x,y)   
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{mahalanobis2() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.mahalanobis2}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{mahalanobis2}}{\emph{x}, \emph{y=None}, \emph{mu=None}, \emph{sigmainv=None}}{}
Evaluate the squared mahalanobis distance with center mu and shape 
and orientation determined by sigmainv.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] scalar or list or ndarray (.ndim = 1 or 2) with x(y)-coordinates 
at which to evaluate the mahalanobis distance squared.
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or scalar or list or ndarray (.ndim = 1) with y-coordinates 
at which to evaluate the mahalanobis distance squared, optional.
\item[] If :y: is None, :x: should be a 2d array.
\end{DUlineblock}

\item[{mu}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray (.ndim = 2) with center coordinates of the 
mahalanobis ellipse, optional. 
\item[] None defaults to ndarray({[}0,0{]}).
\end{DUlineblock}

\item[{sigmainv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with ‘inverse covariance matrix’, optional 
\item[] Determines the shape and orientation of the PD.
\item[] None default to np.eye(2).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with magnitude of mahalanobis2(x,y)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{dot23() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.dot23}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{dot23}}{\emph{A}, \emph{B}, \emph{keepdims=False}}{}
Dot product of a 2-d ndarray with a (N x K x L) 3-d ndarray 
using einsum().
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{A}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape = (M,N))
\end{DUlineblock}

\item[{B}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape = (N,K,L))
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape = (M,K,L))
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{rms() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.rms}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{rms}}{\emph{data}, \emph{axis=0}, \emph{keepdims=False}}{}
Calculate root-mean-square along axis.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list of values or ndarray
\end{DUlineblock}

\item[{axis}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Axis along which to calculate rms.
\end{DUlineblock}

\item[{keepdims}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Keep original dimensions of array.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with rms values.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{geomean() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.geomean}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{geomean}}{\emph{data}, \emph{axis=0}, \emph{keepdims=False}}{}
Calculate geometric mean along axis.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list of values or ndarray
\end{DUlineblock}

\item[{axis}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Axis along which to calculate geomean.
\end{DUlineblock}

\item[{keepdims}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Keep original dimensions of array.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with geomean values. 
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{polyarea() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.polyarea}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{polyarea}}{\emph{x}, \emph{y}}{}
Calculates area of polygon.

\begin{DUlineblock}{0em}
\item[] First coordinate should also be last.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of x-coordinates of polygon vertices.
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of x-coordinates of polygon vertices.     
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float (area or polygon)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{magnitude\_v() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.magnitude_v}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{magnitude\_v}}{\emph{v}}{}
Calculates magnitude of vector.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{v}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with vector
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{magnitude}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray 
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{angle\_v1v2() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.angle_v1v2}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{angle\_v1v2}}{\emph{v1}, \emph{v2}, \emph{htype='deg'}}{}
Calculates angle between two vectors.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{v1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with vector 1
\end{DUlineblock}

\item[{v2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with vector 2
\end{DUlineblock}

\item[{htype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘deg’ or ‘rad’, optional
\item[] Requested angle type.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{ang}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray 
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{minimizebnd() (in module luxpy.utils.math)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{utils:luxpy.utils.math.minimizebnd}}\pysiglinewithargsret{\sphinxcode{luxpy.utils.math.}\sphinxbfcode{minimizebnd}}{\emph{fun}, \emph{x0}, \emph{args=()}, \emph{method='nelder-mead'}, \emph{use\_bnd=True}, \emph{bounds=(None}, \emph{None)}, \emph{options=None}, \emph{x0\_vsize=None}, \emph{x0\_keys=None}, \emph{**kwargs}}{}
Minimization function that allows for bounds on any type of method in 
SciPy’s minimize function by transforming the parameters values 
\textbar{} (see Matlab’s fminsearchbnd). 
\textbar{} Starting values, and lower and upper bounds can also be provided as a dict.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] parameter starting values
\item[] If x0\_keys is None then :x0: is vector else, :x0: is dict and
\item[] x0\_size should be provided with length/size of values for each of 
the keys in :x0: to convert it to a vector.                
\end{DUlineblock}

\item[{use\_bnd}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] False: omits bounds and defaults to regular minimize function.
\end{DUlineblock}

\item[{bounds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (lower, upper), optional
\item[] Tuple of lists or dicts (x0\_keys is None) of lower and upper bounds 
for each of the parameters values.
\end{DUlineblock}

\item[{kwargs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] allows input for other type of arguments (e.g. in OutputFcn)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
For other input arguments, see ?scipy.minimize()

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{res}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with minimize() output. 
\item[] Additionally, function value, fval, of solution is also in :res:,
as well as a vector or dict (if x0 was dict) 
with final solutions (res{[}‘x’{]})
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\section{Spectrum sub-package}
\label{\detokenize{spectrum::doc}}\label{\detokenize{spectrum:spectrum-sub-package}}

\subsection{basics/}
\label{\detokenize{spectrum:basics}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
cmf.py

\item {} 
spectral.py

\item {} 
spectral\_databases.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{spectrum:module-luxpy.spectrum}}\index{luxpy.spectrum (module)}

\subsubsection{spectrum: sub-package supporting basic spectral calculations}
\label{\detokenize{spectrum:spectrum-sub-package-supporting-basic-spectral-calculations}}

\paragraph{spectrum/cmf.py}
\label{\detokenize{spectrum:spectrum-cmf-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{luxpy.\_CMF}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Dict with keys ‘types’ and x
\textbar{} x are dicts with keys ‘bar’, ‘K’, ‘M’
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] * luxpy.\_CMF{[}‘types’{]}  = {[}‘1931\_2’,‘1964\_10’,‘2006\_2’,‘2006\_10’,
‘1931\_2\_judd1951’,‘1931\_2\_juddvos1978’,
‘1951\_20\_scotopic’{]}
\item[] * luxpy.\_CMF{[}x{]}{[}‘bar’{]} = numpy array with CMFs for type x 
between 360 nm and 830 nm (has shape: (4,471))
\item[] * luxpy.\_CMF{[}x{]}{[}‘K’{]}   = Constant converting Watt to lumen for CMF type x.
\item[] * luxpy.\_CMF{[}x{]}{[}‘M’{]}   = XYZ to LMS conversion matrix for CMF type x.
Matrix is numpy arrays with shape: (3,3)
\end{DUlineblock}

Notes:
\begin{enumerate}
\item {} \begin{description}
\item[{All functions have been expanded (when necessary) using zeros to a }] \leavevmode
full 360-830 range. This way those wavelengths do not contribute 
in the calculation, AND are not extrapolated using the closest 
known value, as per CIE recommendation.

\end{description}

\item {} \begin{description}
\item[{There are no XYZ to LMS conversion matrices defined for the }] \leavevmode
1964 10°, 1931 2° Judd corrected (1951) 
and 1931 2° Judd-Vos corrected (1978) cmf sets.
The Hunt-Pointer-Estevez conversion matrix of the 1931 2° is 
therefore used as an approximation!

\end{description}

\item {} \begin{description}
\item[{The K lm to Watt conversion factors for the Judd and Judd-Vos cmf }] \leavevmode
sets have been set to 683.002 lm/W (same as for standard 1931 2°).

\end{description}

\item {} \begin{description}
\item[{The 1951 scoptopic V’ function has been replicated in the 3 }] \leavevmode
xbar, ybar, zbar columns to obtain a data format similar to the 
photopic color matching functions. 
This way V’ can be called in exactly the same way as other V 
functions can be called from the X,Y,Z cmf sets. 
The K value has been set to 1700.06 lm/W and the conversion matrix 
to np.eye().

\end{description}

\end{enumerate}

\end{description}\end{quote}
\end{quote}


\paragraph{spectrum/spectral.py}
\label{\detokenize{spectrum:spectrum-spectral-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_WL3}] \leavevmode
Default wavelength specification in vector-3 format: 
numpy.array({[}start, end, spacing{]})

\item[{\_BB}] \leavevmode
Dict with constants for blackbody radiator calculation 
constant are (c1, c2, n, na, c, h, k).

\item[{\_S012\_DAYLIGHTPHASE}] \leavevmode
numpy.ndarray with CIE S0,S1, S2 curves for daylight 
phase calculation.

\item[{\_INTERP\_TYPES}] \leavevmode
Dict with interpolation types associated with various types of
spectral data according to CIE recommendation:

\item[{\_S\_INTERP\_TYPE}] \leavevmode
Interpolation type for light source spectral data

\item[{\_R\_INTERP\_TYPE}] \leavevmode
Interpolation type for reflective/transmissive spectral data

\item[{\_CRI\_REF\_TYPE}] \leavevmode
Dict with blackbody to daylight transition (mixing) ranges for
various types of reference illuminants used in color rendering
index calculations.

\item[{getwlr()}] \leavevmode
Get/construct a wavelength range from a (start, stop, spacing) 
3-vector.

\item[{getwld()}] \leavevmode
Get wavelength spacing of numpy.ndarray with wavelengths.

\item[{spd\_normalize()}] \leavevmode
Spectrum normalization (supports: area, max, lambda, 
radiometric, photometric and quantal energy units).

\item[{cie\_interp()}] \leavevmode
Interpolate / extrapolate spectral data following standard 
{[}CIE15:2004, “Colorimetry,” CIE, Vienna, Austria, 2004.{]}

\item[{spd()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] All-in-one function that can:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] 1. Read spectral data from data file or take input directly as 
pandas.dataframe or numpy.array.
\item[] 2. Convert spd-like data from numpy.array to pandas.dataframe and back.
\item[] 3. Interpolate spectral data.
\item[] 4. Normalize spectral data.
\end{DUlineblock}
\end{DUlineblock}

\item[{xyzbar()}] \leavevmode
Get color matching functions.

\item[{vlbar()}] \leavevmode
Get Vlambda function.

\item[{spd\_to\_xyz()}] \leavevmode
Calculates xyz tristimulus values from spectral data.

\item[{spd\_to\_ler()}] \leavevmode
Calculates Luminous efficacy of radiation (LER) 
from spectral data.

\item[{spd\_to\_power()}] \leavevmode
Calculate power of spectral data in radiometric, photometric
or quantal energy units.

\item[{blackbody()}] \leavevmode
Calculate blackbody radiator spectrum.

\item[{daylightlocus()}] \leavevmode
Calculates daylight chromaticity from cct.

\item[{daylightphase()}] \leavevmode
Calculate daylight phase spectrum

\item[{cri\_ref()}] \leavevmode\begin{description}
\item[{Calculates a reference illuminant spectrum based on cct for color }] \leavevmode
rendering index calculations.

\item[{(\sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304)}{CIE15:2004CIE15:2004, “Colorimetry,” CIE, Vienna, Austria, 2004.}, }] \leavevmode
\sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{cie224:2017, CIE 2017 Colour Fidelity Index for accurate scientific use. (2017), ISBN 978-3-902842-61-9.},
\sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES-TM-30-15: Method for Evaluating Light Source Color Rendition. New York, NY: The Illuminating Engineering Society of North America.}

\end{description}

\end{description}\end{quote}
\end{quote}


\paragraph{spectrum/spectral\_databases.py}
\label{\detokenize{spectrum:spectrum-spectral-databases-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_S\_PATH}] \leavevmode
Path to light source spectra data.

\item[{\_R\_PATH}] \leavevmode
Path to with spectral reflectance data

\item[{\_IESTM30}] \leavevmode
Database with spectral reflectances related to and light source 
spectra contained excel calculator of IES TM30-15 publication.

\item[{\_IESTM30\_S}] \leavevmode
Database with only light source spectra contained in the 
IES TM30-15 excel calculator.

\item[{\_CIE\_ILLUMINANTS}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Database with CIE illuminants: 
\item[] * ‘E’, ‘D65’, ‘A’, ‘C’,
\item[] * ‘F1’, ‘F2’, ‘F3’, ‘F4’, ‘F5’, ‘F6’,
‘F7’, ‘F8’, ‘F9’, ‘F10’, ‘F11’, ‘F12’
\end{DUlineblock}

\item[{\_CRI\_RFL}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Database with spectral reflectance functions for various 
color rendition calculators:
\item[] * \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=303}{CIE 13.3-1995 (8, 14 munsell samples)}
\item[] * \sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{CIE 224:2015 (99 set)}
\item[] * \sphinxhref{http://journals.sagepub.com/doi/abs/10.1177/1477153513481375}{CRI2012 (HL17 \& HL1000 spectrally uniform and 210 real samples)}
\item[] * \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition}{IES TM30 (99, 4880 sepctrally uniform samples)}
\item[] * \sphinxhref{http://www.sciencedirect.com/science/article/pii/S0378778812000837}{MCRI (10 familiar object set)}
\item[] * \sphinxhref{http://spie.org/Publications/Journal/10.1117/1.3360335}{CQS (v7.5 and v9.0 sets)}
\end{DUlineblock}

\item[{\_MUNSELL}] \leavevmode
Database (dict) with 1269 Munsell spectral reflectance functions 
and Value (V), Chroma (C), hue (h) and (ab) specifications.

\end{description}\end{quote}
\end{quote}


\paragraph{References}
\label{\detokenize{spectrum:references}}\begin{quote}

1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15-2004 (2004). 
Colorimetry 
(Vienna, Austria: CIE)}

2. \sphinxhref{http://www.cie.co.at/publications/fundamental-chromaticity-diagram-physiological-axes-part-1}{CIE, and CIE (2006). 
Fundamental Chromaticity Diagram with Physiological Axes - Part I.(Vienna: CIE).}

3. \sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{cie224:2017, CIE 2017 Colour Fidelity Index for accurate scientific use. (2017),
ISBN 978-3-902842-61-9.}

4. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES-TM-30-15: Method for Evaluating Light Source Color Rendition. 
New York, NY: The Illuminating Engineering Society of North America.}
\end{quote}


\bigskip\hrule\bigskip

\index{getwlr() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.getwlr}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{getwlr}}{\emph{wl3=None}}{}
Get/construct a wavelength range from a 3-vector (start, stop, spacing).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{wl3}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list{[}start, stop, spacing{]}, optional 
\item[] (defaults to luxpy.\_WL3)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (.shape = (n,)) with n wavelengths ranging from
start to stop, with wavelength interval equal to spacing.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{getwld() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.getwld}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{getwld}}{\emph{wl}}{}
Get wavelength spacing.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with wavelengths
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] - float:  for equal wavelength spacings
\item[] - ndarray (.shape = (n,)): for unequal wavelength spacings
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_normalize() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.spd_normalize}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{spd\_normalize}}{\emph{data}, \emph{norm\_type=None}, \emph{norm\_f=1}, \emph{wl=True}, \emph{cieobs='1931\_2'}}{}
Normalize a spectral power distribution (SPD).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional 
\item[] If True, the first column of data contains wavelengths.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS or str, optional
\item[] Type of cmf set to use for normalization using photometric units 
(norm\_type == ‘pu’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with normalized data.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{cie\_interp() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.cie_interp}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{cie\_interp}}{\emph{data}, \emph{wl\_new}, \emph{kind=None}, \emph{negative\_values\_allowed=False}}{}
Interpolate / extrapolate spectral data following standard CIE15-2004.

\begin{DUlineblock}{0em}
\item[] The kind of interpolation depends on the spectrum type defined in :kind:. 
\item[] Extrapolation is always done by replicate the closest known values.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data 
\item[] (.shape = (number of spectra + 1, number of original wavelengths))
\end{DUlineblock}

\item[{wl\_new}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with new wavelengths
\end{DUlineblock}

\item[{kind}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - If :kind: is None, return original data.
\item[] - If :kind: is a spectrum type (see \_INTERP\_TYPES), the correct 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] interpolation type if automatically chosen.
\end{DUlineblock}
\item[] - Or :kind: can be any interpolation type supported by 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] scipy.interpolate.interp1d
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{negative\_values\_allowed}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] If False: negative values are clipped to zero.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of interpolated spectral data.
(.shape = (number of spectra + 1, number of wavelength in wl\_new))
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.spd}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{spd}}{\emph{data=None}, \emph{interpolation=None}, \emph{kind='np'}, \emph{wl=None}, \emph{columns=None}, \emph{sep='}, \emph{'}, \emph{header=None}, \emph{datatype='S'}, \emph{norm\_type=None}, \emph{norm\_f=None}}{}~
\begin{DUlineblock}{0em}
\item[] All-in-one function that can:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] 1. Read spectral data from data file or take input directly 
as pandas.dataframe or ndarray.
\item[] 2. Convert spd-like data from ndarray to pandas.dataframe and back.
\item[] 3. Interpolate spectral data.
\item[] 4. Normalize spectral data.
\end{DUlineblock}
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] - str with path to file containing spectral data
\item[] - ndarray with spectral data
\item[] - pandas.dataframe with spectral data
\item[] (.shape = (number of spectra + 1, number of original wavelengths))
\end{DUlineblock}

\item[{interpolation}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] - None: don’t interpolate
\item[] - str with interpolation type or spectrum type
\end{DUlineblock}

\item[{kind}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str {[}‘np’,’df’{]}, optional 
\item[] Determines type(:returns:), np: ndarray, df: pandas.dataframe
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] New wavelength range for interpolation. 
\item[] Defaults to wavelengths specified by luxpy.\_WL3.
\end{DUlineblock}

\item[{columns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] -  None or list{[}str{]} of column names for dataframe, optional
\end{DUlineblock}

\item[{header}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ‘infer’, optional
\item[] - None: no header in file
\item[] - ‘infer’: infer headers from file
\end{DUlineblock}

\item[{sep}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘,’ or ‘  ‘ or other char, optional
\item[] Column separator in case :data: specifies a data file. 
\end{DUlineblock}

\item[{datatype’}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘S’ (light source) or ‘R’ (reflectance) or other, optional
\item[] Specifies a type of spectral data. 
\item[] Is used when creating column headers when :column: is None.
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray or pandas.dataframe 
\item[] with interpolated and/or normalized spectral data.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyzbar() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.xyzbar}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{xyzbar}}{\emph{cieobs='1931\_2'}, \emph{scr='dict'}, \emph{wl\_new=None}, \emph{norm\_type=None}, \emph{norm\_f=None}, \emph{kind='np'}}{}
Get color matching functions.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] Sets the type of color matching functions to load.
\end{DUlineblock}

\item[{scr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘dict’ or ‘file’, optional
\item[] Determines whether to load cmfs from file (./data/cmfs/) 
or from dict defined in .cmf.py
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] New wavelength range for interpolation. 
\item[] Defaults to wavelengths specified by luxpy.\_WL3.
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\item[{kind}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str {[}‘np’,’df’{]}, optional 
\item[] Determines type(:returns:), np: ndarray, df: pandas.dataframe
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray or pandas.dataframe with CMFs 
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry. CIE, Vienna.}

\end{description}

\end{fulllineitems}

\index{vlbar() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.vlbar}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{vlbar}}{\emph{cieobs='1931\_2'}, \emph{scr='dict'}, \emph{wl\_new=None}, \emph{norm\_type=None}, \emph{norm\_f=None}, \emph{kind='np'}, \emph{out=1}}{}
Get Vlambda functions.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str, optional
\item[] Sets the type of Vlambda function to obtain.
\end{DUlineblock}

\item[{scr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘dict’ or array, optional
\item[] - ‘dict’: get from ybar from \_CMF
\item[] - ‘array’: ndarray in :cieobs:
\item[] Determines whether to load cmfs from file (./data/cmfs/) 
or from dict defined in .cmf.py
\item[] Vlambda is obtained by collecting Ybar.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] New wavelength range for interpolation. 
\item[] Defaults to wavelengths specified by luxpy.\_WL3.
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\item[{kind}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str {[}‘np’,’df’{]}, optional 
\item[] Determines type(:returns:), np: ndarray, df: pandas.dataframe
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1 or 2, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] 1: returns Vlambda
\item[] 2: returns (Vlambda, Km)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dataframe or ndarray with Vlambda of type :cieobs: 
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry. CIE, Vienna}

\end{description}

\end{fulllineitems}

\index{spd\_to\_xyz() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.spd_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{spd\_to\_xyz}}{\emph{data}, \emph{relative=True}, \emph{rfl=None}, \emph{cieobs='1931\_2'}, \emph{K=None}, \emph{out=None}, \emph{cie\_std\_dev\_obs=None}}{}
Calculates xyz tristimulus values from spectral data.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray or pandas.dataframe with spectral data
\item[] (.shape = (number of spectra + 1, number of wavelengths))
\item[] Note that :data: is never interpolated, only CMFs and RFLs. 
\item[] This way interpolation errors due to peaky spectra are avoided. 
Conform CIE15-2004.
\end{DUlineblock}

\item[{relative}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Calculate relative XYZ (Yw = 100) or absolute XYZ (Y = Luminance)
\end{DUlineblock}

\item[{rfl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral reflectance functions.
\item[] Will be interpolated if wavelengths do not match those of :data:
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines the color matching functions to be used in the 
calculation of XYZ.
\end{DUlineblock}

\item[{K}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] e.g.  K  = 683 lm/W for ‘1931\_2’ (relative == False) 
\item[] or K = 100/sum(spd*dl)        (relative == True)
\end{DUlineblock}
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or 1 or 2, optional
\item[] Determines number and shape of output. (see :returns:)
\end{DUlineblock}

\item[{cie\_std\_dev\_obs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str, optional
\item[] - None: don’t use CIE Standard Deviate Observer function.
\item[] - ‘f1’: use F1 function.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] If rfl is None:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If out is None: ndarray of xyz values 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (data.shape{[}0{]},3))
\end{DUlineblock}
\item[] If out == 1: ndarray of xyz values 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (data.shape{[}0{]},3))
\end{DUlineblock}
\item[] If out == 2: (ndarray of xyz, ndarray of xyzw) values
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Note that xyz == xyzw, with (.shape = (data.shape{[}0{]},3))
\end{DUlineblock}
\end{DUlineblock}
\item[] If rfl is not None:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If out is None: ndarray of xyz values 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (rfl.shape{[}0{]},data.shape{[}0{]},3))
\end{DUlineblock}
\item[] If out == 1: ndarray of xyz values 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (rfl.shape{[}0{]}+1,data.shape{[}0{]},3))
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] The xyzw values of the light source spd are the first set 
\item[] of values of the first dimension. The following values 
\end{DUlineblock}
\item[] along this dimension are the sample (rfl) xyz values.
\end{DUlineblock}
\item[] If out == 2: (ndarray of xyz, ndarray of xyzw) values
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] with xyz.shape = (rfl.shape{[}0{]},data.shape{[}0{]},3)
\item[] and with xyzw.shape = (data.shape{[}0{]},3)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry. CIE, Vienna.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_ler() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.spd_to_ler}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{spd\_to\_ler}}{\emph{data}, \emph{cieobs='1931\_2'}, \emph{K=None}}{}
Calculates Luminous efficacy of radiation (LER) from spectral data.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray or pandas.dataframe with spectral data
\item[] (.shape = (number of spectra + 1, number of wavelengths))
\item[] Note that :data: is never interpolated, only CMFs and RFLs. 
\item[] This way interpolation errors due to peaky spectra are avoided. 
\item[] Conform CIE15-2004.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] Determines the color matching function set used in the 
\item[] calculation of LER. For cieobs = ‘1931\_2’ the ybar CMF curve equals
\item[] the CIE 1924 Vlambda curve.
\end{DUlineblock}

\item[{K}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] e.g.  K  = 683 lm/W for ‘1931\_2’
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{ler}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of LER values. 
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry. CIE, Vienna.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_power() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.spd_to_power}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{spd\_to\_power}}{\emph{data}, \emph{ptype='ru'}, \emph{cieobs='1931\_2'}}{}
Calculate power of spectral data in radiometric, photometric 
or quantal energy units.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data
\end{DUlineblock}

\item[{ptype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ru’ or str, optional
\item[] str: - ‘ru’: in radiometric units 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘pu’: in photometric units 
\item[] - ‘qu’: in quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS or str, optional
\item[] Type of cmf set to use for photometric units.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{description}
\item[{returns: }] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with normalized spectral data (SI units)
\end{DUlineblock}

\end{description}

\end{description}

\end{fulllineitems}

\index{blackbody() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.blackbody}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{blackbody}}{\emph{cct}, \emph{wl3=None}, \emph{norm\_type=None}, \emph{norm\_f=None}}{}
Calculate blackbody radiator spectrum for correlated color temperature (cct).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cct}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float 
\item[] (for list of cct values, use cri\_ref() with ref\_type = ‘BB’)
\end{DUlineblock}

\item[{wl3}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] New wavelength range for interpolation. 
\item[] Defaults to wavelengths specified by luxpy.\_WL3.
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with blackbody radiator spectrum
(:returns:{[}0{]} contains wavelengths)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry.}

\end{description}

\end{fulllineitems}

\index{daylightlocus() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.daylightlocus}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{daylightlocus}}{\emph{cct}, \emph{force\_daylight\_below4000K=False}}{}
Calculates daylight chromaticity from correlated color temperature (cct).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cct}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list of int/floats or ndarray
\end{DUlineblock}

\item[{force\_daylight\_below4000K}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Daylight locus approximation is not defined below 4000 K, 
\item[] but by setting this to True, the calculation can be forced to 
\item[] calculate it anyway.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (ndarray of x-coordinates, ndarray of y-coordinates)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry.}

\end{description}

\end{fulllineitems}

\index{daylightphase() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.daylightphase}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{daylightphase}}{\emph{cct}, \emph{wl3=None}, \emph{norm\_type=None}, \emph{norm\_f=None}, \emph{force\_daylight\_below4000K=False}, \emph{verbosity=None}}{}
Calculate daylight phase spectrum for correlated color temperature (cct).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cct}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float 
\item[] (for list of cct values, use cri\_ref() with ref\_type = ‘DL’)
\end{DUlineblock}

\item[{wl3}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] New wavelength range for interpolation. 
\item[] Defaults to wavelengths specified by luxpy.\_WL3.
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\item[{force\_daylight\_below4000K}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Daylight locus approximation is not defined below 4000 K, 
\item[] but by setting this to True, the calculation can be forced to 
\item[] calculate it anyway.
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: do not print warning when CCT \textless{} 4000 K.
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with daylight phase spectrum
(:returns:{[}0{]} contains wavelengths)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15:2004. Colorimetry.}

\end{description}

\end{fulllineitems}

\index{cri\_ref() (in module luxpy.spectrum)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{spectrum:luxpy.spectrum.cri_ref}}\pysiglinewithargsret{\sphinxcode{luxpy.spectrum.}\sphinxbfcode{cri\_ref}}{\emph{ccts}, \emph{wl3=None}, \emph{ref\_type='ciera'}, \emph{mix\_range=None}, \emph{cieobs='1931\_2'}, \emph{norm\_type=None}, \emph{norm\_f=None}, \emph{force\_daylight\_below4000K=False}}{}
Calculates a reference illuminant spectrum based on cct 
for color rendering index calculations .
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{ccts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list of int/floats or ndarray with ccts.
\end{DUlineblock}

\item[{wl3}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] New wavelength range for interpolation. 
\item[] Defaults to wavelengths specified by luxpy.\_WL3.
\end{DUlineblock}

\item[{ref\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str or list{[}str{]}, optional
\item[] Specifies the type of reference spectrum to be calculated.
\item[] Defaults to luxpy.\_CRI\_REF\_TYPE. 
\item[] If :ref\_type: is list of strings, then for each cct in :ccts: 
a different reference illuminant can be specified. 
\item[] If :ref\_type: == ‘spd’, then :ccts: is assumed to be an ndarray
of reference illuminant spectra.
\end{DUlineblock}

\item[{mix\_range}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] Determines the cct range between which the reference illuminant is
\item[] a weigthed mean of a Planckian and Daylight Phase spectrum. 
\item[] Weighthing is done as described in IES TM30:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] SPDreference = (Te-T)/(Te-Tb)*Planckian+(T-Tb)/(Te-Tb)*daylight
\item[] with Tb and Te are resp. the starting and end CCTs of the 
\item[] mixing range and whereby the Planckian and Daylight SPDs 
\item[] have been normalized for equal luminous flux.
\end{DUlineblock}
\item[] If None: use the default specified for :ref\_type:.
\item[] Can be a ndarray with shape{[}0{]} \textgreater{} 1, in which different mixing
\item[] ranges will be used for cct in :ccts:.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] Required for the normalization of the Planckian and Daylight SPDs 
when calculating a ‘mixed’ reference illuminant.
\end{DUlineblock}

\item[{norm\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘lambda’: make lambda in norm\_f equal to 1
\item[] - ‘area’: area-normalization times norm\_f
\item[] - ‘max’: max-normalization times norm\_f
\item[] - ‘ru’: to :norm\_f: radiometric units 
\item[] - ‘pu’: to :norm\_f: photometric units 
\item[] - ‘qu’: to :norm\_f: quantal energy units
\end{DUlineblock}
\end{DUlineblock}

\item[{norm\_f}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Normalization factor that determines the size of normalization 
for ‘max’ and ‘area’ 
or which wavelength is normalized to 1 for ‘lambda’ option.
\end{DUlineblock}

\item[{force\_daylight\_below4000K}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Daylight locus approximation is not defined below 4000 K, 
\item[] but by setting this to True, the calculation can be forced to 
calculate it anyway.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with reference illuminant spectra.
(:returns:{[}0{]} contains wavelengths)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note: }] \leavevmode
Future versions will have the ability to take a dict as input 
for ref\_type. This way other reference illuminants can be specified 
than the ones in \_CRI\_REF\_TYPES.

\end{description}

\end{fulllineitems}



\section{Color sub-package}
\label{\detokenize{color:color-sub-package}}\label{\detokenize{color::doc}}

\subsection{utils/}
\label{\detokenize{color:utils}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
plotters.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.utils}}\index{luxpy.color.utils (module)}

\subsubsection{Module with functions related to plotting of color data}
\label{\detokenize{color:module-with-functions-related-to-plotting-of-color-data}}\begin{quote}
\begin{quote}\begin{description}
\item[{plot\_color\_data()}] \leavevmode
Plot color data (local helper function)

\item[{plotDL()}] \leavevmode
Plot daylight locus.

\item[{plotBB()}] \leavevmode
Plot blackbody locus.

\item[{plotSL()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Plot spectrum locus.  
\item[] (plotBB() and plotDL() are also called, but can be turned off).
\end{DUlineblock}

\item[{plotcerulean()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Plot cerulean (yellow (577 nm) - blue (472 nm)) line 
\item[] (Kuehni, CRA, 2014: Table II: spectral lights)
\item[] \sphinxhref{https://doi.org/10.1002/col.21793}{Kuehni, R. G. (2014). 
Unique hues and their stimuli—state of the art. 
Color Research \& Application, 39(3), 279\textendash{}287.}
\end{DUlineblock}

\item[{plotUH()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Plot unique hue lines from color space center point xyz0. 
\item[] (Kuehni, CRA, 2014: uY,uB,uG: Table II: spectral lights; 
\item[] uR: Table IV: Xiao data) 
\item[] \sphinxhref{https://doi.org/10.1002/col.21793}{Kuehni, R. G. (2014). 
Unique hues and their stimuli—state of the art. 
Color Research \& Application, 39(3), 279\textendash{}287.}
\end{DUlineblock}

\item[{plotcircle()}] \leavevmode
Plot one or more concentric circles.

\end{description}\end{quote}
\end{quote}


\bigskip\hrule\bigskip

\index{plotSL() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plotSL}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plotSL}}{\emph{cieobs='1931\_2'}, \emph{cspace='Yuv'}, \emph{DL=True}, \emph{BBL=True}, \emph{D65=False}, \emph{EEW=False}, \emph{cctlabels=False}, \emph{axh=None}, \emph{show=True}, \emph{cspace\_pars=\{\}}, \emph{formatstr='k-'}, \emph{**kwargs}}{}
Plot spectrum locus for cieobs in cspace.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{DL}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] True plots Daylight Locus as well.
\end{DUlineblock}

\item[{BBL}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] True plots BlackBody Locus as well. 
\end{DUlineblock}

\item[{D65}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True plots D65 chromaticity as well. 
\end{DUlineblock}

\item[{EEW}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True plots Equi-Energy-White chromaticity as well. 
\end{DUlineblock}

\item[{cctlabels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Add cct text labels at various points along the blackbody locus.
\end{DUlineblock}

\item[{axh}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or axes handle, optional
\item[] Determines axes to plot data in.
\item[] None: make new figure.
\end{DUlineblock}

\item[{show}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Invoke matplotlib.pyplot.show() right after plotting
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines CMF set to calculate spectrum locus or other.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CSPACE or str, optional
\item[] Determines color space / chromaticity diagram to plot data in.
\item[] Note that data is expected to be in specified :cspace:
\end{DUlineblock}

\item[{formatstr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k-‘ or str, optional
\item[] Format str for plotting (see ?matplotlib.pyplot.plot)
\end{DUlineblock}

\item[{cspace\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\} or dict, optional
\item[] Dict with parameters required by color space specified in :cspace: 
\item[] (for use with luxpy.colortf())
\end{DUlineblock}

\item[{kwargs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] additional keyword arguments for use with matplotlib.pyplot.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None (:show: == True) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] handle to current axes (:show: == False)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plotDL() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plotDL}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plotDL}}{\emph{ccts=None}, \emph{cieobs='1931\_2'}, \emph{cspace='Yuv'}, \emph{axh=None}, \emph{show=True}, \emph{force\_daylight\_below4000K=False}, \emph{cspace\_pars=\{\}}, \emph{formatstr='k-'}, \emph{**kwargs}}{}
Plot daylight locus.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{ccts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}float{]}, optional
\item[] None defaults to {[}4000 K to 1e19 K{]} in 100 steps on a log10 scale.
\end{DUlineblock}

\item[{force\_daylight\_below4000K}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] CIE daylight phases are not defined below 4000 K. 
\item[] If True plot anyway.
\end{DUlineblock}

\item[{axh}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or axes handle, optional
\item[] Determines axes to plot data in.
\item[] None: make new figure.
\end{DUlineblock}

\item[{show}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Invoke matplotlib.pyplot.show() right after plotting
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines CMF set to calculate spectrum locus or other.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CSPACE or str, optional
\item[] Determines color space / chromaticity diagram to plot data in.
\item[] Note that data is expected to be in specified :cspace:
\end{DUlineblock}

\item[{formatstr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k-‘ or str, optional
\item[] Format str for plotting (see ?matplotlib.pyplot.plot)
\end{DUlineblock}

\item[{cspace\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\} or dict, optional
\item[] Dict with parameters required by color space specified in :cspace: 
(for use with luxpy.colortf())
\end{DUlineblock}

\item[{kwargs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] additional keyword arguments for use with matplotlib.pyplot.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None (:show: == True) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] handle to current axes (:show: == False)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plotBB() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plotBB}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plotBB}}{\emph{ccts=None}, \emph{cieobs='1931\_2'}, \emph{cspace='Yuv'}, \emph{axh=None}, \emph{cctlabels=True}, \emph{show=True}, \emph{cspace\_pars=\{\}}, \emph{formatstr='k-'}, \emph{**kwargs}}{}
Plot blackbody locus.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{ccts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}float{]}, optional
\item[] None defaults to {[}1000 to 1e19 K{]}.
\item[] Range: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] {[}1000,1500,2000,2500,3000,3500,4000,5000,6000,8000,10000{]} 
\end{DUlineblock}
\item[] + {[}15000 K to 1e19 K{]} in 100 steps on a log10 scale
\end{DUlineblock}
\end{DUlineblock}

\item[{cctlabels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Add cct text labels at various points along the blackbody locus.
\end{DUlineblock}

\item[{axh}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or axes handle, optional
\item[] Determines axes to plot data in.
\item[] None: make new figure.
\end{DUlineblock}

\item[{show}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Invoke matplotlib.pyplot.show() right after plotting
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines CMF set to calculate spectrum locus or other.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CSPACE or str, optional
\item[] Determines color space / chromaticity diagram to plot data in.
\item[] Note that data is expected to be in specified :cspace:
\end{DUlineblock}

\item[{formatstr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k-‘ or str, optional
\item[] Format str for plotting (see ?matplotlib.pyplot.plot)
\end{DUlineblock}

\item[{cspace\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\} or dict, optional
\item[] Dict with parameters required by color space specified in :cspace: 
(for use with luxpy.colortf())
\end{DUlineblock}

\item[{kwargs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] additional keyword arguments for use with matplotlib.pyplot.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None (:show: == True) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] handle to current axes (:show: == False)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plot\_color\_data() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plot_color_data}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plot\_color\_data}}{\emph{x}, \emph{y}, \emph{z=None}, \emph{axh=None}, \emph{show=True}, \emph{cieobs='1931\_2'}, \emph{cspace='Yuv'}, \emph{formatstr='k-'}, \emph{**kwargs}}{}
Plot color data from x,y {[},z{]}.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with x-coordinate data
\end{DUlineblock}

\item[{y}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with y-coordinate data
\end{DUlineblock}

\item[{z}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or float or ndarray with Z-coordinate data, optional
\item[] If None: make 2d plot.
\end{DUlineblock}

\item[{axh}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or axes handle, optional
\item[] Determines axes to plot data in.
\item[] None: make new figure.
\end{DUlineblock}

\item[{show}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Invoke matplotlib.pyplot.show() right after plotting
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines CMF set to calculate spectrum locus or other.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CSPACE or str, optional
\item[] Determines color space / chromaticity diagram to plot data in.
\item[] Note that data is expected to be in specified :cspace:
\end{DUlineblock}

\item[{formatstr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k-‘ or str, optional
\item[] Format str for plotting (see ?matplotlib.pyplot.plot)
\end{DUlineblock}

\item[{kwargs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] additional keyword arguments for use with matplotlib.pyplot.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None (:show: == True) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] handle to current axes (:show: == False)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plotceruleanline() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plotceruleanline}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plotceruleanline}}{\emph{cieobs='1931\_2'}, \emph{cspace='Yuv'}, \emph{axh=None}, \emph{formatstr='ko-'}, \emph{cspace\_pars=\{\}}}{}
Plot cerulean (yellow (577 nm) - blue (472 nm)) line

\begin{DUlineblock}{0em}
\item[] Kuehni, CRA, 2014: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Table II: spectral lights.
\end{DUlineblock}
\end{DUlineblock}
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{axh}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or axes handle, optional
\item[] Determines axes to plot data in.
\item[] None: make new figure.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines CMF set to calculate spectrum locus or other.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CSPACE or str, optional
\item[] Determines color space / chromaticity diagram to plot data in.
\item[] Note that data is expected to be in specified :cspace:
\end{DUlineblock}

\item[{formatstr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k-‘ or str, optional
\item[] Format str for plotting (see ?matplotlib.pyplot.plot)
\end{DUlineblock}

\item[{cspace\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\} or dict, optional
\item[] Dict with parameters required by color space specified in :cspace: 
\item[] (for use with luxpy.colortf())
\end{DUlineblock}

\item[{kwargs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] additional keyword arguments for use with matplotlib.pyplot.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] handle to cerulean line
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://doi.org/10.1002/col.21793}{Kuehni, R. G. (2014). 
Unique hues and their stimuli—state of the art. 
Color Research \& Application, 39(3), 279\textendash{}287.}
(see Table II, IV)

\end{description}

\end{fulllineitems}

\index{plotUH() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plotUH}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plotUH}}{\emph{xyz0=None, uhues={[}0, 1, 2, 3{]}, cieobs='1931\_2', cspace='Yuv', axh=None, formatstr={[}'yo-.', 'bo-.', 'ro-.', 'go-.'{]}, excludefromlegend='', cspace\_pars=\{\}}}{}
Plot unique hue lines from color space center point xyz0.

\begin{DUlineblock}{0em}
\item[] Kuehni, CRA, 2014: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] uY,uB,uG: Table II: spectral lights; 
\item[] uR: Table IV: Xiao data.
\end{DUlineblock}
\end{DUlineblock}
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{xyz0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Center of color space (unique hue lines are expected to cross here)
\item[] None defaults to equi-energy-white.
\end{DUlineblock}

\item[{uhues}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}0,1,2,3{]}, optional
\item[] Unique hue lines to plot {[}0:’yellow’,1:’blue’,2:’red’,3:’green’{]}
\end{DUlineblock}

\item[{axh}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or axes handle, optional
\item[] Determines axes to plot data in.
\item[] None: make new figure.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS or str, optional
\item[] Determines CMF set to calculate spectrum locus or other.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CSPACE or str, optional
\item[] Determines color space / chromaticity diagram to plot data in.
\item[] Note that data is expected to be in specified :cspace:
\end{DUlineblock}

\item[{formatstr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}‘yo-.’,’bo-.’,’ro-.’,’go-.’{]} or list{[}str{]}, optional
\item[] Format str for plotting the different unique lines 
\item[] (see also ?matplotlib.pyplot.plot)
\end{DUlineblock}

\item[{excludefromlegend}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘’ or str, optional
\item[] To exclude certain hues from axes legend.
\end{DUlineblock}

\item[{cspace\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\} or dict, optional
\item[] Dict with parameters required by color space specified in :cspace: 
\item[] (for use with luxpy.colortf())
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list{[}handles{]} to unique hue lines
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://doi.org/10.1002/col.21793}{Kuehni, R. G. (2014). 
Unique hues and their stimuli—state of the art. 
Color Research \& Application, 39(3), 279\textendash{}287.}
(see Table II, IV)

\end{description}

\end{fulllineitems}

\index{plotcircle() (in module luxpy.color.utils)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.utils.plotcircle}}\pysiglinewithargsret{\sphinxcode{luxpy.color.utils.}\sphinxbfcode{plotcircle}}{\emph{center=array({[}0.0000e+00}, \emph{0.0000e+00{]})}, \emph{radii=array({[} 0}, \emph{10}, \emph{20}, \emph{30}, \emph{40}, \emph{50{]})}, \emph{angles=array({[}  0}, \emph{10}, \emph{20}, \emph{30}, \emph{40}, \emph{50}, \emph{60}, \emph{70}, \emph{80}, \emph{90}, \emph{100}, \emph{110}, \emph{120}, \emph{130}, \emph{140}, \emph{150}, \emph{160}, \emph{170}, \emph{180}, \emph{190}, \emph{200}, \emph{210}, \emph{220}, \emph{230}, \emph{240}, \emph{250}, \emph{260}, \emph{270}, \emph{280}, \emph{290}, \emph{300}, \emph{310}, \emph{320}, \emph{330}, \emph{340{]})}, \emph{color='k'}, \emph{linestyle='--'}, \emph{out=None}}{}
Plot one or more concentric circles.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{center}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.array({[}0.,0.{]}) or ndarray with center coordinates, optional
\end{DUlineblock}

\item[{radii}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.arange(0,60,10) or ndarray with radii of circle(s), optional
\end{DUlineblock}

\item[{angles}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.arange(0,350,10) or ndarray with angles (°), optional
\end{DUlineblock}

\item[{color}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] Color for plotting.
\end{DUlineblock}

\item[{linestyle}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘\textendash{}’, optional
\item[] Linestyle of circles.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If None: plot circles, return (x,y) otherwise.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\subsection{ctf/}
\label{\detokenize{color:ctf}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
colortransformations.py

\item {} 
colortf.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.ctf.colortransforms}}\index{luxpy.color.ctf.colortransforms (module)}

\subsubsection{Module with functions related to basic colorimetry}
\label{\detokenize{color:module-with-functions-related-to-basic-colorimetry}}

\paragraph{Note}
\label{\detokenize{color:note}}\begin{quote}

Note that colorimetric data is always located in the last axis
of the data arrays. (See also xyz specification in \_\_doc\_\_ string
of luxpy.spd\_to\_xyz())
\end{quote}


\paragraph{colortransforms.py}
\label{\detokenize{color:colortransforms-py}}\begin{itemize}
\item {} \begin{description}
\item[{\_CSPACE\_AXES: dict with list{[}str,str,str{]} containing axis labels}] \leavevmode
of defined cspaces

\end{description}

\end{itemize}


\subparagraph{Chromaticity / colorspace functions}
\label{\detokenize{color:chromaticity-colorspace-functions}}\begin{quote}

\begin{DUlineblock}{0em}
\item[] * xyz\_to\_Yxy(), Yxy\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} (Y,x,y);
\item[] * xyz\_to\_Yuv(), Yuv\_to\_Yxy(): (X,Y,Z) \textless{}-\textgreater{} CIE 1976 (Y,u’,v’);
\item[] * xyz\_to\_xyz(), lms\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} (X,Y,Z); for use with colortf()
\item[] * xyz\_to\_lms(), lms\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} (L,M,S) cone fundamental responses
\item[] * xyz\_to\_lab(), lab\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} CIE 1976 (L*,a*,b*)
\item[] * xyz\_to\_luv(), luv\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} CIE 1976 (L*,u*,v*)
\item[] * xyz\_to\_Vrb\_mb(),Vrb\_mb\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} (V,r,b); {[}Macleod \& Boyton, 1979{]}
\item[] * xyz\_to\_ipt(), ipt\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} (I,P,T); {[}Ebner et al, 1998{]}
\item[] * xyz\_to\_Ydlep(), Ydlep\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} (Y,dl, ep); 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Y, dominant wavelength (dl) and excitation purity (ep)
\end{DUlineblock}
\item[] * xyz\_to\_srgb(), srgb\_to\_xyz(): (X,Y,Z) \textless{}-\textgreater{} sRGB; (IEC:61966 sRGB)
\end{DUlineblock}
\end{quote}


\paragraph{References}
\label{\detokenize{color:references}}\begin{enumerate}
\item {} 
\sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=304}{CIE15-2004 (2004). Colorimetry (Vienna, Austria: CIE)}

\item {} 
\sphinxhref{http://www.ingentaconnect.com/content/ist/cic/1998/00001998/00000001/art00003?crawler=true}{Ebner F, and Fairchild MD (1998).
Development and testing of a color space (IPT) with improved hue uniformity.
In IS\&T 6th Color Imaging Conference, (Scottsdale, Arizona, USA), pp. 8\textendash{}13.}

\item {} 
\sphinxhref{https://www.osapublishing.org/josa/abstract.cfm?uri=josa-69-8-1183}{MacLeod DI, and Boynton RM (1979).
Chromaticity diagram showing cone excitation by stimuli of equal luminance.
J. Opt. Soc. Am. 69, 1183\textendash{}1186.}

\end{enumerate}
\index{xyz\_to\_Yxy() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_Yxy}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_Yxy}}{\emph{xyz}, \emph{**kwargs}}{}
Convert XYZ tristimulus values CIE Yxy chromaticity values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{Yxy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Yxy chromaticity values
(Y value refers to luminance or luminance factor)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{Yxy\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.Yxy_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{Yxy\_to\_xyz}}{\emph{Yxy}, \emph{**kwargs}}{}
Convert CIE Yxy chromaticity values to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{Yxy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Yxy chromaticity values
(Y value refers to luminance or luminance factor)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_Yuv() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_Yuv}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_Yuv}}{\emph{xyz}, \emph{**kwargs}}{}
Convert XYZ tristimulus values CIE 1976 Yu’v’ chromaticity values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{Yuv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with CIE 1976 Yu’v’ chromaticity values
(Y value refers to luminance or luminance factor)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{Yuv\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.Yuv_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{Yuv\_to\_xyz}}{\emph{Yuv}, \emph{**kwargs}}{}
Convert CIE 1976 Yu’v’ chromaticity values to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{Yuv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with CIE 1976 Yu’v’ chromaticity values
(Y value refers to luminance or luminance factor)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_wuv() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_wuv}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_wuv}}{\emph{xyz}, \emph{xyzw=array({[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]})}, \emph{**kwargs}}{}
Convert XYZ tristimulus values CIE 1964 U*V*W* color space.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of white point, optional
(Defaults to luxpy.\_COLORTF\_DEFAULT\_WHITE\_POINT)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{wuv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with W*U*V* values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{wuv\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.wuv_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{wuv\_to\_xyz}}{\emph{wuv}, \emph{xyzw=array({[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]})}, \emph{**kwargs}}{}
Convert CIE 1964 U*V*W* color space coordinates to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{wuv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with W*U*V* values
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of white point, optional
(Defaults to luxpy.\_COLORTF\_DEFAULT\_WHITE\_POINT)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_xyz}}{\emph{xyz}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_lms() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_lms}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_lms}}{\emph{xyz}, \emph{cieobs='1931\_2'}, \emph{M=None}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to LMS cone fundamental responses.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS or str, optional
\end{DUlineblock}

\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Conversion matrix for xyz to lms.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: use the one defined by :cieobs:
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{lms}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with LMS cone fundamental responses
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{lms\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.lms_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{lms\_to\_xyz}}{\emph{lms}, \emph{cieobs='1931\_2'}, \emph{M=None}, \emph{**kwargs}}{}
Convert LMS cone fundamental responses to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{lms}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with LMS cone fundamental responses
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS or str, optional
\end{DUlineblock}

\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Conversion matrix for xyz to lms.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: use the one defined by :cieobs:
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_lab() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_lab}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_lab}}{\emph{xyz}, \emph{xyzw=None}, \emph{cieobs='1931\_2'}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to CIE 1976 L*a*b* (CIELAB) coordinates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating xyzw.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{lab}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with CIE 1976 L*a*b* (CIELAB) color coordinates
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{lab\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.lab_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{lab\_to\_xyz}}{\emph{lab}, \emph{xyzw=None}, \emph{cieobs='1931\_2'}, \emph{**kwargs}}{}
Convert CIE 1976 L*a*b* (CIELAB) color coordinates to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{lab}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with CIE 1976 L*a*b* (CIELAB) color coordinates
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating xyzw.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_luv() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_luv}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_luv}}{\emph{xyz}, \emph{xyzw=None}, \emph{cieobs='1931\_2'}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to CIE 1976 L*u*v* (CIELUV) coordinates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating xyzw.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{luv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with CIE 1976 L*u*v* (CIELUV) color coordinates
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{luv\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.luv_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{luv\_to\_xyz}}{\emph{luv}, \emph{xyzw=None}, \emph{cieobs='1931\_2'}, \emph{**kwargs}}{}
Convert CIE 1976 L*u*v* (CIELUVB) coordinates to XYZ tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{luv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with CIE 1976 L*u*v* (CIELUV) color coordinates
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating xyzw.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_Vrb\_mb() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_Vrb_mb}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_Vrb\_mb}}{\emph{xyz, cieobs='1931\_2', scaling={[}1, 1{]}, M=None, **kwargs}}{}
Convert XYZ tristimulus values to V,r,b (Macleod-Boynton) color coordinates.

\begin{DUlineblock}{0em}
\item[] Macleod Boynton: V = R+G, r = R/V, b = B/V
\item[] Note that R,G,B \textasciitilde{} L,M,S
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when getting the default M, which is
the xyz to lms conversion matrix.
\end{DUlineblock}

\item[{scaling}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list of scaling factors for r and b dimensions.
\end{DUlineblock}

\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Conversion matrix for going from XYZ to RGB (LMS)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None, :cieobs: determines the M (function does inversion)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{Vrb}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with V,r,b (Macleod-Boynton) color coordinates
\end{DUlineblock}

\end{description}\end{quote}

\item[{Reference:}] \leavevmode\begin{enumerate}
\item {} 
\sphinxhref{https://www.osapublishing.org/josa/abstract.cfm?uri=josa-69-8-1183}{MacLeod DI, and Boynton RM (1979).
Chromaticity diagram showing cone excitation by stimuli of equal luminance.
J. Opt. Soc. Am. 69, 1183\textendash{}1186.}

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{Vrb\_mb\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.Vrb_mb_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{Vrb\_mb\_to\_xyz}}{\emph{Vrb, cieobs='1931\_2', scaling={[}1, 1{]}, M=None, Minverted=False, **kwargs}}{}
Convert V,r,b (Macleod-Boynton) color coordinates to XYZ tristimulus values.

\begin{DUlineblock}{0em}
\item[] Macleod Boynton: V = R+G, r = R/V, b = B/V
\item[] Note that R,G,B \textasciitilde{} L,M,S
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{Vrb}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with V,r,b (Macleod-Boynton) color coordinates
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when getting the default M, which is
the xyz to lms conversion matrix.
\end{DUlineblock}

\item[{scaling}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list of scaling factors for r and b dimensions.
\end{DUlineblock}

\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Conversion matrix for going from XYZ to RGB (LMS)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None, :cieobs: determines the M (function does inversion)
\end{DUlineblock}
\end{DUlineblock}

\item[{Minverted}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Bool that determines whether M should be inverted.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Reference:}] \leavevmode\begin{enumerate}
\item {} 
\sphinxhref{https://www.osapublishing.org/josa/abstract.cfm?uri=josa-69-8-1183}{MacLeod DI, and Boynton RM (1979).
Chromaticity diagram showing cone excitation by stimuli of equal luminance.
J. Opt. Soc. Am. 69, 1183\textendash{}1186.}

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_ipt() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_ipt}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_ipt}}{\emph{xyz}, \emph{cieobs='1931\_2'}, \emph{xyzw=None}, \emph{M=None}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to IPT color coordinates.

\begin{DUlineblock}{0em}
\item[] I: Lightness axis, P, red-green axis, T: yellow-blue axis.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating xyzw for rescaling M
(only when not None).
\end{DUlineblock}

\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] None defaults to xyz to lms conversion matrix determined by :cieobs:
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{ipt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with IPT color coordinates
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
is assumed to be under D65 viewing conditions! If necessary 
perform chromatic adaptation !

\end{description}\end{quote}

\item[{Reference:}] \leavevmode\begin{enumerate}
\item {} 
\sphinxhref{http://www.ingentaconnect.com/content/ist/cic/1998/00001998/00000001/art00003?crawler=true}{Ebner F, and Fairchild MD (1998).
Development and testing of a color space (IPT) with improved hue uniformity.
In IS\&T 6th Color Imaging Conference, (Scottsdale, Arizona, USA), pp. 8\textendash{}13.}

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{ipt\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.ipt_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{ipt\_to\_xyz}}{\emph{ipt}, \emph{cieobs='1931\_2'}, \emph{xyzw=None}, \emph{M=None}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to IPT color coordinates.

\begin{DUlineblock}{0em}
\item[] I: Lightness axis, P, red-green axis, T: yellow-blue axis.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{ipt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with IPT color coordinates
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating xyzw for rescaling Mxyz2lms
(only when not None).
\end{DUlineblock}

\item[{M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] None defaults to xyz to lms conversion matrix determined by:cieobs:
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
is assumed to be under D65 viewing conditions! If necessary 
perform chromatic adaptation !

\end{description}\end{quote}

\item[{Reference:}] \leavevmode\begin{enumerate}
\item {} 
\sphinxhref{http://www.ingentaconnect.com/content/ist/cic/1998/00001998/00000001/art00003?crawler=true}{Ebner F, and Fairchild MD (1998).
Development and testing of a color space (IPT) with improved hue uniformity.
In IS\&T 6th Color Imaging Conference, (Scottsdale, Arizona, USA), pp. 8\textendash{}13.}

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_Ydlep() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_Ydlep}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_Ydlep}}{\emph{xyz}, \emph{cieobs='1931\_2'}, \emph{xyzw=array({[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]})}, \emph{**kwargs}}{}
Convert XYZ tristimulus values to Y, dominant (complementary) wavelength
and excitation purity.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating spectrum locus coordinates.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{Ydlep}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Y, dominant (complementary) wavelength
and excitation purity
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{Ydlep\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.Ydlep_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{Ydlep\_to\_xyz}}{\emph{Ydlep}, \emph{cieobs='1931\_2'}, \emph{xyzw=array({[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]})}, \emph{**kwargs}}{}
Convert Y, dominant (complementary) wavelength and excitation purity to XYZ
tristimulus values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{Ydlep}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Y, dominant (complementary) wavelength
and excitation purity
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or narray with tristimulus values of white point, optional
\item[] None defaults to xyz of CIE D65 using the :cieobs: observer.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set to use when calculating spectrum locus coordinates.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_srgb() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.xyz_to_srgb}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{xyz\_to\_srgb}}{\emph{xyz}, \emph{**kwargs}}{}
Calculates IEC:61966 sRGB values from xyz.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with relative tristimulus values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{rgb}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with R,G,B values.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{srgb\_to\_xyz() (in module luxpy.color.ctf.colortransforms)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortransforms.srgb_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortransforms.}\sphinxbfcode{srgb\_to\_xyz}}{\emph{rgb}, \emph{**kwargs}}{}
Calculates xyz from IEC:61966 sRGB values.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{rgb}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with srgb values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{xyz}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with relative tristimulus values.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\phantomsection\label{\detokenize{color:module-luxpy.color.ctf.colortf}}\index{luxpy.color.ctf.colortf (module)}

\subsubsection{Extension of basic colorimetry module}
\label{\detokenize{color:extension-of-basic-colorimetry-module}}
Global internal variables:
\begin{quote}
\begin{quote}\begin{description}
\item[{\_COLORTF\_DEFAULT\_WHITE\_POINT}] \leavevmode
ndarray with XYZ values of default white point 
(equi-energy white) for color transformation 
if none is supplied.

\end{description}\end{quote}
\end{quote}

Functions:
\begin{quote}
\begin{quote}\begin{description}
\item[{colortf()}] \leavevmode
Calculates conversion between any two color spaces (‘cspace’)
for which functions xyz\_to\_cspace() and cspace\_to\_xyz() are defined.

\end{description}\end{quote}
\end{quote}


\bigskip\hrule\bigskip

\index{colortf() (in module luxpy.color.ctf.colortf)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.ctf.colortf.colortf}}\pysiglinewithargsret{\sphinxcode{luxpy.color.ctf.colortf.}\sphinxbfcode{colortf}}{\emph{data}, \emph{tf='Yuv'}, \emph{fwtf=\{\}}, \emph{bwtf=\{\}}, \emph{**kwargs}}{}
Wrapper function to perform various color transformations.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray
\end{DUlineblock}

\item[{tf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CSPACE or str specifying transform type, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] E.g. tf = ‘spd\textgreater{}xyz’ or ‘spd\textgreater{}Yuv’ or ‘Yuv\textgreater{}cct’ 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or ‘Yuv’ or ‘Yxy’ or …
\end{DUlineblock}
\end{DUlineblock}
\item[] If tf is for example ‘Yuv’, it is assumed to be a transformation 
of type: ‘xyz\textgreater{}Yuv’
\end{DUlineblock}
\end{DUlineblock}

\item[{fwtf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with parameters (keys) and values required 
by some color transformations for the forward transform: 
\item[] i.e. ‘xyz\textgreater{}…’
\end{DUlineblock}

\item[{bwtf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with parameters (keys) and values required 
by some color transformations for the backward transform: 
\item[] i.e. ‘…\textgreater{}xyz’
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with data transformed to new color space
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
For the forward transform (‘xyz\textgreater{}…’), one can input the keyword 
arguments specifying the transform parameters directly without having 
to use the dict :fwtf: (should be empty!) 
{[}i.e. kwargs overwrites empty fwtf dict{]}

\end{description}

\end{fulllineitems}



\subsection{cct/}
\label{\detokenize{color:cct}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
cct.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.cct}}\index{luxpy.color.cct (module)}

\subsubsection{cct: Module with functions related to correlated color temperature calculations}
\label{\detokenize{color:cct-module-with-functions-related-to-correlated-color-temperature-calculations}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_CCT\_LUT\_PATH}] \leavevmode
Folder with Look-Up-Tables (LUT) for correlated color 
temperature calculation followings Ohno’s method.

\item[{\_CCT\_LUT}] \leavevmode
Dict with LUTs.

\item[{\_CCT\_LUT\_CALC}] \leavevmode
Boolean determining whether to force LUT calculation, even if
the LUT can be fuond in ./data/cctluts/.

\item[{calculate\_lut()}] \leavevmode
Function that calculates the LUT for the ccts stored in 
./data/cctluts/cct\_lut\_cctlist.dat or given as input 
argument. Calculation is performed for CMF set specified in
cieobs. Adds a new (temprorary) field to the \_CCT\_LUT dict.

\item[{calculate\_luts()}] \leavevmode
Function that recalculates (and overwrites) LUTs in 
./data/cctluts/ for the ccts stored in 
./data/cctluts/cct\_lut\_cctlist.dat or given as input 
argument. Calculation is performed for all CMF sets listed 
in \_CMF{[}‘types’{]}.

\item[{xyz\_to\_cct()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculates CCT, Duv from XYZ 
\item[] wrapper for xyz\_to\_cct\_ohno() \& xyz\_to\_cct\_search()
\end{DUlineblock}

\item[{xyz\_to\_duv()}] \leavevmode
Calculates Duv, (CCT) from XYZ
wrapper for xyz\_to\_cct\_ohno() \& xyz\_to\_cct\_search()

\item[{cct\_to\_xyz()}] \leavevmode
Calculates xyz from CCT, Duv {[}100 K \textless{} CCT \textless{} 10**20{]}

\item[{xyz\_to\_cct\_mcamy()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculates CCT from XYZ using Mcamy model:
\item[] \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.5080170211/abstract}{McCamy, Calvin S. (April 1992). 
Correlated color temperature as an explicit function of 
chromaticity coordinates. 
Color Research \& Application. 17 (2): 142\textendash{}144.}
\end{DUlineblock}

\item[{xyz\_to\_cct\_HA()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculate CCT from XYZ using Hernández-Andrés et al. model.
\item[] \sphinxhref{https://www.osapublishing.org/ao/abstract.cfm?uri=ao-38-27-5703}{Hernández-Andrés, Javier; Lee, RL; Romero, J (September 20, 1999). 
Calculating Correlated Color Temperatures Across the 
Entire Gamut of Daylight and Skylight Chromaticities. 
Applied Optics. 38 (27), 5703\textendash{}5709. PMID 18324081.}
\end{DUlineblock}

\item[{xyz\_to\_cct\_ohno()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculates CCT, Duv from XYZ using a LUT following:
\item[] \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2014.839020}{Ohno Y. (2014)
Practical use and calculation of CCT and Duv. 
Leukos. 2014 Jan 2;10(1):47-55.}
\end{DUlineblock}

\item[{xyz\_to\_cct\_search()}] \leavevmode
Calculates CCT, Duv from XYZ using brute-force search 
algorithm (between 1e2 K - 1e20 K on a log scale)

\item[{cct\_to\_mired()}] \leavevmode
Converts from CCT to Mired scale (or back).

\end{description}\end{quote}
\end{quote}


\bigskip\hrule\bigskip

\index{calculate\_luts() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.calculate_luts}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{calculate\_luts}}{\emph{ccts=None}}{}
Function that recalculates (and overwrites) LUTs in ./data/cctluts/ 
for the ccts stored in ./data/cctluts/cct\_lut\_cctlist.dat or given as 
input argument. Calculation is performed for all CMF sets listed 
in \_CMF{[}‘types’{]}.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{ccts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray or str, optional
\item[] List of ccts for which to (re-)calculate the LUTs.
\item[] If str, ccts contains path/filename.dat to list.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None
\end{DUlineblock}

\item[{Note:}] \leavevmode
Function writes LUTs to ./data/cctluts/ folder!

\end{description}

\end{fulllineitems}

\index{xyz\_to\_cct() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.xyz_to_cct}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{xyz\_to\_cct}}{\emph{xyzw}, \emph{cieobs='1931\_2'}, \emph{out='cct'}, \emph{mode='lut'}, \emph{wl=None}, \emph{accuracy=0.1}, \emph{force\_out\_of\_lut=True}, \emph{upper\_cct\_max=1e+20}, \emph{approx\_cct\_temp=True}}{}
Convert XYZ tristimulus values to correlated color temperature (CCT) and
Duv (distance above (\textgreater{}0) or below (\textless{}0) the Planckian locus)
using either the brute-force search method or Ohno’s method.

\begin{DUlineblock}{0em}
\item[] Wrapper function for use with luxpy.colortf().
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set used to calculated xyzw.
\end{DUlineblock}

\item[{mode}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘lut’ or ‘search’, optional
\item[] Determines what method to use.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cct’ (or 1), optional
\item[] Determines what to return.
\item[] Other options: ‘duv’ (or -1), ‘cct,duv’(or 2), “{[}cct,duv{]}” (or -2)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths used when calculating Planckian radiators.
\end{DUlineblock}

\item[{accuracy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] Stop brute-force search when cct :accuracy: is reached.
\end{DUlineblock}

\item[{upper\_cct\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10.0**20, optional
\item[] Limit brute-force search to this cct.
\end{DUlineblock}

\item[{approx\_cct\_temp}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True: use xyz\_to\_cct\_HA() to get a first estimate of cct to 
speed up search.
\end{DUlineblock}

\item[{force\_out\_of\_lut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True and cct is out of range of the LUT, then switch to 
brute-force search method, else return numpy.nan values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] cct: out == ‘cct’ (or 1)
\end{DUlineblock}
\item[] Optional: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] duv: out == ‘duv’ (or -1), 
\end{DUlineblock}
\item[] cct, duv: out == ‘cct,duv’ (or 2), 
\item[] {[}cct,duv{]}: out == “{[}cct,duv{]}” (or -2)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_duv() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.xyz_to_duv}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{xyz\_to\_duv}}{\emph{xyzw}, \emph{cieobs='1931\_2'}, \emph{out='duv'}, \emph{mode='lut'}, \emph{wl=None}, \emph{accuracy=0.1}, \emph{force\_out\_of\_lut=True}, \emph{upper\_cct\_max=1e+20}, \emph{approx\_cct\_temp=True}}{}
Convert XYZ tristimulus values to Duv (distance above (\textgreater{}0) or below (\textless{}0) 
the Planckian locus) and correlated color temperature (CCT) values
using either the brute-force search method or Ohno’s method.

\begin{DUlineblock}{0em}
\item[] Wrapper function for use with luxpy.colortf().
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set used to calculated xyzw.
\end{DUlineblock}

\item[{mode}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘lut’ or ‘search’, optional
\item[] Determines what method to use.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘duv’ (or 1), optional
\item[] Determines what to return.
\item[] Other options: ‘duv’ (or -1), ‘cct,duv’(or 2), “{[}cct,duv{]}” (or -2)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths used when calculating Planckian radiators.
\end{DUlineblock}

\item[{accuracy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] Stop brute-force search when cct :accuracy: is reached.
\end{DUlineblock}

\item[{upper\_cct\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10.0**20, optional
\item[] Limit brute-force search to this cct.
\end{DUlineblock}

\item[{approx\_cct\_temp}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True: use xyz\_to\_cct\_HA() to get a first estimate of cct 
to speed up search.
\end{DUlineblock}

\item[{force\_out\_of\_lut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True and cct is out of range of the LUT, then switch to 
brute-force search method, else return numpy.nan values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] duv: out == ‘duv’ (or -1)
\end{DUlineblock}
\item[] Optional: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] duv: out == ‘duv’ (or -1), 
\item[] cct, duv: out == ‘cct,duv’ (or 2), 
\item[] {[}cct,duv{]}: out == “{[}cct,duv{]}” (or -2)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{cct\_to\_xyz() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.cct_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{cct\_to\_xyz}}{\emph{ccts}, \emph{duv=None}, \emph{cieobs='1931\_2'}, \emph{wl=None}, \emph{mode='lut'}, \emph{out=None}, \emph{accuracy=0.1}, \emph{force\_out\_of\_lut=True}, \emph{upper\_cct\_max=200.0}, \emph{approx\_cct\_temp=True}}{}
Convert correlated color temperature (CCT) and Duv (distance above (\textgreater{}0) or 
below (\textless{}0) the Planckian locus) to XYZ tristimulus values.

\begin{DUlineblock}{0em}
\item[] Finds xyzw\_estimated by minimization of:
\item[] 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] F = numpy.sqrt(((100.0*(cct\_min - cct)/(cct))**2.0) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] + (((duv\_min - duv)/(duv))**2.0))
\item[] 
\end{DUlineblock}
\end{DUlineblock}
\item[] with cct,duv the input values and cct\_min, duv\_min calculated using 
\item[] luxpy.xyz\_to\_cct(xyzw\_estimated,…).
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{ccts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of cct values
\end{DUlineblock}

\item[{duv}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray of duv values, optional
\item[] Note that duv can be supplied together with cct values in :ccts: 
as ndarray with shape (N,2)
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set used to calculated xyzw.
\end{DUlineblock}

\item[{mode}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘lut’ or ‘search’, optional
\item[] Determines what method to use.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None (or 1), optional
\item[] If not None or 1: output a ndarray that contains estimated 
xyz and minimization results: 
\item[] (cct\_min, duv\_min, F\_min (objective fcn value))
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths used when calculating Planckian radiators.
\end{DUlineblock}

\item[{accuracy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] Stop brute-force search when cct :accuracy: is reached.
\end{DUlineblock}

\item[{upper\_cct\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10.0**20, optional
\item[] Limit brute-force search to this cct.
\end{DUlineblock}

\item[{approx\_cct\_temp}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True: use xyz\_to\_cct\_HA() to get a first estimate of cct to 
speed up search.
\end{DUlineblock}

\item[{force\_out\_of\_lut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True and cct is out of range of the LUT, then switch to 
brute-force search method, else return numpy.nan values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with estimated XYZ tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
If duv is not supplied (:ccts:.shape is (N,1) and :duv: is None), 
source is assumed to be on the Planckian locus.

\end{description}

\end{fulllineitems}

\index{cct\_to\_mired() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.cct_to_mired}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{cct\_to\_mired}}{\emph{data}}{}
Convert cct to Mired scale (or back).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with cct or Mired values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray ((10**6) / data)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_cct\_ohno() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.xyz_to_cct_ohno}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{xyz\_to\_cct\_ohno}}{\emph{xyzw}, \emph{cieobs='1931\_2'}, \emph{out='cct'}, \emph{wl=None}, \emph{accuracy=0.1}, \emph{force\_out\_of\_lut=True}, \emph{upper\_cct\_max=1e+20}, \emph{approx\_cct\_temp=True}}{}
Convert XYZ tristimulus values to correlated color temperature (CCT) and 
Duv (distance above (\textgreater{}0) or below (\textless{}0) the Planckian locus) 
using Ohno’s method.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set used to calculated xyzw.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cct’ (or 1), optional
\item[] Determines what to return.
\item[] Other options: ‘duv’ (or -1), ‘cct,duv’(or 2), “{[}cct,duv{]}” (or -2)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths used when calculating Planckian radiators.
\end{DUlineblock}

\item[{accuracy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] Stop brute-force search when cct :accuracy: is reached.
\end{DUlineblock}

\item[{upper\_cct\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10.0**20, optional
\item[] Limit brute-force search to this cct.
\end{DUlineblock}

\item[{approx\_cct\_temp}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True: use xyz\_to\_cct\_HA() to get a first estimate of cct 
to speed up search.
\end{DUlineblock}

\item[{force\_out\_of\_lut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True and cct is out of range of the LUT, then switch to 
brute-force search method, else return numpy.nan values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] cct: out == ‘cct’ (or 1)
\item[] duv: out == ‘duv’ (or -1)
\item[] cct, duv: out == ‘cct,duv’ (or 2)
\item[] {[}cct,duv{]}: out == “{[}cct,duv{]}” (or -2) 
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
LUTs are stored in ./data/cctluts/

\item[{Reference:}] \leavevmode
1. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2014.839020}{Ohno Y. Practical use and calculation of CCT and Duv. 
Leukos. 2014 Jan 2;10(1):47-55.}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_cct\_search() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.xyz_to_cct_search}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{xyz\_to\_cct\_search}}{\emph{xyzw}, \emph{cieobs='1931\_2'}, \emph{out='cct'}, \emph{wl=None}, \emph{accuracy=0.1}, \emph{upper\_cct\_max=1e+20}, \emph{approx\_cct\_temp=True}}{}
Convert XYZ tristimulus values to correlated color temperature (CCT) and 
Duv(distance above (\textgreater{} 0) or below ( \textless{} 0) the Planckian locus) by a 
brute-force search.

\begin{DUlineblock}{0em}
\item[] The algorithm uses an approximate cct\_temp (HA approx., see xyz\_to\_cct\_HA) 
as starting point or uses the middle of the allowed cct-range 
(1e2 K - 1e20 K, higher causes overflow) on a log-scale, then constructs 
a 4-step section of the blackbody (Planckian) locus on which to find the
minimum distance to the 1960 uv chromaticity of the test source.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_CIEOBS, optional
\item[] CMF set used to calculated xyzw.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cct’ (or 1), optional
\item[] Determines what to return.
\item[] Other options: ‘duv’ (or -1), ‘cct,duv’(or 2), “{[}cct,duv{]}” (or -2)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths used when calculating Planckian radiators.
\end{DUlineblock}

\item[{accuracy}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float, optional
\item[] Stop brute-force search when cct :accuracy: is reached.
\end{DUlineblock}

\item[{upper\_cct\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10.0**20, optional
\item[] Limit brute-force search to this cct.
\end{DUlineblock}

\item[{approx\_cct\_temp}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True: use xyz\_to\_cct\_HA() to get a first estimate of cct to 
speed up search.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] cct: out == ‘cct’ (or 1)
\item[] duv: out == ‘duv’ (or -1)
\item[] cct, duv: out == ‘cct,duv’ (or 2)
\item[] {[}cct,duv{]}: out == “{[}cct,duv{]}” (or -2) 
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes:}] \leavevmode
This program is more accurate, but slower than xyz\_to\_cct\_ohno!
Note that cct must be between 1e3 K - 1e20 K 
(very large cct take a long time!!!)

\end{description}

\end{fulllineitems}

\index{xyz\_to\_cct\_HA() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.xyz_to_cct_HA}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{xyz\_to\_cct\_HA}}{\emph{xyzw}}{}
Convert XYZ tristimulus values to correlated color temperature (CCT).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{cct}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of correlated color temperatures estimates
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.osapublishing.org/ao/abstract.cfm?uri=ao-38-27-5703}{Hernández-Andrés, Javier; Lee, RL; Romero, J (September 20, 1999). 
Calculating Correlated Color Temperatures Across the Entire Gamut 
of Daylight and Skylight Chromaticities.
Applied Optics. 38 (27), 5703\textendash{}5709. P}

\item[{Notes: }] \leavevmode
According to paper small error from 3000 - 800 000 K, but a test with 
Planckians showed errors up to 20\% around 500 000 K; 
e\textgreater{}0.05 for T\textgreater{}200 000, e\textgreater{}0.1 for T\textgreater{}300 000, …

\end{description}

\end{fulllineitems}

\index{xyz\_to\_cct\_mcamy() (in module luxpy.color.cct)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cct.xyz_to_cct_mcamy}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cct.}\sphinxbfcode{xyz\_to\_cct\_mcamy}}{\emph{xyzw}}{}
Convert XYZ tristimulus values to correlated color temperature (CCT) using 
the mccamy approximation.

\begin{DUlineblock}{0em}
\item[] Only valid for approx. 3000 \textless{} T \textless{} 9000, if \textless{} 6500, error \textless{} 2 K.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{cct}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of correlated color temperatures estimates
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.5080170211/abstract}{McCamy, Calvin S. (April 1992). 
“Correlated color temperature as an explicit function of 
chromaticity coordinates”.
Color Research \& Application. 17 (2): 142\textendash{}144.}

\end{description}

\end{fulllineitems}



\subsection{cat/}
\label{\detokenize{color:cat}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
chromaticadaptation.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.cat

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.cat}}\index{luxpy.color.cat (module)}

\subsubsection{cat: Module supporting chromatic adaptation transforms (corresponding colors)}
\label{\detokenize{color:cat-module-supporting-chromatic-adaptation-transforms-corresponding-colors}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_WHITE\_POINT}] \leavevmode
default adopted white point

\item[{\_LA}] \leavevmode
default luminance of the adaptation field

\item[{\_MCATS}] \leavevmode
default chromatic adaptation sensor spaces
\begin{itemize}
\item {} 
‘hpe’: Hunt-Pointer-Estevez: R. W. G. Hunt, The Reproduction of Colour: Sixth Edition, 6th ed. Chichester, UK: John Wiley \& Sons Ltd, 2004.

\item {} 
‘cat02’: from ciecam02: \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20198/abstract}{CIE159-2004, “A Colour Apperance Model for Color Management System: CIECAM02,” CIE, Vienna, 2004.}

\item {} 
‘cat02-bs’:  cat02 adjusted to solve yellow-blue problem (last line = {[}0 0 1{]}): \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20432/abstract}{Brill MH, Süsstrunk S. Repairing gamut problems in CIECAM02: A progress report. Color Res Appl 2008;33(5), 424\textendash{}426.}

\item {} 
‘cat02-jiang’: cat02 modified to solve yb-probem + purple problem: \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.21921/abstract}{Jun Jiang, Zhifeng Wang,M. Ronnier Luo,Manuel Melgosa,Michael H. Brill,Changjun Li, Optimum solution of the CIECAM02 yellow\textendash{}blue and purple problems, Color Res Appl 2015: 40(5), 491-503.}

\item {} 
‘kries’

\item {} 
‘judd-1945’: from \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=436}{CIE16-2004}, Eq.4, a23 modified from 0.1 to 0.1020 for increased accuracy

\item {} 
‘bfd’: bradford transform :  \sphinxhref{https://infoscience.epfl.ch/record/34077}{G. D. Finlayson and S. Susstrunk, “Spectral sharpening and the Bradford transform,” 2000, vol. Proceeding, pp. 236\textendash{}242.}

\item {} 
‘sharp’: sharp transform:  \sphinxhref{http://proceedings.spiedigitallibrary.org/proceeding.aspx?articleid=903890}{S. Süsstrunk, J. Holm, and G. D. Finlayson, “Chromatic adaptation performance of different RGB sensors,” IS\&T/SPIE Electronic Imaging 2001: Color Imaging, vol. 4300. San Jose, CA, January, pp. 172\textendash{}183, 2001.}

\item {} 
‘cmc’:  \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.10005/abstract}{C. Li, M. R. Luo, B. Rigg, and R. W. G. Hunt, “CMC 2000 chromatic adaptation transform: CMCCAT2000,” Color Res. Appl., vol. 27, no. 1, pp. 49\textendash{}58, 2002.}

\item {} 
‘ipt’:  \sphinxhref{http://www.ingentaconnect.com/content/ist/cic/1998/00001998/00000001/art00003?crawler=true}{F. Ebner and M. D. Fairchild, “Development and testing of a color space (IPT) with improved hue uniformity,” in IS\&T 6th Color Imaging Conference, 1998, pp. 8\textendash{}13.}

\item {} 
‘lms’:

\item {} 
‘bianco’:  \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20573/full}{S. Bianco and R. Schettini, “Two new von Kries based chromatic adaptation transforms found by numerical optimization,” Color Res. Appl., vol. 35, no. 3, pp. 184\textendash{}192, 2010.}

\item {} 
‘bianco-pc’:  \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20573/full}{S. Bianco and R. Schettini, “Two new von Kries based chromatic adaptation transforms found by numerical optimization,” Color Res. Appl., vol. 35, no. 3, pp. 184\textendash{}192, 2010.}

\item {} 
‘cat16’: \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.22131/abstract}{C. Li, Z. Li, Z. Wang, Y. Xu, M. R. Luo, G. Cui, M. Melgosa, M. H. Brill, and M. Pointer, “Comprehensive color solutions: CAM16, CAT16, and CAM16-UCS,” Color Res. Appl., p. n/a\textendash{}n/a.}

\end{itemize}

\item[{check\_dimensions()}] \leavevmode
Check if dimensions of data and xyzw match.

\item[{get\_transfer\_function()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculate the chromatic adaptation diagonal matrix 
transfer function Dt.  
\item[] Default = ‘vonkries’ (others: ‘rlab’, see Fairchild 1990)
\end{DUlineblock}

\item[{smet2017\_D()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculate the degree of adaptation based on chromaticity. 
\item[] \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-25-7-8350\&origin=search}{Smet, K.A.G.*, Zhai, Q., Luo, M.R., Hanselaer, P., (2017),
Study of chromatic adaptation using memory color matches, 
Part II: colored illuminants.
Opt. Express, 25(7), pp. 8350-8365}
\end{DUlineblock}

\item[{get\_degree\_of\_adaptation()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculates the degree of adaptation. 
\item[] D passes either right through or D is 
calculated following some D-function (Dtype) 
published in literature (cat02, cat16, cmccat, 
smet2017) or set manually.
\end{DUlineblock}

\item[{parse\_x1x2\_parameters()}] \leavevmode
local helper function that parses input parameters 
and makes them the target\_shape for easy calculation

\item[{apply()}] \leavevmode
Calculate corresponding colors by applying a von Kries chromatic 
adaptation transform (CAT), i.e. independent rescaling of 
‘sensor sensitivity’ to data to adapt from current adaptation 
conditions (1) to the new conditions (2).

\end{description}\end{quote}
\end{quote}


\bigskip\hrule\bigskip

\index{check\_dimensions() (in module luxpy.color.cat)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cat.check_dimensions}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cat.}\sphinxbfcode{check\_dimensions}}{\emph{data}, \emph{xyzw}, \emph{caller='cat.apply()'}}{}
Check if dimensions of data and xyzw match.

\begin{DUlineblock}{0em}
\item[] Does nothing when they do, but raises error if dimensions don’t match.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color data.
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with white point tristimulus values.
\end{DUlineblock}

\item[{caller}] \leavevmode
\begin{DUlineblock}{0em}
\item[] str with caller function for error handling, optional
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with input color data, 
\item[] Raises error if dimensions don’t match.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{get\_transfer\_function() (in module luxpy.color.cat)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cat.get_transfer_function}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cat.}\sphinxbfcode{get\_transfer\_function}}{\emph{cattype='vonkries'}, \emph{catmode='1\textgreater{}0\textgreater{}2'}, \emph{lmsw1=None}, \emph{lmsw2=None}, \emph{lmsw0=array({[}{[}100}, \emph{100}, \emph{100{]}{]})}, \emph{D10=1.0}, \emph{D20=1.0}, \emph{La1=100.0}, \emph{La2=100.0}, \emph{La0=100.0}}{}
Calculate the chromatic adaptation diagonal matrix transfer function Dt.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cattype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘vonkries’ (others: ‘rlab’, see Farchild 1990), optional
\end{DUlineblock}

\item[{catmode}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘1\textgreater{}0\textgreater{}2, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘1\textgreater{}0\textgreater{}2’: Two-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from illuminant 1 to baseline illuminant 0 to illuminant 2.
\end{DUlineblock}
\item[] -‘1\textgreater{}0’: One-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from illuminant 1 to baseline illuminant 0.
\end{DUlineblock}
\item[] -‘0\textgreater{}2’: One-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from baseline illuminant 0 to illuminant 2. 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{lmsw1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, depending on :catmode: optional
\end{DUlineblock}

\item[{lmsw2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, depending on :catmode: optional
\end{DUlineblock}

\item[{lmsw0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WHITE\_POINT, optional
\end{DUlineblock}

\item[{D10}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1.0, optional
\item[] Degree of adaptation for ill. 1 to ill. 0
\end{DUlineblock}

\item[{D20}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1.0, optional
\item[] Degree of adaptation for ill. 2 to ill. 0
\end{DUlineblock}

\item[{La1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_LA, optional
\item[] Adapting luminance under ill. 1
\end{DUlineblock}

\item[{La2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_LA, optional
\item[] Adapting luminance under ill. 2
\end{DUlineblock}

\item[{La0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.\_LA, optional
\item[] Adapting luminance under baseline ill. 0
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{Dt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray (diagonal matrix)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{get\_degree\_of\_adaptation() (in module luxpy.color.cat)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cat.get_degree_of_adaptation}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cat.}\sphinxbfcode{get\_degree\_of\_adaptation}}{\emph{Dtype=None}, \emph{**kwargs}}{}
Calculates the degree of adaptation according to some function 
published in literature.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{Dtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: kwargs should contain ‘D’ with value.
\item[] If ‘manual: kwargs should contain ‘D’ with value.
\end{DUlineblock}
\item[] If ‘cat02’ or ‘cat16’: kwargs should contain keys ‘F’ and ‘La’.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Calculate D according to CAT02 or CAT16 model:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] D = F*(1-(1/3.6)*numpy.exp((-La-42)/92))
\end{DUlineblock}
\end{DUlineblock}
\item[] If ‘cmc’: kwargs should contain ‘La’, ‘La0’(or ‘La2’) and ‘order’  
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] for ‘order’ = ‘1\textgreater{}0’: ‘La’ is set La1 and ‘La0’ to La0.
\item[] for ‘order’ = ‘0\textgreater{}2’: ‘La’ is set La0 and ‘La0’ to La1.
\item[] for ‘order’ = ‘1\textgreater{}2’: ‘La’ is set La1 and ‘La2’ to La0.
\item[] D is calculated as follows:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] D = 0.08*numpy.log10(La1+La0)+0.76-0.45*(La1-La0)/(La1+La0)
\end{DUlineblock}
\end{DUlineblock}
\item[] If ‘smet2017’: kwargs should contain ‘xyzw’ and ‘Dmax’
(see Smet2017\_D for more details).
\item[] If “? user defined”, then D is calculated by:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] D = ndarray(eval(:Dtype:))  
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{D}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with degree of adaptation values.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes:}] \leavevmode\begin{enumerate}
\item {} 
D passes either right through or D is calculated following some 
D-function (Dtype) published in literature.

\item {} 
D is limited to values between zero and one

\item {} 
If kwargs do not contain the required parameters, 
an exception is raised.

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{smet2017\_D() (in module luxpy.color.cat)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cat.smet2017_D}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cat.}\sphinxbfcode{smet2017\_D}}{\emph{xyzw}, \emph{Dmax=None}, \emph{cieobs='1964\_10'}}{}
Calculate the degree of adaptation based on chromaticity following 
Smet et al. (2017)
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with white point data
\end{DUlineblock}

\item[{Dmax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or float, optional
\item[] Defaults to 0.6539 (max D obtained under experimental conditions, 
but probably too low due to dark surround leading to incomplete 
chromatic adaptation even for neutral illuminants 
resulting in background luminance (fov\textasciitilde{}50Â°) of 760 cd/mÂ\(\sp{\text{2}}\)))
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘1964\_10’, optional
\item[] CMF set used in deriving model in cited paper.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{D}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with degrees of adaptation
\end{DUlineblock}

\end{description}\end{quote}

\item[{References: }] \leavevmode
1. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-25-7-8350\&origin=search)}{Smet, K.A.G.*, Zhai, Q., Luo, M.R., Hanselaer, P., (2017), 
Study of chromatic adaptation using memory color matches, 
Part II: colored illuminants, 
Opt. Express, 25(7), pp. 8350-8365.}

\end{description}

\end{fulllineitems}

\index{parse\_x1x2\_parameters() (in module luxpy.color.cat)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cat.parse_x1x2_parameters}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cat.}\sphinxbfcode{parse\_x1x2\_parameters}}{\emph{x, target\_shape, catmode, expand\_2d\_to\_3d=None, default={[}1.0, 1.0{]}}}{}
Parse input parameters x and make them the target\_shape for easy calculation.

\begin{DUlineblock}{0em}
\item[] Input in main function can now be a single value valid for all xyzw or 
an array with a different value for each xyzw.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list{[}float, float{]} or ndarray
\end{DUlineblock}

\item[{target\_shape}] \leavevmode
\begin{DUlineblock}{0em}
\item[] tuple with shape information
\end{DUlineblock}

\item[{catmode}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘1\textgreater{}0\textgreater{}2, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘1\textgreater{}0\textgreater{}2’: Two-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from illuminant 1 to baseline illuminant 0 to illuminant 2.
\end{DUlineblock}
\item[] -‘1\textgreater{}0’: One-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from illuminant 1 to baseline illuminant 0.
\end{DUlineblock}
\item[] -‘0\textgreater{}2’: One-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from baseline illuminant 0 to illuminant 2. 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{expand\_2d\_to\_3d}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional 
\item[] {[}will be removed in future, serves no purpose{]}
\item[] Expand :x: from 2 to 3 dimensions.
\end{DUlineblock}

\item[{default}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}1.0,1.0{]}, optional
\item[] Default values for :x:
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (ndarray, ndarray) for x10 and x20
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{apply() (in module luxpy.color.cat)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cat.apply}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cat.}\sphinxbfcode{apply}}{\emph{data, catmode='1\textgreater{}0\textgreater{}2', cattype='vonkries', xyzw1=None, xyzw2=None, xyzw0=None, D=None, mcat={[}'cat02'{]}, normxyz0=None, outtype='xyz', La=None, F=None, Dtype=None}}{}
Calculate corresponding colors by applying a von Kries chromatic adaptation
transform (CAT), i.e. independent rescaling of ‘sensor sensitivity’ to data
to adapt from current adaptation conditions (1) to the new conditions (2).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of tristimulus values (can be NxMx3)
\end{DUlineblock}

\item[{catmode}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘1\textgreater{}0\textgreater{}2, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘1\textgreater{}0\textgreater{}2’: Two-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from illuminant 1 to baseline illuminant 0 to illuminant 2.
\end{DUlineblock}
\item[] -‘1\textgreater{}0’: One-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from illuminant 1 to baseline illuminant 0.
\end{DUlineblock}
\item[] -‘0\textgreater{}2’: One-step CAT 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] from baseline illuminant 0 to illuminant 2. 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{cattype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘vonkries’ (others: ‘rlab’, see Farchild 1990), optional
\end{DUlineblock}

\item[{xyzw1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, depending on :catmode: optional (can be Mx3)
\end{DUlineblock}

\item[{xyzw2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, depending on :catmode: optional (can be Mx3)
\end{DUlineblock}

\item[{xyzw0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, depending on :catmode: optional (can be Mx3)
\end{DUlineblock}

\item[{D}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Degrees of adaptation. Defaults to {[}1.0, 1.0{]}. 
\end{DUlineblock}

\item[{La}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Adapting luminances. 
\item[] If None: xyz values are absolute or relative.
\item[] If not None: xyz are relative. 
\end{DUlineblock}

\item[{F}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Surround parameter(s) for CAT02/CAT16 calculations 
(:Dtype: == ‘cat02’ or ‘cat16’)
\item[] Defaults to {[}1.0, 1.0{]}. 
\end{DUlineblock}

\item[{Dtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Type of degree of adaptation function from literature
\item[] See luxpy.cat.get\_degree\_of\_adaptation()
\end{DUlineblock}

\item[{mcat}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}‘cat02’{]}, optional
\item[] List{[}str{]} or List{[}ndarray{]} of sensor space matrices for each 
condition pair. If len(:mcat:) == 1, the same matrix is used.
\end{DUlineblock}

\item[{normxyz0}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Set of xyz tristimulus values to normalize the sensor space matrix to.
\end{DUlineblock}

\item[{outtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘xyz’ or ‘lms’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘xyz’: return corresponding tristimulus values 
\item[] - ‘lms’: return corresponding sensor space excitation values 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (e.g. for further calculations) 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with corresponding colors
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\subsection{cam/}
\label{\detokenize{color:cam}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
colorappearancemodels.py

\item {} 
cam\_02\_X.py

\item {} 
cam15u

\item {} 
sww2016.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.cam

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.cam}}\index{luxpy.color.cam (module)}

\subsubsection{cam: sub-package with color appearance models}
\label{\detokenize{color:cam-sub-package-with-color-appearance-models}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_UNIQUE\_HUE\_DATA}] \leavevmode
database of unique hues with corresponding 
Hue quadratures and eccentricity factors 
for ciecam02, cam16, ciecam97s, cam15u)

\item[{\_SURROUND\_PARAMETERS}] \leavevmode
database of surround param. c, Nc, F and FLL 
for ciecam02, cam16, ciecam97s and cam15u.

\item[{\_NAKA\_RUSHTON\_PARAMETERS}] \leavevmode
\begin{DUlineblock}{0em}
\item[] database with parameters 
(n, sig, scaling and noise) 
for the Naka-Rushton function: 
\item[] scaling * ((data**n) / ((data**n) + (sig**n))) + noise
\end{DUlineblock}

\item[{\_CAM\_02\_X\_UCS\_PARAMETERS}] \leavevmode
\begin{DUlineblock}{0em}
\item[] database with parameters specifying the conversion 
from ciecam02/cam16 to:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] cam{[}x{]}ucs (uniform color space), 
\item[] cam{[}x{]}lcd (large color diff.), 
\item[] cam{[}x{]}scd (small color diff).
\end{DUlineblock}
\end{DUlineblock}

\item[{\_CAM15U\_PARAMETERS}] \leavevmode
database with CAM15u model parameters.

\item[{\_CAM\_SWW16\_PARAMETERS}] \leavevmode
cam\_sww16 model parameters.

\item[{\_CAM\_DEFAULT\_WHITE\_POINT}] \leavevmode
Default internal reference white point (xyz)

\item[{\_CAM\_DEFAULT\_TYPE}] \leavevmode
Default CAM type str specifier.

\item[{\_CAM\_DEFAULT\_MCAT}] \leavevmode
Default MCAT specifier.

\item[{\_CAM\_02\_X\_DEFAULT\_CONDITIONS}] \leavevmode
Default CAM model parameters for model 
in cam.\_CAM\_DEFAULT\_TYPE

\item[{\_CAM\_AXES}] \leavevmode
dict with list{[}str,str,str{]} containing axis labels 
of defined cspaces.

\item[{naka\_rushton()}] \leavevmode
applies a Naka-Rushton function to the input

\item[{hue\_angle()}] \leavevmode
calculates a positive hue angle

\item[{hue\_quadrature()}] \leavevmode
calculates the Hue quadrature from the hue.

\item[{cam\_structure\_ciecam02\_cam16()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] basic structure of ciecam02 and cam16 models.
\item[] Has ‘forward’ (xyz \textendash{}\textgreater{} color attributes) 
and ‘inverse’ (color attributes \textendash{}\textgreater{} xyz) modes.
\end{DUlineblock}

\item[{ciecam02()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] calculates ciecam02 output 
\item[] (wrapper for cam\_structure\_ciecam02\_cam16 with specifics 
of ciecam02): 
\item[] \sphinxhref{http://rit-mcsl.org/fairchild/PDFs/PRO19.pdf}{N. Moroney, M. D. Fairchild, R. W. G. Hunt, C. Li, M. R. Luo, and T. Newman, 
“The CIECAM02 color appearance model,” 
IS\&T/SID Tenth Color Imaging Conference. p. 23, 2002.}
\end{DUlineblock}

\item[{cam16()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] calculates cam16 output 
\item[] (wrapper for cam\_structure\_ciecam02\_cam16 with specifics 
of cam16):  
\item[] \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.22131/abstract}{C. Li, Z. Li, Z. Wang, Y. Xu, M. R. Luo, G. Cui, M. Melgosa, M. H. Brill, and M. Pointer, 
“Comprehensive color solutions: CAM16, CAT16, and CAM16-UCS,” 
Color Res. Appl., p. n/a\textendash{}n/a.}
\end{DUlineblock}

\item[{camucs\_structure()}] \leavevmode
basic structure to go to ucs, lcd and scd color spaces 
(forward + inverse available)

\item[{cam02ucs()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] calculates ucs (or lcd, scd) output based on ciecam02 
(forward + inverse available)
\item[] \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20227/abstract}{M. R. Luo, G. Cui, and C. Li, 
“Uniform colour spaces based on CIECAM02 colour appearance model,” 
Color Res. Appl., vol. 31, no. 4, pp. 320\textendash{}330, 2006.}
\end{DUlineblock}

\item[{cam16ucs()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] calculates ucs (or lcd, scd) output based on cam16 
(forward + inverse available)
\item[] \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.22131/abstract}{C. Li, Z. Li, Z. Wang, Y. Xu, M. R. Luo, G. Cui, M. Melgosa, M. H. Brill, and M. Pointer, 
“Comprehensive color solutions: CAM16, CAT16, and CAM16-UCS,” 
Color Res. Appl., p. n/a\textendash{}n/a.}
\end{DUlineblock}

\item[{cam15u()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] calculates the output for the CAM15u model for self-luminous unrelated stimuli. 
\item[] \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-9-12045\&origin=search}{M. Withouck, K. A. G. Smet, W. R. Ryckaert, and P. Hanselaer, 
“Experimental driven modelling of the color appearance of 
unrelated self-luminous stimuli: CAM15u,” 
Opt. Express, vol. 23, no. 9, pp. 12045\textendash{}12064, 2015.}
\item[] \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-10-13455\&origin=search}{M. Withouck, K. A. G. Smet, and P. Hanselaer, (2015), 
“Brightness prediction of different sized unrelated self-luminous stimuli,” 
Opt. Express, vol. 23, no. 10, pp. 13455\textendash{}13466.}
\end{DUlineblock}

\item[{cam\_sww16()}] \leavevmode
A simple principled color appearance model based on a mapping 
of the Munsell color system.

\item[{wrappers}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘xyz\_to\_jabM\_ciecam02’, ‘jabM\_ciecam02\_to\_xyz’,
\item[] ‘xyz\_to\_jabC\_ciecam02’, ‘jabC\_ciecam02\_to\_xyz’,
\item[] ‘xyz\_to\_jabM\_cam16’, ‘jabM\_cam16\_to\_xyz’,
\item[] ‘xyz\_to\_jabC\_cam16’, ‘jabC\_cam16\_to\_xyz’,
\item[] ‘xyz\_to\_jab\_cam02ucs’, ‘jab\_cam02ucs\_to\_xyz’, 
\item[] ‘xyz\_to\_jab\_cam02lcd’, ‘jab\_cam02lcd\_to\_xyz’,
\item[] ‘xyz\_to\_jab\_cam02scd’, ‘jab\_cam02scd\_to\_xyz’, 
\item[] ‘xyz\_to\_jab\_cam16ucs’, ‘jab\_cam16ucs\_to\_xyz’,
\item[] ‘xyz\_to\_jab\_cam16lcd’, ‘jab\_cam16lcd\_to\_xyz’,
\item[] ‘xyz\_to\_jab\_cam16scd’, ‘jab\_cam16scd\_to\_xyz’,
\item[] ‘xyz\_to\_qabW\_cam15u’, ‘qabW\_cam15u\_to\_xyz’,
\item[] ‘xyz\_to\_lAb\_cam\_sww16’, ‘lab\_cam\_sww16\_to\_xyz’
\end{DUlineblock}

\end{description}\end{quote}
\end{quote}
\index{hue\_angle() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.hue_angle}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{hue\_angle}}{\emph{a}, \emph{b}, \emph{htype='deg'}}{}
Calculate positive hue angle (0°-360° or 0 - 2*pi rad.) 
from opponent signals a and b.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{a}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of a-coordinates
\end{DUlineblock}

\item[{b}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of b-coordinates
\end{DUlineblock}

\item[{htype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘deg’ or ‘rad’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘deg’: hue angle between 0° and 360°
\item[] - ‘rad’: hue angle between 0 and 2pi radians
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of positive hue angles.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{hue\_quadrature() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.hue_quadrature}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{hue\_quadrature}}{\emph{h}, \emph{unique\_hue\_data=None}}{}
Get hue quadrature H from h.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{h}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}float{]} or ndarray with hue data in degrees (!).
\end{DUlineblock}

\item[{unique\_hue data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or dict, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: H = h.
\item[] - str: CAM specifier that gets parameters from .cam.\_UNIQUE\_HUE\_DATA
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (For supported models, see .cam.\_UNIQUE\_HUE\_DATA{[}‘models’{]})
\end{DUlineblock}
\item[] - dict: user specified unique hue data 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (see luxpy.cam.\_UNIQUE\_HUE\_DATA for expected structure)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{H}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}float{]} or ndarray of Hue quadrature value(s).
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{naka\_rushton() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.naka_rushton}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{naka\_rushton}}{\emph{data}, \emph{sig=2.0}, \emph{n=0.73}, \emph{scaling=1.0}, \emph{noise=0.0}, \emph{cam=None}, \emph{direction='forward'}}{}
Apply a Naka-Rushton response compression (n) and an adaptive shift (sig).

\begin{DUlineblock}{0em}
\item[] NK(x) = scaling * ((x**n) / ((x**n) + (sig**n))) + noise
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray
\end{DUlineblock}

\item[{sig}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 2.0, optional
\item[] Semi-saturation constant. Value for which NK(:data:) is 1/2
\end{DUlineblock}

\item[{n}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.73, optional
\item[] Compression power.
\end{DUlineblock}

\item[{scaling}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1.0, optional
\item[] Maximum value of NK-function.
\end{DUlineblock}

\item[{noise}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.0, optional
\item[] Cone excitation noise.
\end{DUlineblock}

\item[{cam}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str, optional
\item[] Use NK parameters values specific to the color appearance model.
\item[] See .cam.\_NAKA\_RUSHTON\_PARAMETERS{[}‘models’{]} for supported types.
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[] Perform either NK(x) or NK(x)**(-1).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with NK-(de)compressed input :x:        
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{ciecam02() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.ciecam02}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{ciecam02}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{mcat='cat02'}, \emph{Yw=array({[}{[}1.0000e+02{]}{]})}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{direction='forward'}, \emph{outin='J}, \emph{aM}, \emph{bM'}, \emph{yellowbluepurplecorrect=False}}{}
Convert between XYZ tristsimulus values and ciecam02 color appearance correlates.

\begin{DUlineblock}{0em}
\item[] Wrapper for luxpy.cam.cam\_structure\_ciecam02\_cam16() designed specifically 
for camtype = ‘ciecam02.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with input tristimulus values or 
input color appearance correlates
\item[] Can be of shape: (N {[}, xM{]}, x 3), whereby 
N refers to samples, M to light sources.
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CAM\_02\_X\_DEFAULT\_WHITE\_POINT or ndarray with tristimulus values
of white point(s), optional
\item[] Can be multiple by specifying a Mx3 ndarray, instead of 1x3.
\end{DUlineblock}

\item[{Yw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.np2d(100), optional
\item[] Luminance factor of white point.
\item[] Is normally 100 for perfect white diffuser, 
is \textless{} 100 for e.g. paper as white point.         
\end{DUlineblock}

\item[{mcat}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cat02’ or str or ndarray, optional
\item[] Specifies CAT sensor space.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults to the one native to the camtype 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (others e.g. ‘cat02-bs’, ‘cat02-jiang’,
\item[] all trying to correct gamut problems of original cat02 matrix)
\end{DUlineblock}
\item[] - str: see see luxpy.cat.\_MCATS.keys() for options 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (details on type, ?luxpy.cat)
\end{DUlineblock}
\item[] - ndarray: matrix with sensor primaries
\end{DUlineblock}
\end{DUlineblock}

\item[{condition}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.cam.\_CAM\_02\_X\_DEFAULT\_CONDITIONS, optional
\item[] Dict with condition parameters, D, La, surround ({[}c,Nc,F{]}), Yb
\item[] Can be user defined, but dict must have same structure.
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘forward’: xyz -\textgreater{} ciecam02 
\item[] -‘inverse’: ciecam02 -\textgreater{} xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (input data must be:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (J or Q, aM, bM) or 
\item[] (J or Q, aC,bC) or 
\item[] (J or Q, aS, bS) !!)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{outin}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘J,aM,bM’ or str, optional
\item[] Str specifying the type of 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] input (:direction: == ‘inverse’) and 
\item[] output (:direction: == ‘forward’)
\end{DUlineblock}
\end{DUlineblock}

\item[{yellowbluepurplecorrect}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Correct for yellow-blue and purple problems in ciecam02 
(Is not used in cam16 because cat16 solves issues)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color appearance correlates (:direction: == ‘forward’) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] XYZ tristimulus values (:direction: == ‘inverse’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://rit-mcsl.org/fairchild/PDFs/PRO19.pdf}{N. Moroney, M. D. Fairchild, R. W. G. Hunt, C. Li, M. R. Luo, and T. Newman, (2002), 
“The CIECAM02 color appearance model,” 
IS\&T/SID Tenth Color Imaging Conference. p. 23, 2002.}

\end{description}

\end{fulllineitems}

\index{cam16() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.cam16}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{cam16}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{mcat='cat16'}, \emph{Yw=array({[}{[}1.0000e+02{]}{]})}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{direction='forward'}, \emph{outin='J}, \emph{aM}, \emph{bM'}}{}~\begin{quote}

Convert between XYZ tristsimulus values and cam16 color appearance correlates.
\end{quote}

\begin{DUlineblock}{0em}
\item[] Wrapper for luxpy.cam.cam\_structure\_ciecam02\_cam16() designed specifically 
for camtype = ‘cam16’.
\end{DUlineblock}
\begin{quote}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with input tristimulus values or 
input color appearance correlates
\item[] Can be of shape: (N {[}, xM{]}, x 3), whereby 
N refers to samples, M to light sources.
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CAM\_02\_X\_DEFAULT\_WHITE\_POINT or ndarray with tristimulus values
of white point(s), optional
\item[] Can be multiple by specifying a Mx3 ndarray, instead of 1x3.
\end{DUlineblock}

\item[{Yw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.np2d(100), optional
\item[] Luminance factor of white point.
\item[] Is normally 100 for perfect white diffuser, 
is \textless{} 100 for e.g. paper as white point.         
\end{DUlineblock}

\item[{mcat}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cat16’ or str or ndarray, optional
\item[] Specifies CAT sensor space.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults back to ‘cat02!’. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (others e.g. ‘cat02-bs’, ‘cat02-jiang’,
\item[] all trying to correct gamut problems of original cat02 matrix)
\end{DUlineblock}
\item[] - str: see see luxpy.cat.\_MCATS.keys() for options 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (details on type, ?luxpy.cat)
\end{DUlineblock}
\item[] - ndarray: matrix with sensor primaries
\end{DUlineblock}
\end{DUlineblock}

\item[{condition}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.cam.\_CAM\_02\_X\_DEFAULT\_CONDITIONS, optional
\item[] Dict with condition parameters, D, La, surround ({[}c,Nc,F{]}), Yb
\item[] Can be user defined, but dict must have same structure.
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘forward’: xyz -\textgreater{} cam16
\item[] -‘inverse’: cam16 -\textgreater{} xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (input data must be:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (J or Q, aM, bM) or 
\item[] (J or Q, aC,bC) or 
\item[] (J or Q, aS, bS) !!)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{outin}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘J,aM,bM’ or str, optional
\item[] Str specifying the type of 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] input (:direction: == ‘inverse’) and 
\item[] output (:direction: == ‘forward’)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color appearance correlates (:direction: == ‘forward’) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] XYZ tristimulus values (:direction: == ‘inverse’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode\begin{description}
\item[{..{[}1{]} C. Li, Z. Li, Z. Wang, Y. Xu, M. R. Luo, G. Cui, M. Melgosa, M. H. Brill, and M. Pointer, }] \leavevmode
“Comprehensive color solutions: CAM16, CAT16, and CAM16-UCS,” 
Color Res. Appl., p. n/a\textendash{}n/a.

\end{description}

\end{description}
\end{quote}

\end{fulllineitems}

\index{cam02ucs() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.cam02ucs}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{cam02ucs}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=array({[}{[}1.0000e+02{]}{]})}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{direction='forward'}, \emph{ucstype='ucs'}, \emph{yellowbluepurplecorrect=False}, \emph{mcat='cat02'}}{}
Convert between XYZ tristsimulus values 
and cam02ucs type color appearance correlates.

\begin{DUlineblock}{0em}
\item[] Wrapper for luxpy.cam.camucs\_structure() specifically 
designed for ‘ciecam02’ + ‘ucs’
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with input tristimulus values or 
input color appearance correlates
\item[] Can be of shape: (N {[}, xM{]}, x 3), whereby 
N refers to samples, M to light sources.
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CAM\_02\_X\_DEFAULT\_WHITE\_POINT or ndarray with tristimulus values
of white point(s), optional
\item[] Can be multiple by specifying a Mx3 ndarray, instead of 1x3.
\end{DUlineblock}

\item[{Yw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.np2d(100), optional
\item[] Luminance factor of white point.
\item[] Is normally 100 for perfect white diffuser, 
is \textless{} 100 for e.g. paper as white point.         
\end{DUlineblock}

\item[{mcat}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cat02’ or str or ndarray, optional
\item[] Specifies CAT sensor space.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults to the one native to the camtype 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (others e.g. ‘cat02-bs’, ‘cat02-jiang’,
\item[] all trying to correct gamut problems of original cat02 matrix)
\end{DUlineblock}
\item[] - str: see see luxpy.cat.\_MCATS.keys() for options 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (details on type, ?luxpy.cat)
\end{DUlineblock}
\item[] - ndarray: matrix with sensor primaries
\end{DUlineblock}
\end{DUlineblock}

\item[{condition}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.cam.\_CAM\_02\_X\_DEFAULT\_CONDITIONS, optional
\item[] Dict with condition parameters, D, La, surround ({[}c,Nc,F{]}), Yb
\item[] Can be user defined, but dict must have same structure.
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘forward’: xyz -\textgreater{} cam02ucs
\item[] -‘inverse’: cam02ucs -\textgreater{} xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (input data must be:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (J or Q, aM, bM) or 
\item[] (J or Q, aC,bC) or 
\item[] (J or Q, aS, bS) !!)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{outin}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘J,aM,bM’ or str, optional
\item[] Str specifying the type of 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] input (:direction: == ‘inverse’) and 
\item[] output (:direction: == ‘forward’)
\end{DUlineblock}
\end{DUlineblock}

\item[{yellowbluepurplecorrect}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Correct for yellow-blue and purple problems in ciecam02 
(Is not used in cam16 because cat16 solves issues)
\end{DUlineblock}

\item[{ucstype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ucs’ or ‘lcd’ or ‘scd’, optional
\item[] Str specifier for which type of color attribute compression 
\item[] parameters to use:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘ucs’: uniform color space, 
\item[] -‘lcd’, large color differences, 
\item[] -‘scd’: small color differences
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color appearance correlates (:direction: == ‘forward’) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] XYZ tristimulus values (:direction: == ‘inverse’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20227/abstract)}{M.R. Luo, G. Cui, and C. Li, 
‘Uniform colour spaces based on CIECAM02 colour appearance model,’ 
Color Res. Appl., vol. 31, no. 4, pp. 320\textendash{}330, 2006.}

\end{description}

\end{fulllineitems}

\index{cam16ucs() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.cam16ucs}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{cam16ucs}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=array({[}{[}1.0000e+02{]}{]})}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{direction='forward'}, \emph{ucstype='ucs'}, \emph{mcat='cat16'}}{}
Convert between XYZ tristsimulus values and cam16ucs type color appearance correlates.

\begin{DUlineblock}{0em}
\item[] Wrapper for luxpy.cam.camucs\_structure() 
specifically designed for ‘cam16’ + ‘ucs’
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with input tristimulus values or 
input color appearance correlates
\item[] Can be of shape: (N {[}, xM{]}, x 3), whereby 
N refers to samples, M to light sources.
\end{DUlineblock}

\item[{xyzw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CAM\_02\_X\_DEFAULT\_WHITE\_POINT or ndarray with tristimulus values
of white point(s), optional
\item[] Can be multiple by specifying a Mx3 ndarray, instead of 1x3.
\end{DUlineblock}

\item[{Yw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.np2d(100), optional
\item[] Luminance factor of white point.
\item[] Is normally 100 for perfect white diffuser, 
is \textless{} 100 for e.g. paper as white point.         .
\end{DUlineblock}

\item[{mcat}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘cat16’ or str or ndarray, optional
\item[] Specifies CAT sensor space.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults to ‘cat02’!
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (others e.g. ‘cat02-bs’, ‘cat02-jiang’,
\item[] all trying to correct gamut problems of original cat02 matrix)
\end{DUlineblock}
\item[] - str: see see luxpy.cat.\_MCATS.keys() for options 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (details on type, ?luxpy.cat)
\end{DUlineblock}
\item[] - ndarray: matrix with sensor primaries
\end{DUlineblock}
\end{DUlineblock}

\item[{condition}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.cam.\_CAM\_02\_X\_DEFAULT\_CONDITIONS, optional
\item[] Dict with condition parameters, D, La, surround ({[}c,Nc,F{]}), Yb
\item[] Can be user defined, but dict must have same structure.
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘forward’: xyz -\textgreater{} cam16ucs
\item[] -‘inverse’: cam16ucs -\textgreater{} xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (input data must be:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (J or Q, aM, bM) or 
\item[] (J or Q, aC,bC) or 
\item[] (J or Q, aS, bS) !!)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{outin}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘J,aM,bM’ or str, optional
\item[] Str specifying the type of 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] input (:direction: == ‘inverse’) and 
\item[] output (:direction: == ‘forward’)
\end{DUlineblock}
\end{DUlineblock}

\item[{yellowbluepurplecorrect}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Correct for yellow-blue and purple problems in ciecam02 
(Is not used in cam16 because cat16 solves issues)
\end{DUlineblock}

\item[{ucstype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ucs’ or ‘lcd’ or ‘scd’, optional
\item[] Str specifier for which type of color attribute compression 
\item[] parameters to use:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘ucs’: uniform color space, 
\item[] -‘lcd’, large color differences, 
\item[] -‘scd’: small color differences
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color appearance correlates (:direction: == ‘forward’) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] XYZ tristimulus values (:direction: == ‘inverse’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.20227/abstract)}{M. R. Luo, G. Cui, and C. Li, (2006),
“Uniform colour spaces based on CIECAM02 colour appearance model,” 
Color Res. Appl., vol. 31, no. 4, pp. 320\textendash{}330.}
2. \sphinxhref{http://onlinelibrary.wiley.com/doi/10.1002/col.22131/abstract)}{C. Li, Z. Li, Z. Wang, Y. Xu, M. R. Luo, G. Cui, M. Melgosa, M. H. Brill, and M. Pointer, (2017), 
“Comprehensive color solutions: CAM16, CAT16, and CAM16-UCS,” 
Color Res. Appl., p. n/a\textendash{}n/a.}

\end{description}

\end{fulllineitems}

\index{cam15u() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.cam15u}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{cam15u}}{\emph{data}, \emph{fov=10.0}, \emph{inputtype='xyz'}, \emph{direction='forward'}, \emph{outin='Q}, \emph{aW}, \emph{bW'}, \emph{parameters=None}}{}
Convert between CIE 2006 10°  XYZ tristimulus values (or spectral data) 
and CAM15u color appearance correlates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of CIE 2006 10°  XYZ tristimulus values or spectral data
or color appearance attributes
\end{DUlineblock}

\item[{fov}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10.0, optional
\item[] Field-of-view of stimulus (for size effect on brightness)
\end{DUlineblock}

\item[{inputtpe}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘xyz’ or ‘spd’, optional
\item[] Specifies the type of input: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] tristimulus values or spectral data for the forward mode.
\end{DUlineblock}
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘forward’: xyz -\textgreater{} cam15u
\item[] -‘inverse’: cam15u -\textgreater{} xyz 
\end{DUlineblock}
\end{DUlineblock}

\item[{outin}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Q,aW,bW’ or str, optional
\item[] ‘Q,aW,bW’ (brightness and opponent signals for amount-of-neutral)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] other options: ‘Q,aM,bM’ (colorfulness) and ‘Q,aS,bS’ (saturation)
\end{DUlineblock}
\item[] Str specifying the type of 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] input (:direction: == ‘inverse’) and 
\item[] output (:direction: == ‘forward’)
\end{DUlineblock}
\end{DUlineblock}

\item[{parameters}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Set of model parameters.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to luxpy.cam.\_CAM15U\_PARAMETERS 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (see references below)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color appearance correlates (:direction: == ‘forward’)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] XYZ tristimulus values (:direction: == ‘inverse’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{References: }] \leavevmode
1. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-9-12045\&origin=search}{M. Withouck, K. A. G. Smet, W. R. Ryckaert, and P. Hanselaer, 
“Experimental driven modelling of the color appearance of 
unrelated self-luminous stimuli: CAM15u,” 
Opt. Express, vol. 23, no. 9, pp. 12045\textendash{}12064, 2015.}
2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-10-13455\&origin=search}{M. Withouck, K. A. G. Smet, and P. Hanselaer, (2015), 
“Brightness prediction of different sized unrelated self-luminous stimuli,” 
Opt. Express, vol. 23, no. 10, pp. 13455\textendash{}13466.}

\end{description}

\end{fulllineitems}

\index{cam\_sww16() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.cam_sww16}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{cam\_sww16}}{\emph{data}, \emph{dataw=None}, \emph{Yb=20.0}, \emph{Lw=400.0}, \emph{relative=True}, \emph{parameters=None}, \emph{inputtype='xyz'}, \emph{direction='forward'}, \emph{cieobs='2006\_10'}}{}
A simple principled color appearance model based on a mapping 
of the Munsell color system.

\begin{DUlineblock}{0em}
\item[] This function implements the JOSA A (parameters = ‘JOSA’) published model. 
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with input tristimulus values 
\item[] or spectral data 
\item[] or input color appearance correlates
\item[] Can be of shape: (N {[}, xM{]}, x 3), whereby: 
\item[] N refers to samples and M refers to light sources.
\item[] Note that for spectral input shape is (N x (M+1) x wl) 
\end{DUlineblock}

\item[{dataw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] Input tristimulus values or spectral data of white point.
\item[] None defaults to the use of CIE illuminant C.
\end{DUlineblock}

\item[{Yb}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 20.0, optional
\item[] Luminance factor of background (perfect white diffuser, Yw = 100)
\end{DUlineblock}

\item[{Lw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 400.0, optional
\item[] Luminance (cd/m\(\sp{\text{2}}\)) of white point.
\end{DUlineblock}

\item[{relative}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] True: xyz tristimulus values are relative (Yw = 100)
\end{DUlineblock}

\item[{parameters}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or dict, optional
\item[] Dict with model parameters.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to luxpy.cam.\_CAM\_SWW\_2016\_PARAMETERS{[}‘JOSA’{]}
\item[] - str: ‘best-fit-JOSA’ or ‘best-fit-all-Munsell’
\item[] - dict: user defined model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (dict should have same structure)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{inputtpe}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘xyz’ or ‘spd’, optional
\item[] Specifies the type of input: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] tristimulus values or spectral data for the forward mode.
\end{DUlineblock}
\end{DUlineblock}

\item[{direction}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘forward’ or ‘inverse’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘forward’: xyz -\textgreater{} cam\_sww\_2016
\item[] -‘inverse’: cam\_sww\_2016 -\textgreater{} xyz 
\end{DUlineblock}
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘2006\_10’, optional
\item[] CMF set to use to perform calculations where spectral data 
is involved (inputtype == ‘spd’; dataw = None)
\item[] Other options: see luxpy.\_CMF{[}‘types’{]}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color appearance correlates (:direction: == ‘forward’)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or 
\end{DUlineblock}
\item[] XYZ tristimulus values (:direction: == ‘inverse’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] This function implements the JOSA A (parameters = ‘JOSA’) 
published model. 
\item[] With:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] 1. A correction for the parameter 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] in Eq.4 of Fig. 11: 0.952 \textendash{}\textgreater{} -0.952 
\item[] 
\end{DUlineblock}
\item[] 2. The delta\_ac and delta\_bc white-balance shifts in Eq. 5e \& 5f 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] should be: -0.028 \& 0.821 
\item[] 
\end{DUlineblock}
\item[] (cfr. Ccwb = 0.66 in: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ab\_test\_out = ab\_test\_int - Ccwb*ab\_gray\_adaptation\_field\_int))
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{References:}] \leavevmode
1. \sphinxhref{https://doi.org/10.1364/JOSAA.33.00A319}{Smet, K. A. G., Webster, M. A., \& Whitehead, L. A. (2016). 
A simple principled approach for modeling and understanding uniform color metrics. 
Journal of the Optical Society of America A, 33(3), A319\textendash{}A331.}

\end{description}

\end{fulllineitems}

\index{xyz\_to\_jabM\_ciecam02() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jabM_ciecam02}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jabM\_ciecam02}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for ciecam02 forward mode with J,aM,bM output.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.ciecam02 
\end{DUlineblock}

\end{fulllineitems}

\index{jabM\_ciecam02\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jabM_ciecam02_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jabM\_ciecam02\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for ciecam02 inverse mode with J,aM,bM input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.ciecam02 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jabC\_ciecam02() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jabC_ciecam02}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jabC\_ciecam02}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for ciecam02 forward mode with J,aC,bC output.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.ciecam02 
\end{DUlineblock}

\end{fulllineitems}

\index{jabC\_ciecam02\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jabC_ciecam02_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jabC\_ciecam02\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for ciecam02 inverse mode with J,aC,bC input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.ciecam02 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jabM\_cam16() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jabM_cam16}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jabM\_cam16}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16 forward mode with J,aM,bM output.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16 
\end{DUlineblock}

\end{fulllineitems}

\index{jabM\_cam16\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jabM_cam16_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jabM\_cam16\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16 inverse mode with J,aM,bM input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jabC\_cam16() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jabC_cam16}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jabC\_cam16}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16 forward mode with J,aC,bC output.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16 
\end{DUlineblock}

\end{fulllineitems}

\index{jabC\_cam16\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jabC_cam16_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jabC\_cam16\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16 inverse mode with J,aC,bC input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jab\_cam02ucs() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jab_cam02ucs}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jab\_cam02ucs}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for cam02ucs forward mode with J,aM,bM output.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam02ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{jab\_cam02ucs\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jab_cam02ucs_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jab\_cam02ucs\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for cam02ucs inverse mode with J,aM,bM input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam02ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jab\_cam02lcd() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jab_cam02lcd}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jab\_cam02lcd}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for cam02ucs forward mode with J,aMp,bMp output and ucstype = lcd.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam02ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{jab\_cam02lcd\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jab_cam02lcd_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jab\_cam02lcd\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for cam02ucs inverse mode with J,aMp,bMp input and ucstype = lcd.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam02ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jab\_cam02scd() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jab_cam02scd}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jab\_cam02scd}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for cam02ucs forward mode with J,aMp,bMp output and ucstype = scd.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam02ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{jab\_cam02scd\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jab_cam02scd_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jab\_cam02scd\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{yellowbluepurplecorrect=None}, \emph{mcat='cat02'}, \emph{**kwargs}}{}
Wrapper function for cam02ucs inverse mode with J,aMp,bMp input and ucstype = scd.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam02ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jab\_cam16ucs() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jab_cam16ucs}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jab\_cam16ucs}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16ucs forward mode with J,aM,bM output and ucstype = ‘ucs’.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{jab\_cam16ucs\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jab_cam16ucs_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jab\_cam16ucs\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16ucs inverse mode with J,aM,bM input and ucstype = ‘ucs’.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jab\_cam16lcd() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jab_cam16lcd}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jab\_cam16lcd}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16ucs forward mode with J,aM,bM output and ucstype = ‘lcd’.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{jab\_cam16lcd\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jab_cam16lcd_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jab\_cam16lcd\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16ucs inverse mode with J,aM,bM input and ucstype = ‘lcd’.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_jab\_cam16scd() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_jab_cam16scd}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_jab\_cam16scd}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16ucs forward mode with J,aM,bM output and ucstype = ‘scd’.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{jab\_cam16scd\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.jab_cam16scd_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{jab\_cam16scd\_to\_xyz}}{\emph{data}, \emph{xyzw=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Yw=100.0}, \emph{conditions=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{mcat='cat16'}, \emph{**kwargs}}{}
Wrapper function for cam16ucs inverse mode with J,aM,bM input  and ucstype = ‘scd’.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam16ucs 
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_qabW\_cam15u() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_qabW_cam15u}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_qabW\_cam15u}}{\emph{data}, \emph{fov=10.0}, \emph{parameters=None}, \emph{**kwargs}}{}
Wrapper function for cam15u forward mode with ‘Q,aW,bW’ output.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam15u
\end{DUlineblock}

\end{fulllineitems}

\index{qabW\_cam15u\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.qabW_cam15u_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{qabW\_cam15u\_to\_xyz}}{\emph{data}, \emph{fov=10.0}, \emph{parameters=None}, \emph{**kwargs}}{}
Wrapper function for cam15u inverse mode with ‘Q,aW,bW’ input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam15u
\end{DUlineblock}

\end{fulllineitems}

\index{xyz\_to\_lab\_cam\_sww16() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.xyz_to_lab_cam_sww16}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{xyz\_to\_lab\_cam\_sww16}}{\emph{data}, \emph{dataw=None}, \emph{Yb=20.0}, \emph{Lw=400.0}, \emph{relative=True}, \emph{parameters=None}, \emph{inputtype='xyz'}, \emph{cieobs='2006\_10'}, \emph{**kwargs}}{}
Wrapper function for cam\_sww16 forward mode with ‘xyz’ input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam\_sww16
\end{DUlineblock}

\end{fulllineitems}

\index{lab\_cam\_sww16\_to\_xyz() (in module luxpy.color.cam)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cam.lab_cam_sww16_to_xyz}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cam.}\sphinxbfcode{lab\_cam\_sww16\_to\_xyz}}{\emph{data}, \emph{dataw=None}, \emph{Yb=20.0}, \emph{Lw=400.0}, \emph{relative=True}, \emph{parameters=None}, \emph{inputtype='xyz'}, \emph{cieobs='2006\_10'}, \emph{**kwargs}}{}
Wrapper function for cam\_sww16 inverse mode with ‘xyz’ input.

\begin{DUlineblock}{0em}
\item[] For help on parameter details: ?luxpy.cam.cam\_sww16
\end{DUlineblock}

\end{fulllineitems}



\subsection{deltaE/}
\label{\detokenize{color:deltae}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
colordifferences.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.deltaE

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.deltaE}}\index{luxpy.color.deltaE (module)}

\subsubsection{Module for color difference calculations}
\label{\detokenize{color:module-for-color-difference-calculations}}\begin{quote}
\begin{quote}\begin{description}
\item[{process\_DEi()}] \leavevmode
Process color difference input DEi for output (helper fnc).

\item[{DE\_camucs()}] \leavevmode
Calculate color appearance difference DE using camucs type model.

\item[{DE\_2000()}] \leavevmode
Calculate DE2000 color difference.

\item[{DE\_cspace()}] \leavevmode
Calculate color difference DE in specific color space.

\end{description}\end{quote}
\end{quote}
\index{DE\_camucs() (in module luxpy.color.deltaE)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.deltaE.DE_camucs}}\pysiglinewithargsret{\sphinxcode{luxpy.color.deltaE.}\sphinxbfcode{DE\_camucs}}{\emph{xyzt}, \emph{xyzr}, \emph{DEtype='jab'}, \emph{avg=None}, \emph{avg\_axis=0}, \emph{out='DEi'}, \emph{xyzwt=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{xyzwr=array({[}{[}1.0000e+02}, \emph{1.0000e+02}, \emph{1.0000e+02{]}{]})}, \emph{Ywt=array({[}{[}1.0000e+02{]}{]})}, \emph{conditionst=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{Ywr=array({[}{[}1.0000e+02{]}{]})}, \emph{conditionsr=\{'D': 1.0}, \emph{'Dtype': None}, \emph{'La': 100.0}, \emph{'Yb': 20.0}, \emph{'surround': 'avg'\}}, \emph{camtype='ciecam02'}, \emph{ucstype='ucs'}, \emph{mcat=None}, \emph{outin='J}, \emph{aM}, \emph{bM'}, \emph{yellowbluepurplecorrect=False}, \emph{**kwargs}}{}
Calculate color appearance difference DE using camucs type model.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of test data.
\end{DUlineblock}

\item[{xyzr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of reference data.
\end{DUlineblock}

\item[{DEtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘jab’ or str, optional
\item[] Options: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘jab’ : calculates full color difference over all 3 dimensions.
\item[] - ‘ab’  : calculates chromaticity difference.
\item[] - ‘j’   : calculates lightness or brightness difference 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (depending on :outin:).
\end{DUlineblock}
\item[] - ‘j,ab’: calculates both ‘j’ and ‘ab’ options 
and returns them as a tuple.
\end{DUlineblock}
\end{DUlineblock}

\item[{avg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] None: don’t calculate average DE, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] otherwise use function handle in :avg:.
\end{DUlineblock}
\end{DUlineblock}

\item[{avg\_axis}] \leavevmode
\begin{DUlineblock}{0em}
\item[] axis to calculate average over, optional
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘DEi’ or str, optional
\item[] Requested output.
\end{DUlineblock}

\item[{camtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.cam.\_CAM\_02\_X\_DEFAULT\_TYPE, optional
\item[] Str specifier for CAM type to use, options: ‘ciecam02’ or ‘cam16’.
\end{DUlineblock}

\item[{ucstype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ucs’ or ‘lcd’ or ‘scd’, optional
\item[] Str specifier for which type of color attribute compression 
parameters to use:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘ucs’: uniform color space, 
\item[] -‘lcd’, large color differences, 
\item[] -‘scd’: small color differences
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
For the other input arguments, see ?luxpy.cam.camucs\_structure.

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with DEi {[}, DEa{]} or other as specified by :out:
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{DE2000() (in module luxpy.color.deltaE)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.deltaE.DE2000}}\pysiglinewithargsret{\sphinxcode{luxpy.color.deltaE.}\sphinxbfcode{DE2000}}{\emph{xyzt}, \emph{xyzr}, \emph{dtype='xyz'}, \emph{DEtype='jab'}, \emph{avg=None}, \emph{avg\_axis=0}, \emph{out='DEi'}, \emph{xyzwt=None}, \emph{xyzwr=None}, \emph{KLCH=None}}{}
Calculate DE2000 color difference.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of test data.
\end{DUlineblock}

\item[{xyzr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of reference data.
\end{DUlineblock}

\item[{dtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘xyz’ or ‘lab’, optional
\item[] Specifies data type in :xyzt: and :xyzr:.
\end{DUlineblock}

\item[{xyzwt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] White point tristimulus values of test data
\item[] None defaults to the one set in lx.xyz\_to\_lab()
\end{DUlineblock}
\end{DUlineblock}

\item[{xyzwr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Whitepoint tristimulus values of reference data
\item[] None defaults to the one set in lx.xyz\_to\_lab()
\end{DUlineblock}
\end{DUlineblock}

\item[{DEtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘jab’ or str, optional
\item[] Options: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘jab’ : calculates full color difference over all 3 dimensions.
\item[] - ‘ab’  : calculates chromaticity difference.
\item[] - ‘j’   : calculates lightness or brightness difference 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (depending on :outin:).
\end{DUlineblock}
\item[] - ‘j,ab’: calculates both ‘j’ and ‘ab’ options 
and returns them as a tuple.
\end{DUlineblock}
\end{DUlineblock}

\item[{KLCH}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Weigths for L, C, H 
\item[] None: default to {[}1,1,1{]} 
\end{DUlineblock}

\item[{avg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] None: don’t calculate average DE, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] otherwise use function handle in :avg:.
\end{DUlineblock}
\end{DUlineblock}

\item[{avg\_axis}] \leavevmode
\begin{DUlineblock}{0em}
\item[] axis to calculate average over, optional
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘DEi’ or str, optional
\item[] Requested output.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
For the other input arguments, see specific color space used.

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with DEi {[}, DEa{]} or other as specified by :out:
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://doi.org/10.1002/col.20070}{Sharma, G., Wu, W., \& Dalal, E. N. (2005). 
The CIEDE2000 color‐difference formula: Implementation notes, 
supplementary test data, and mathematical observations. 
Color Research \& Application, 30(1), 21\textendash{}30.}

\end{description}

\end{fulllineitems}

\index{DE\_cspace() (in module luxpy.color.deltaE)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.deltaE.DE_cspace}}\pysiglinewithargsret{\sphinxcode{luxpy.color.deltaE.}\sphinxbfcode{DE\_cspace}}{\emph{xyzt}, \emph{xyzr}, \emph{dtype='xyz'}, \emph{tf='Yuv'}, \emph{DEtype='jab'}, \emph{avg=None}, \emph{avg\_axis=0}, \emph{out='DEi'}, \emph{xyzwt=None}, \emph{xyzwr=None}, \emph{fwtft=\{\}}, \emph{fwtfr=\{\}}, \emph{KLCH=None}, \emph{camtype='ciecam02'}, \emph{ucstype='ucs'}}{}
Calculate color difference DE in specific color space.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{xyzt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of test data.
\end{DUlineblock}

\item[{xyzr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with tristimulus values of reference data.
\end{DUlineblock}

\item[{dtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘xyz’ or ‘jab’, optional
\item[] Specifies data type in :xyzt: and :xyzr:.
\end{DUlineblock}

\item[{xyzwt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] White point tristimulus values of test data
\item[] None defaults to the one set in :fwtft: 
or else to the default of cspace.
\end{DUlineblock}
\end{DUlineblock}

\item[{xyzwr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Whitepoint tristimulus values of reference data
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] None defaults to the one set in non-empty :fwtfr: 
or else to default of cspace.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{fwtft}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\}, optional
\item[] Dict with parameters for forward transform 
from xyz to cspace for test data.
\end{DUlineblock}

\item[{fwtfr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\}, optional 
\item[] Dict with parameters for forward transform 
from xyz to cspace for reference data.
\end{DUlineblock}

\item[{KLCH}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Weigths for L, C, H 
\item[] None: default to {[}1,1,1{]} 
\item[] KLCH is not used when tf == ‘camucs’.
\end{DUlineblock}

\item[{DEtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘jab’ or str, optional
\item[] Options: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘jab’ : calculates full color difference over all 3 dimensions.
\item[] - ‘ab’  : calculates chromaticity difference.
\item[] - ‘j’   : calculates lightness or brightness difference 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (depending on :outin:).
\end{DUlineblock}
\item[] - ‘j,ab’: calculates both ‘j’ and ‘ab’ options 
and returns them as a tuple.
\end{DUlineblock}
\end{DUlineblock}

\item[{avg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] None: don’t calculate average DE, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] otherwise use function handle in :avg:.
\end{DUlineblock}
\end{DUlineblock}

\item[{avg\_axis}] \leavevmode
\begin{DUlineblock}{0em}
\item[] axis to calculate average over, optional
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘DEi’ or str, optional
\item[] Requested output.
\end{DUlineblock}

\item[{camtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] luxpy.cam.\_CAM\_02\_X\_DEFAULT\_TYPE, optional
\item[] Str specifier for CAM type to use, options: ‘ciecam02’ or ‘cam16’.
\item[] Only when DEtype == ‘camucs’.
\end{DUlineblock}

\item[{ucstype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ucs’ or ‘lcd’ or ‘scd’, optional
\item[] Str specifier for which type of color attribute compression 
\item[] parameters to use:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘ucs’: uniform color space,
\item[] -‘lcd’, large color differences,
\item[] -‘scd’: small color differences
\end{DUlineblock}
\item[] Only when DEtype == ‘camucs’.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
For the other input arguments, see specific color space used.

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with DEi {[}, DEa{]} or other as specified by :out:
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\subsection{cri/}
\label{\detokenize{color:cri}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
colorrendition.py

\item {} \begin{description}
\item[{/utils/}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
init\_cri\_defaults\_database.py

\item {} 
DE\_scalers.py

\item {} 
helpers.py

\item {} 
graphics.py

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{/indices/}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
indices.py

\item {} 
ciewrappers.py

\item {} 
ieswrappers.py

\item {} 
cri2012.py

\item {} 
mcri.py

\item {} 
cqs.py

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{/iestm30/}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
ies\_tm30\_metrics.py

\item {} 
ies\_tm30\_graphics.py

\end{itemize}

\end{description}

\item {} \begin{description}
\item[{/VFPX/}] \leavevmode\begin{itemize}
\item {} 
\_\_inint\_\_.py

\item {} 
vectorshiftmodel.py

\item {} 
pixelshiftmodel.py

\item {} 
VF\_PX\_models.py

\end{itemize}

\end{description}

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.cri

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.cri}}\index{luxpy.color.cri (module)}

\subsubsection{cri: sub-package suppporting color rendition calculations (colorrendition.py)}
\label{\detokenize{color:cri-sub-package-suppporting-color-rendition-calculations-colorrendition-py}}

\paragraph{utils/init\_cri\_defaults\_database.py}
\label{\detokenize{color:utils-init-cri-defaults-database-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_CRI\_TYPE\_DEFAULT}] \leavevmode
Default cri\_type.

\item[{\_CRI\_DEFAULTS}] \leavevmode\begin{description}
\item[{default parameters for color fidelity and gamut area metrics }] \leavevmode
(major dict has 9 keys (04-Jul-2017): 
sampleset {[}str/dict{]}, 
ref\_type {[}str{]}, 
cieobs {[}str{]}, 
avg {[}fcn handle{]}, 
scale {[}dict{]}, 
cspace {[}dict{]}, 
catf {[}dict{]}, 
rg\_pars {[}dict{]}, 
cri\_specific\_pars {[}dict{]})

\end{description}
\begin{itemize}
\item {} \begin{description}
\item[{Supported cri-types:}] \leavevmode\begin{itemize}
\item {} 
‘ciera’,’ciera-8’,’ciera-14’,’cierf’,

\item {} 
‘iesrf’,’iesrf-tm30-15’,’iesrf-tm30-18’,

\item {} 
‘cri2012’,’cri2012-hl17’,’cri2012-hl1000’,’cri2012-real210’,

\item {} 
‘mcri’,

\item {} 
‘cqs-v7.5’,’cqs-v9.0’

\end{itemize}

\end{description}

\end{itemize}

\item[{process\_cri\_type\_input()}] \leavevmode
load a cri\_type dict but overwrites any keys that 
have a non-None input in calling function.

\end{description}\end{quote}
\end{quote}


\paragraph{utils/DE\_scalers.py}
\label{\detokenize{color:utils-de-scalers-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{linear\_scale()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Linear color rendering index scale from CIE13.3-1974/1995:
\item[] Rfi,a = 100 - c1*DEi,a. (c1 = 4.6)
\end{DUlineblock}

\item[{log\_scale()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Log-based color rendering index scale from Davis \& Ohno (2009):
\item[] Rfi,a = 10 * ln(exp((100 - c1*DEi,a)/10) + 1)
\end{DUlineblock}

\item[{psy\_scale()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Psychometric based color rendering index scale from Smet et al. (2013):
\item[] Rfi,a = 100 * (2 / (exp(c1*abs(DEi,a)**(c2) + 1))) ** c3
\end{DUlineblock}

\end{description}\end{quote}
\end{quote}


\paragraph{utils/helpers.py}
\label{\detokenize{color:utils-helpers-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{gamut\_slicer()}] \leavevmode
Slices the gamut in nhbins slices and provides normalization 
of test gamut to reference gamut.

\item[{jab\_to\_rg()}] \leavevmode
Calculates gamut area index, Rg.

\item[{jab\_to\_rhi()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculate hue bin measures: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Rfhi (local (hue bin) color fidelity)
\item[] Rcshi (local chroma shift) 
\item[] Rhshi (local hue shift)
\end{DUlineblock}
\end{DUlineblock}

\item[{spd\_to\_jab\_t\_r()}] \leavevmode
Calculates jab color values for a sample set illuminated
with test source and its reference illuminant.

\item[{spd\_to\_rg()}] \leavevmode
Calculates the color gamut index of spectral data 
for a sample set illuminated with test source (data) 
with respect to some reference illuminant.

\item[{spd\_to\_DEi()}] \leavevmode
Calculates color difference (\textasciitilde{}fidelity) of spectral data 
between sample set illuminated with test source (data) 
and some reference illuminant.

\item[{optimize\_scale\_factor()}] \leavevmode
Optimize scale\_factor of cri-model in cri\_type 
such that average Rf for a set of light sources is 
the same as that of a target-cri (default: ‘ciera’)

\item[{spd\_to\_cri()}] \leavevmode
Calculates the color rendering fidelity index 
(CIE Ra, CIE Rf, IES Rf, CRI2012 Rf) of spectral data. 
Can also output Rg, Rfhi, Rcshi, Rhshi, cct, duv, …

\end{description}\end{quote}
\end{quote}


\paragraph{utils/graphics.py}
\label{\detokenize{color:utils-graphics-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{plot\_hue\_bins()}] \leavevmode
Makes basis plot for Color Vector Graphic (CVG).

\item[{plot\_ColorVectorGraphic()}] \leavevmode
Plots Color Vector Graphic (see IES TM30).

\end{description}\end{quote}
\end{quote}


\paragraph{indices/indices.py}
\label{\detokenize{color:indices-indices-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{wrapper\_functions\_for\_fidelity\_type\_metrics}] \leavevmode
\begin{DUlineblock}{0em}
\item[] spd\_to\_ciera(): CIE 13.3 1995 version 
\item[] spd\_to\_ciera\_133\_1995(): CIE 13.3 1995 version
\item[] spd\_to\_cierf(): latest version
\item[] spd\_to\_cierf\_224\_2017(): CIE224-2017 version
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] spd\_to\_iesrf(): latest version
\item[] spd\_to\_iesrf\_tm30(): latest version
\item[] spd\_to\_iesrf\_tm30\_15(): TM30-15 version
\item[] spd\_to\_iesrf\_tm30\_18(): TM30-18 version
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] spd\_to\_cri2012()
\item[] spd\_to\_cri2012\_hl17()
\item[] spd\_to\_cri2012\_hl1000()
\item[] spd\_to\_cri2012\_real210()
\end{DUlineblock}

\item[{wrapper\_functions\_for\_gamut\_area\_metrics}] \leavevmode
\begin{DUlineblock}{0em}
\item[] spd\_to\_iesrg(): latest version
\item[] spd\_to\_iesrg\_tm30(): latest version
\item[] spd\_to\_iesrg\_tm30\_15(): TM30-15 version
\item[] spd\_to\_iesrg\_tm30\_18(): TM30-18 version
\end{DUlineblock}

\end{description}\end{quote}
\end{quote}


\paragraph{indices/mcri.py}
\label{\detokenize{color:indices-mcri-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{spd\_to\_mcri()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Calculates the memory color rendition index, Rm:  
\item[] K. A. G. Smet, W. R. Ryckaert, M. R. Pointer, G. Deconinck, and P. Hanselaer, (2012) 
\item[] “A memory colour quality metric for white light sources,” 
\item[] Energy Build., vol. 49, no. C, pp. 216\textendash{}225.
\end{DUlineblock}

\end{description}\end{quote}
\end{quote}


\paragraph{indices/cqs.py}
\label{\detokenize{color:indices-cqs-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{spd\_to\_cqs()}] \leavevmode
\begin{DUlineblock}{0em}
\item[] versions 7.5 and 9.0 are supported.  
\item[] W. Davis and Y. Ohno, 
\item[] “Color quality scale,” (2010), 
\item[] Opt. Eng., vol. 49, no. 3, pp. 33602\textendash{}33616.
\end{DUlineblock}

\end{description}\end{quote}
\end{quote}


\paragraph{iestm30/iestm30\_metrics.py}
\label{\detokenize{color:iestm30-iestm30-metrics-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{spd\_to\_ies\_tm30\_metrics()}] \leavevmode
Calculates IES TM30 metrics from spectral data.

\end{description}\end{quote}
\end{quote}


\paragraph{iestm30/iestm30\_graphics.py}
\label{\detokenize{color:iestm30-iestm30-graphics-py}}\begin{quote}
\begin{quote}\begin{description}
\item[{plot\_cri\_graphics()}] \leavevmode
Plot graphical information on color rendition properties.

\end{description}\end{quote}
\end{quote}


\paragraph{VFPX}
\label{\detokenize{color:vfpx}}\begin{quote}
\begin{description}
\item[{:Module\_for\_VectorField\_and\_Pixelation\_CRI models.}] \leavevmode\begin{itemize}
\item {} 
see ?luxpy.cri.VFPX

\end{itemize}

\end{description}
\end{quote}
\index{linear\_scale() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.linear_scale}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{linear\_scale}}{\emph{data, scale\_factor={[}4.6{]}, scale\_max=100.0}}{}
Linear color rendering index scale from CIE13.3-1974/1995:

\begin{DUlineblock}{0em}
\item[] Rfi,a = 100 - c1*DEi,a. (c1 = 4.6)
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}floats{]} or ndarray 
\end{DUlineblock}

\item[{scale\_factor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}4.6{]} or list{[}float{]} or ndarray, optional
\item[] Rescales color differences before subtracting them from :scale\_max:
\end{DUlineblock}

\item[{scale\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100.0, optional
\item[] Maximum value of linear scale
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}floats{]} or ndarray 
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=303}{CIE13.3-1995, 
“Method of Measuring and Specifying Colour Rendering Properties of Light Sources,” 
CIE, Vienna, Austria, 1995.,ISBN 978 3 900734 57 2}

\end{description}

\end{fulllineitems}

\index{log\_scale() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.log_scale}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{log\_scale}}{\emph{data, scale\_factor={[}6.73{]}, scale\_max=100.0}}{}
Log-based color rendering index scale from Davis \& Ohno (2009):

\begin{DUlineblock}{0em}
\item[] Rfi,a = 10 * ln(exp((100 - c1*DEi,a)/10) + 1).
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}floats{]} or ndarray 
\end{DUlineblock}

\item[{scale\_factor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}6.73{]} or list{[}float{]} or ndarray, optional
\item[] Rescales color differences before subtracting them from :scale\_max:
\item[] Note that the default value is the one from cie-224-2017.
\end{DUlineblock}

\item[{scale\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100.0, optional
\item[] Maximum value of linear scale
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}floats{]} or ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://spie.org/Publications/Journal/10.1117/1.3360335}{W. Davis and Y. Ohno, 
“Color quality scale,” (2010), 
Opt. Eng., vol. 49, no. 3, pp. 33602\textendash{}33616.}
2. \sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{CIE224:2017. CIE 2017 Colour Fidelity Index for accurate scientific use. 
Vienna, Austria: CIE. (2017).}

\end{description}

\end{fulllineitems}

\index{psy\_scale() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.psy_scale}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{psy\_scale}}{\emph{data, scale\_factor={[}0.01818181818181818, 1.5, 2.0{]}, scale\_max=100.0}}{}
Psychometric based color rendering index scale from CRI2012:

\begin{DUlineblock}{0em}
\item[] Rfi,a = 100 * (2 / (exp(c1*abs(DEi,a)**(c2) + 1))) ** c3.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}floats{]} or ndarray 
\end{DUlineblock}

\item[{scale\_factor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}1/55, 3/2, 2.0{]} or list{[}float{]} or ndarray, optional
\item[] Rescales color differences before subtracting them from :scale\_max:
\item[] Note that the default value is the one from (Smet et al. 2013, LRT).
\end{DUlineblock}

\item[{scale\_max}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100.0, optional
\item[] Maximum value of linear scale
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or list{[}floats{]} or ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://lrt.sagepub.com/content/45/6/689}{Smet, K., Schanda, J., Whitehead, L., \& Luo, R. (2013). 
CRI2012: A proposal for updating the CIE colour rendering index. 
Lighting Research and Technology, 45, 689\textendash{}709.}

\end{description}

\end{fulllineitems}

\index{gamut\_slicer() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.gamut_slicer}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{gamut\_slicer}}{\emph{jab\_test}, \emph{jab\_ref}, \emph{out='jabt}, \emph{jabr'}, \emph{nhbins=None}, \emph{start\_hue=0.0}, \emph{normalize\_gamut=True}, \emph{normalized\_chroma\_ref=100}, \emph{close\_gamut=False}}{}
Slices the gamut in hue bins.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jab\_test}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Cartesian color coordinates (e.g. Jab) 
of the samples under the test SPD
\end{DUlineblock}

\item[{jab\_ref}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Cartesian color coordinates (e.g. Jab) 
of the samples under the reference SPD
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘jabt,jabr’ or str, optional
\item[] Specifies which variables to output as ndarray
\end{DUlineblock}

\item[{nhbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or int, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to using the sample hues themselves as ‘bins’. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] In other words, the number of bins will be equal to the 
\item[] number of samples.
\end{DUlineblock}
\item[] - float: number of bins to slice the sample gamut in.
\end{DUlineblock}
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.0 or float, optional
\item[] Hue angle to start bin slicing
\end{DUlineblock}

\item[{normalize\_gamut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] True normalizes the gamut of test to that of ref.
(perfect agreement results in circle).
\end{DUlineblock}

\item[{normalized\_chroma\_ref}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100.0 or float, optional
\item[] Controls the size (chroma/radius) of the normalization circle/gamut.
\end{DUlineblock}

\item[{close\_gamut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True appends the first jab coordinates to the end of the output 
(for plotting closed gamuts)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with average jabt,jabr of each hue bin. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (number of hue bins, 3))
\item[] 
\item[] (or outputs whatever is specified in :out:) 
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{jab\_to\_rg() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.jab_to_rg}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{jab\_to\_rg}}{\emph{jabt}, \emph{jabr}, \emph{max\_scale=100}, \emph{ordered\_and\_sliced=False}, \emph{nhbins=None}, \emph{start\_hue=0.0}, \emph{normalize\_gamut=True}, \emph{normalized\_chroma\_ref=100}, \emph{out='Rg}, \emph{jabt}, \emph{jabr'}}{}
Calculates gamut area index, Rg.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Cartesian color coordinates (e.g. Jab) 
of the samples under the test SPD
\end{DUlineblock}

\item[{jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Cartesian color coordinates (e.g. Jab) 
of the samples under the reference SPD
\end{DUlineblock}

\item[{max\_scale}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100.0, optional
\item[] Value of Rg when Rf = max\_scale (i.e. DEavg = 0)
\end{DUlineblock}

\item[{ordered\_and\_sliced}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - False: Hue ordering will be done with lux.cri.gamut\_slicer().
\item[] - True: user is responsible for hue-ordering and closing gamut 
(i.e. first element in :jab: equals the last).
\end{DUlineblock}
\end{DUlineblock}

\item[{nhbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or int, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to using the sample hues themselves as ‘bins’. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] In other words, the number of bins will be equal to the 
\item[] number of samples.
\end{DUlineblock}
\item[] - float: number of bins to slice the sample gamut in.
\end{DUlineblock}
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.0 or float, optional
\item[] Hue angle to start bin slicing
\end{DUlineblock}

\item[{normalize\_gamut}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] True normalizes the gamut of test to that of ref.
(perfect agreement results in circle).
\end{DUlineblock}

\item[{normalized\_chroma\_ref}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100.0 or float, optional
\item[] Controls the size (chroma/radius) of the normalization circle/gamut
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rg,jabt,jabr’ or str, optional
\item[] Specifies which variables to output as ndarray
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns: }] \leavevmode\begin{quote}\begin{description}
\item[{Rg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with gamut area indices Rg.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{jab\_to\_rhi() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.jab_to_rhi}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{jab\_to\_rhi}}{\emph{jabt}, \emph{jabr}, \emph{DEi}, \emph{cri\_type='ies-tm30'}, \emph{start\_hue=None}, \emph{nhbins=None}, \emph{scale\_factor=None}, \emph{scale\_fcn=None}, \emph{use\_bin\_avg\_DEi=True}}{}
Calculate hue bin measures: Rfhi, Rcshi and Rhshi.

\begin{DUlineblock}{0em}
\item[] Rfhi: local (hue bin) color fidelity  
\item[] Rcshi: local chroma shift
\item[] Rhshi: local hue shift
\item[] 
\item[] (See IES TM30)
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab coordinates under test SPD
\end{DUlineblock}

\item[{jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab coordinates under reference SPD
\end{DUlineblock}

\item[{DEi}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with DEi (from gamut\_slicer()).
\end{DUlineblock}

\item[{use\_bin\_avg\_DEi}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Note that following IES-TM30 DEi from gamut\_slicer() is obtained by
averaging the DEi per hue bin (True), and NOT by averaging the 
jabt and jabr per hue  bin and then calculating the DEi (False).
\end{DUlineblock}

\item[{nhbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int, number of hue bins to slice gamut 
(None use the one specified in :cri\_type: dict).
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float (°), hue at which to start slicing
\end{DUlineblock}

\item[{scale\_fcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] function handle to type of cri scale, 
\item[] e.g. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * linear()\_scale \textendash{}\textgreater{} (100 - scale\_factor*DEi), 
\item[] * log\_scale \textendash{}\textgreater{} (cfr. Ohno’s CQS), 
\item[] * psy\_scale (Smet et al.’s cri2012,See: LRT 2013)
\end{DUlineblock}
\end{DUlineblock}

\item[{scale\_factor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] factors used in scaling function
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarrays of Rfhi, Rcshi and Rhshi
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30, Method for Evaluating Light Source Color Rendition. 
New York, NY: The Illuminating Engineering Society of North America.}

\end{description}

\end{fulllineitems}

\index{jab\_to\_DEi() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.jab_to_DEi}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{jab\_to\_DEi}}{\emph{jabt}, \emph{jabr}, \emph{out='DEi'}, \emph{avg=None}}{}
Calculates color differences (\textasciitilde{}fidelity), DEi, of Jab input.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Cartesian color coordinates (e.g. Jab) 
of the samples under the test SPD
\end{DUlineblock}

\item[{jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Cartesian color coordinates (e.g. Jab) 
of the samples under the reference SPD
\end{DUlineblock}

\item[{avg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If None: don’t calculate average, else: avg must be function handle
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘DEi’ or str, optional
\item[] Specifies requested output (e.g. ‘DEi,DEa’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with DEi for :out: ‘DEi’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_to\_DEi() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_DEi}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_DEi}}{\emph{SPD}, \emph{cri\_type='ies-tm30'}, \emph{out='DEi'}, \emph{wl=None}, \emph{sampleset=None}, \emph{ref\_type=None}, \emph{cieobs=None}, \emph{avg=None}, \emph{cspace=None}, \emph{catf=None}, \emph{cri\_specific\_pars=None}}{}
Calculates color differences (\textasciitilde{}fidelity), DEi, of spectral data.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data 
(can be multiple SPDs, first axis are the wavelengths)
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘DEi’ or str, optional
\item[] Specifies requested output (e.g. ‘DEi,DEa,cct,duv’) 
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CRI\_TYPE\_DEFAULT or str or dict, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘str: specifies dict with default cri model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (for supported types, see luxpy.cri.\_CRI\_DEFAULTS{[}‘cri\_types’{]})
\end{DUlineblock}
\item[] - dict: user defined model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (see e.g. luxpy.cri.\_CRI\_DEFAULTS{[}‘cierf’{]} 
\item[] for required structure)
\end{DUlineblock}
\end{DUlineblock}
\item[] Note that any non-None input arguments to the function will 
override default values in cri\_type dict.
\end{DUlineblock}

\item[{sampleset}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray or str, optional
\item[] Specifies set of spectral reflectance samples for cri calculations.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults to standard set for metric in cri\_type.
\item[] - ndarray: user defined set of spectral reflectance functions 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (N+1, number of wavelengths); 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] first axis are wavelengths)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{ref\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or ndarray, optional
\item[] Specifies type of reference illuminant type.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to metric\_specific reference illuminant in 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] accordance with cri\_type.
\end{DUlineblock}
\item[] - str: ‘BB’ : Blackbody radiatiors, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘DL’: daylightphase, 
\item[] ‘ciera’: used in CIE CRI-13.3-1995, 
\item[] ‘cierf’: used in CIE 224-2017, 
\item[] ‘iesrf’: used in TM30-15, …
\end{DUlineblock}
\item[] - ndarray: user defined reference SPD
\end{DUlineblock}
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies which CMF sets to use for the calculation of the sample 
\item[] XYZs and the CCT (for reference illuminant calculation).
\item[] None defaults to the one specified in :cri\_type: dict.    
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘xyz’: str specifying CMF set for calculating xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] of samples and white 
\end{DUlineblock}
\item[] - key: ‘cct’: str specifying CMF set for calculating cct
\end{DUlineblock}
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies which color space to use.
\item[] None defaults to the one specified in  :cri\_type: dict.  
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘type’: str specifying color space used to calculate 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] color differences in.
\end{DUlineblock}
\item[] - key: ‘xyzw’: None or ndarray with white point of color space
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: use xyzw of test / reference (after chromatic 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] adaptation, if specified)
\end{DUlineblock}
\end{DUlineblock}
\item[] - other keys specify other possible parameters needed for color
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] space calculation, 
\item[] see lx.cri.\_CRI\_DEFAULTS{[}‘iesrf’{]}{[}‘cspace’{]} for details. 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{catf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Perform explicit CAT before converting to color space coordinates.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t apply a cat (other than perhaps the one built 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] into the colorspace) 
\end{DUlineblock}
\item[] - dict: with CAT parameters:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘D’: ndarray with degree of adaptation
\item[] - key: ‘mcat’: ndarray with sensor matrix specification
\item[] - key: ‘xyzw’: None or ndarray with white point
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] None: use xyzw of reference otherwise transform both 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] test and ref to xyzw
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{cri\_specific\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies other parameters specific to type of cri 
\item[] (e.g. maxC for CQS calculations)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: default to the one specified in  :cri\_type: dict. 
\item[] - dict: user specified parameters. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] For its use, see for example:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] luxpy.cri.\_CRI\_DEFAULTS{[}‘mcri’{]}{[}‘cri\_specific\_pars’{]}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with DEi for :out: ‘DEi’
\item[] 
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_to\_rg() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_rg}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_rg}}{\emph{SPD}, \emph{cri\_type='ies-tm30'}, \emph{out='Rg'}, \emph{wl=None}, \emph{sampleset=None}, \emph{ref\_type=None}, \emph{cieobs=None}, \emph{avg=None}, \emph{cspace=None}, \emph{catf=None}, \emph{cri\_specific\_pars=None}, \emph{rg\_pars=None}}{}
Calculates the color gamut index, Rg, of spectral data.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data 
(can be multiple SPDs, first axis are the wavelengths)
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rg’ or str, optional
\item[] Specifies requested output (e.g. ‘Rg,cct,duv’) 
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CRI\_TYPE\_DEFAULT or str or dict, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘str: specifies dict with default cri model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (for supported types, see luxpy.cri.\_CRI\_DEFAULTS{[}‘cri\_types’{]})
\end{DUlineblock}
\item[] - dict: user defined model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (see e.g. luxpy.cri.\_CRI\_DEFAULTS{[}‘cierf’{]} 
\item[] for required structure)
\end{DUlineblock}
\end{DUlineblock}
\item[] Note that any non-None input arguments to the function will 
override default values in cri\_type dict.
\end{DUlineblock}

\item[{sampleset}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray or str, optional
\item[] Specifies set of spectral reflectance samples for cri calculations.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults to standard set for metric in cri\_type.
\item[] - ndarray: user defined set of spectral reflectance functions 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (N+1, number of wavelengths); 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] first axis are wavelengths)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{ref\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or ndarray, optional
\item[] Specifies type of reference illuminant type.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to metric\_specific reference illuminant in 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] accordance with cri\_type.
\end{DUlineblock}
\item[] - str: ‘BB’ : Blackbody radiatiors, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘DL’: daylightphase, 
\item[] ‘ciera’: used in CIE CRI-13.3-1995, 
\item[] ‘cierf’: used in CIE 224-2017, 
\item[] ‘iesrf’: used in TM30-15, …
\end{DUlineblock}
\item[] - ndarray: user defined reference SPD
\end{DUlineblock}
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies which CMF sets to use for the calculation of the sample 
\item[] XYZs and the CCT (for reference illuminant calculation).
\item[] None defaults to the one specified in :cri\_type: dict.    
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘xyz’: str specifying CMF set for calculating xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] of samples and white 
\end{DUlineblock}
\item[] - key: ‘cct’: str specifying CMF set for calculating cct
\end{DUlineblock}
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies which color space to use.
\item[] None defaults to the one specified in  :cri\_type: dict.  
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘type’: str specifying color space used to calculate 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] color differences in.
\end{DUlineblock}
\item[] - key: ‘xyzw’: None or ndarray with white point of color space
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: use xyzw of test / reference (after chromatic 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] adaptation, if specified)
\end{DUlineblock}
\end{DUlineblock}
\item[] - other keys specify other possible parameters needed for color
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] space calculation, 
\item[] see lx.cri.\_CRI\_DEFAULTS{[}‘iesrf’{]}{[}‘cspace’{]} for details. 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{catf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Perform explicit CAT before converting to color space coordinates.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t apply a cat (other than perhaps the one built 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] into the colorspace) 
\end{DUlineblock}
\item[] - dict: with CAT parameters:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘D’: ndarray with degree of adaptation
\item[] - key: ‘mcat’: ndarray with sensor matrix specification
\item[] - key: ‘xyzw’: None or ndarray with white point
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] None: use xyzw of reference otherwise transform both 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] test and ref to xyzw
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{cri\_specific\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies other parameters specific to type of cri 
\item[] (e.g. maxC for CQS calculations)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: default to the one specified in  :cri\_type: dict. 
\item[] - dict: user specified parameters. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] For its use, see for example:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] luxpy.cri.\_CRI\_DEFAULTS{[}‘mcri’{]}{[}‘cri\_specific\_pars’{]}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{rg\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Dict containing specifying parameters for slicing the gamut.
\item[] Dict structure: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] \{‘nhbins’ : None, ‘start\_hue’ : 0, ‘normalize\_gamut’ : True\}
\end{DUlineblock}
\item[] - key: ‘nhbins’: int, number of hue bins to slice gamut 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (None use the one specified in :cri\_type: dict).
\end{DUlineblock}
\item[] - key: ‘start\_hue’: float (°), hue at which to start slicing
\item[] - key: ‘normalize\_gamut’: True or False: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] normalize gamut or not before calculating a gamut 
\item[] area index Rg. 
\end{DUlineblock}
\item[] - key: ‘normalized\_chroma\_ref’: 100.0 or float, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Controls the size (chroma/radius) 
\item[] of the normalization circle/gamut.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{avg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or fcn handle, optional
\item[] Averaging function (handle) for color differences, DEi 
\item[] (e.g. numpy.mean, .math.rms, .math.geomean)
\item[] None use the one specified in :cri\_type: dict.
\end{DUlineblock}

\item[{scale}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies scaling of color differences to obtain CRI.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None use the one specified in :cri\_type: dict.
\item[] - dict: user specified dict with scaling parameters.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘fcn’: function handle to type of cri scale, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] e.g. 
\item[] * linear()\_scale \textendash{}\textgreater{} (100 - scale\_factor*DEi), 
\item[] * log\_scale \textendash{}\textgreater{} (cfr. Ohno’s CQS), 
\item[] * psy\_scale (Smet et al.’s cri2012,See: LRT 2013)
\end{DUlineblock}
\end{DUlineblock}
\item[] - key: ‘cfactor’: factors used in scaling function, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Scaling factor value(s) will be optimized to 
\item[] minimize the rms between the Rf’s of the 
\item[] requested metric and the target metric specified
\item[] in:
\item[] 
\end{DUlineblock}
\item[] - key: ‘opt\_cri\_type’:  str 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * str: one of the preset \_CRI\_DEFAULTS
\item[] * dict: user speciied 
\item[] (dict must contain all keys as normal)
\end{DUlineblock}
\item[] Note that if key not in :scale: dict, 
\item[] then ‘opt\_cri\_type’ is added with default 
\item[] setting = ‘ciera’.
\end{DUlineblock}
\end{DUlineblock}
\item[] - key: ‘opt\_spd\_set’: ndarray with set of light 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] source spds used to optimize cfactor. 
\item[] Note that if key not in :scale: dict, 
\item[] then default = ‘F1-F12’.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with Rg for :out: ‘Rg’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30, Method for Evaluating Light Source Color Rendition. 
New York, NY: The Illuminating Engineering Society of North America.}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cri() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cri}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cri}}{\emph{SPD}, \emph{cri\_type='ies-tm30'}, \emph{out='Rf'}, \emph{wl=None}, \emph{sampleset=None}, \emph{ref\_type=None}, \emph{cieobs=None}, \emph{avg=None}, \emph{scale=None}, \emph{opt\_scale\_factor=False}, \emph{cspace=None}, \emph{catf=None}, \emph{cri\_specific\_pars=None}, \emph{rg\_pars=None}}{}
Calculates the color rendering fidelity index, Rf, of spectral data.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data 
(can be multiple SPDs, first axis are the wavelengths)
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,cct,duv’) 
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CRI\_TYPE\_DEFAULT or str or dict, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘str: specifies dict with default cri model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (for supported types, see luxpy.cri.\_CRI\_DEFAULTS{[}‘cri\_types’{]})
\end{DUlineblock}
\item[] - dict: user defined model parameters 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (see e.g. luxpy.cri.\_CRI\_DEFAULTS{[}‘cierf’{]} 
\item[] for required structure)
\end{DUlineblock}
\end{DUlineblock}
\item[] Note that any non-None input arguments to the function will 
override default values in cri\_type dict.
\end{DUlineblock}

\item[{sampleset}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray or str, optional
\item[] Specifies set of spectral reflectance samples for cri calculations.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None defaults to standard set for metric in cri\_type.
\item[] - ndarray: user defined set of spectral reflectance functions 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (.shape = (N+1, number of wavelengths); 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] first axis are wavelengths)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{ref\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or ndarray, optional
\item[] Specifies type of reference illuminant type.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: defaults to metric\_specific reference illuminant in 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] accordance with cri\_type.
\end{DUlineblock}
\item[] - str: ‘BB’ : Blackbody radiatiors, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘DL’: daylightphase, 
\item[] ‘ciera’: used in CIE CRI-13.3-1995, 
\item[] ‘cierf’: used in CIE 224-2017, 
\item[] ‘iesrf’: used in TM30-15, …
\end{DUlineblock}
\item[] - ndarray: user defined reference SPD
\end{DUlineblock}
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies which CMF sets to use for the calculation of the sample 
\item[] XYZs and the CCT (for reference illuminant calculation).
\item[] None defaults to the one specified in :cri\_type: dict.    
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘xyz’: str specifying CMF set for calculating xyz 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] of samples and white 
\end{DUlineblock}
\item[] - key: ‘cct’: str specifying CMF set for calculating cct
\end{DUlineblock}
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies which color space to use.
\item[] None defaults to the one specified in  :cri\_type: dict.  
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘type’: str specifying color space used to calculate 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] color differences in.
\end{DUlineblock}
\item[] - key: ‘xyzw’: None or ndarray with white point of color space
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: use xyzw of test / reference (after chromatic 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] adaptation, if specified)
\end{DUlineblock}
\end{DUlineblock}
\item[] - other keys specify other possible parameters needed for color
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] space calculation, 
\item[] see lx.cri.\_CRI\_DEFAULTS{[}‘iesrf’{]}{[}‘cspace’{]} for details. 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{catf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Perform explicit CAT before converting to color space coordinates.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t apply a cat (other than perhaps the one built 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] into the colorspace) 
\end{DUlineblock}
\item[] - dict: with CAT parameters:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘D’: ndarray with degree of adaptation
\item[] - key: ‘mcat’: ndarray with sensor matrix specification
\item[] - key: ‘xyzw’: None or ndarray with white point
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] None: use xyzw of reference otherwise transform both 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] test and ref to xyzw
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{cri\_specific\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies other parameters specific to type of cri 
\item[] (e.g. maxC for CQS calculations)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: default to the one specified in  :cri\_type: dict. 
\item[] - dict: user specified parameters. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] For its use, see for example:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] luxpy.cri.\_CRI\_DEFAULTS{[}‘mcri’{]}{[}‘cri\_specific\_pars’{]}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{rg\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Dict containing specifying parameters for slicing the gamut.
\item[] Dict structure: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] \{‘nhbins’ : None, ‘start\_hue’ : 0, ‘normalize\_gamut’ : True\}
\end{DUlineblock}
\item[] - key: ‘nhbins’: int, number of hue bins to slice gamut 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (None use the one specified in :cri\_type: dict).
\end{DUlineblock}
\item[] - key: ‘start\_hue’: float (°), hue at which to start slicing
\item[] - key: ‘normalize\_gamut’: True or False: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] normalize gamut or not before calculating a gamut 
\item[] area index Rg. 
\end{DUlineblock}
\item[] - key: ‘normalized\_chroma\_ref’: 100.0 or float, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Controls the size (chroma/radius) 
\item[] of the normalization circle/gamut.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{avg}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or fcn handle, optional
\item[] Averaging function (handle) for color differences, DEi 
\item[] (e.g. numpy.mean, .math.rms, .math.geomean)
\item[] None use the one specified in :cri\_type: dict.
\end{DUlineblock}

\item[{scale}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or dict, optional
\item[] Specifies scaling of color differences to obtain CRI.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None use the one specified in :cri\_type: dict.
\item[] - dict: user specified dict with scaling parameters.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘fcn’: function handle to type of cri scale, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] e.g. 
\item[] * linear()\_scale \textendash{}\textgreater{} (100 - scale\_factor*DEi), 
\item[] * log\_scale \textendash{}\textgreater{} (cfr. Ohno’s CQS), 
\item[] * psy\_scale (Smet et al.’s cri2012,See: LRT 2013)
\end{DUlineblock}
\end{DUlineblock}
\item[] - key: ‘cfactor’: factors used in scaling function, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Scaling factor value(s) will be optimized to 
\item[] minimize the rms between the Rf’s of the 
\item[] requested metric and the target metric specified
\item[] in:
\item[] 
\end{DUlineblock}
\item[] - key: ‘opt\_cri\_type’:  str 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * str: one of the preset \_CRI\_DEFAULTS
\item[] * dict: user speciied 
\item[] (dict must contain all keys as normal)
\end{DUlineblock}
\item[] Note that if key not in :scale: dict, 
\item[] then ‘opt\_cri\_type’ is added with default 
\item[] setting = ‘ciera’.
\end{DUlineblock}
\end{DUlineblock}
\item[] - key: ‘opt\_spd\_set’: ndarray with set of light 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] source spds used to optimize cfactor. 
\item[] Note that if key not in :scale: dict, 
\item[] then default = ‘F1-F12’.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{opt\_scale}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] True: optimize scaling-factor, else do nothing and use value of 
scaling-factor in :scale: dict.   
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30, Method for Evaluating Light Source Color Rendition. 
New York, NY: The Illuminating Engineering Society of North America.}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{CIE224:2017. CIE 2017 Colour Fidelity Index for accurate scientific use. 
Vienna, Austria: CIE. (2017).}

4. \sphinxhref{http://lrt.sagepub.com/content/45/6/689}{Smet, K., Schanda, J., Whitehead, L., \& Luo, R. (2013). 
CRI2012: A proposal for updating the CIE colour rendering index. 
Lighting Research and Technology, 45, 689\textendash{}709.}

5. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=303}{CIE13.3-1995. Method of Measuring and Specifying 
Colour Rendering Properties of Light Sources 
(Vol. CIE13.3-19). Vienna, Austria: CIE. (1995).}

\end{description}

\end{fulllineitems}

\index{spd\_to\_ciera() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_ciera}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_ciera}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function the ‘ciera’ color rendition (fidelity) metric 
(CIE 13.3-1995).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data 
(can be multiple SPDs, first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate :SPD: to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with CIE13.3 Ra for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=303}{CIE13.3-1995. Method of Measuring and Specifying 
Colour Rendering Properties of Light Sources 
(Vol. CIE13.3-19). Vienna, Austria: CIE. (1995).}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cierf() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cierf}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cierf}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function the ‘cierf’ color rendition (fidelity) metric 
(CIE224-2017).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate :SPD: to.
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with CIE224-2017 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{CIE224:2017. CIE 2017 Colour Fidelity Index for accurate scientific use. 
Vienna, Austria: CIE. (2017).}

\end{description}

\end{fulllineitems}

\index{spd\_to\_ciera\_133\_1995() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_ciera_133_1995}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_ciera\_133\_1995}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function the ‘ciera’ color rendition (fidelity) metric 
(CIE 13.3-1995).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data 
(can be multiple SPDs, first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate :SPD: to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with CIE13.3 Ra for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php/index.php?i\_ca\_id=303}{CIE13.3-1995. Method of Measuring and Specifying 
Colour Rendering Properties of Light Sources 
(Vol. CIE13.3-19). Vienna, Austria: CIE. (1995).}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cierf\_224\_2017() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cierf_224_2017}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cierf\_224\_2017}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function the ‘cierf’ color rendition (fidelity) metric 
(CIE224-2017).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate :SPD: to.
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with CIE224-2017 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/index.php?i\_ca\_id=1027}{CIE224:2017. CIE 2017 Colour Fidelity Index for accurate scientific use. 
Vienna, Austria: CIE. (2017).}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrf() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrf}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrf}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-18'}}{}
Wrapper function for the ‘iesrf’ color fidelity index (IES TM30-18).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrg() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrg}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrg}}{\emph{SPD}, \emph{out='Rg'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-18'}}{}
Wrapper function for the ‘spd\_to\_rg’ color gamut area index (IES TM30-18).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rg’ or str, optional
\item[] Specifies requested output (e.g. ‘Rg,Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rg for :out: ‘Rg’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrf\_tm30() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrf_tm30}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrf\_tm30}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-18'}}{}
Wrapper function for the ‘iesrf’ color fidelity index (IES TM30-18).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrg\_tm30() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrg_tm30}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrg\_tm30}}{\emph{SPD}, \emph{out='Rg'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-18'}}{}
Wrapper function for the ‘spd\_to\_rg’ color gamut area index (IES TM30-18).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rg’ or str, optional
\item[] Specifies requested output (e.g. ‘Rg,Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rg for :out: ‘Rg’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrf\_tm30\_15() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrf_tm30_15}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrf\_tm30\_15}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}, \emph{cri\_type='iesrf\_tm30\_15'}}{}
Wrapper function for the ‘iesrf’ color fidelity index (IES TM30-15).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrg\_tm30\_15() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrg_tm30_15}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrg\_tm30\_15}}{\emph{SPD}, \emph{out='Rg'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-15'}}{}
Wrapper function for the ‘spd\_to\_rg’ color gamut area index (IES TM30-15).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rg’ or str, optional
\item[] Specifies requested output (e.g. ‘RgRf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rg for :out: ‘Rg’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrf\_tm30\_18() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrf_tm30_18}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrf\_tm30\_18}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-18'}}{}
Wrapper function for the ‘iesrf’ color fidelity index (IES TM30-18).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_iesrg\_tm30\_18() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_iesrg_tm30_18}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_iesrg\_tm30\_18}}{\emph{SPD}, \emph{out='Rg'}, \emph{wl=None}, \emph{cri\_type='iesrf-tm30-18'}}{}
Wrapper function for the ‘spd\_to\_rg’ color gamut area index (IES TM30-18).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rg’ or str, optional
\item[] Specifies requested output (e.g. ‘Rg,Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with IES TM30\_15 Rg for :out: ‘Rg’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://www.ies.org/store/technical-memoranda/ies-method-for-evaluating-light-source-color-rendition/}{IES TM30 (99, 4880 spectrally uniform samples)}

2. \sphinxhref{https://www.osapublishing.org/oe/abstract.cfm?uri=oe-23-12-15888}{A. David, P. T. Fini, K. W. Houser, Y. Ohno, M. P. Royer, K. A. G. Smet, M. Wei, and L. Whitehead, 
“Development of the IES method for evaluating the color rendition of light sources,” 
Opt. Express, vol. 23, no. 12, pp. 15888\textendash{}15906, 2015.}

3. \sphinxhref{http://www.tandfonline.com/doi/abs/10.1080/15502724.2015.1091356}{K. A. G. Smet, A. David, and L. Whitehead, 
“Why color space uniformity and sample set spectral uniformity are essential for color rendering measures,” 
LEUKOS, vol. 12, no. 1\textendash{}2, pp. 39\textendash{}50, 2016}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cri2012() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cri2012}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cri2012}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function for the ‘cri2012’ color rendition (fidelity) metric
with the spectally uniform HL17 mathematical sampleset.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rf’ or str, optional
\item[] Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with CRI2012 Rf for :out: ‘Rf’
\item[] Other output is also possible by changing the :out: str value.
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode\begin{description}
\item[{..{[}1{]} Smet, K., Schanda, J., Whitehead, L., \& Luo, R. (2013). }] \leavevmode
CRI2012: A proposal for updating the CIE colour rendering index. 
Lighting Research and Technology, 45, 689\textendash{}709. 
Retrieved from \sphinxurl{http://lrt.sagepub.com/content/45/6/689}

\end{description}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cri2012\_hl17() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cri2012_hl17}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cri2012\_hl17}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function for the ‘cri2012’ color rendition (fidelity) metric
with the spectally uniform HL17 mathematical sampleset.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)

\item[{wl}] \leavevmode
None, optional
Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
None: default to no interpolation

\item[{out}] \leavevmode
‘Rf’ or str, optional
Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’)

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
float or ndarray with CRI2012 Rf for :out: ‘Rf’
Other output is also possible by changing the :out: str value.

\end{description}\end{quote}

\item[{Reference:}] \leavevmode
1. \sphinxhref{http://lrt.sagepub.com/content/45/6/689}{Smet, K., Schanda, J., Whitehead, L., \& Luo, R. (2013). 
CRI2012: A proposal for updating the CIE colour rendering index. 
Lighting Research and Technology, 45, 689\textendash{}709.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cri2012\_hl1000() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cri2012_hl1000}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cri2012\_hl1000}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function for the ‘cri2012’ color rendition (fidelity) metric
with the spectally uniform Hybrid HL1000 sampleset.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)

\item[{wl}] \leavevmode
None, optional
Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
None: default to no interpolation

\item[{out}] \leavevmode
‘Rf’ or str, optional
Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’)

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
float or ndarray with CRI2012 Rf for :out: ‘Rf’
Other output is also possible by changing the :out: str value.

\end{description}\end{quote}

\item[{Reference:}] \leavevmode
1. \sphinxhref{http://lrt.sagepub.com/content/45/6/689}{Smet, K., Schanda, J., Whitehead, L., \& Luo, R. (2013). 
CRI2012: A proposal for updating the CIE colour rendering index. 
Lighting Research and Technology, 45, 689\textendash{}709.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cri2012\_real210() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cri2012_real210}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cri2012\_real210}}{\emph{SPD}, \emph{out='Rf'}, \emph{wl=None}}{}
Wrapper function the ‘cri2012’ color rendition (fidelity) metric 
with the Real-210 sampleset (normally for special color rendering indices).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)

\item[{wl}] \leavevmode
None, optional
Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
None: default to no interpolation

\item[{out}] \leavevmode
‘Rf’ or str, optional
Specifies requested output (e.g. ‘Rf,Rfi,cct,duv’)

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
float or ndarray with CRI2012 Rf for :out: ‘Rf’
Other output is also possible by changing the :out: str value.

\end{description}\end{quote}

\item[{Reference:}] \leavevmode
1. \sphinxhref{http://lrt.sagepub.com/content/45/6/689}{Smet, K., Schanda, J., Whitehead, L., \& Luo, R. (2013). 
CRI2012: A proposal for updating the CIE colour rendering index. 
Lighting Research and Technology, 45, 689\textendash{}709.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_mcri() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_mcri}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_mcri}}{\emph{SPD}, \emph{D=0.9}, \emph{E=None}, \emph{Yb=20.0}, \emph{out='Rm'}, \emph{wl=None}}{}
Calculates the MCRI or Memory Color Rendition Index, Rm
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{D}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.9, optional
\item[] Degree of adaptation.
\end{DUlineblock}

\item[{E}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Illuminance in lux 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (used to calculate La = (Yb/100)*(E/pi) to then calculate D 
\item[] following the ‘cat02’ model). 
\end{DUlineblock}
\item[] If None: the degree is determined by :D:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If (:E: is not None) \& (:Yb: is None):  :E: is assumed to contain 
the adapting field luminance La.
\end{DUlineblock}
\end{DUlineblock}

\item[{Yb}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 20.0, optional
\item[] Luminance factor of background. (used when calculating La from E)
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Rm’ or str, optional
\item[] Specifies requested output (e.g. ‘Rm,Rmi,cct,duv’) 
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation   
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with MCRI Rm for :out: ‘Rm’
\item[] Other output is also possible by changing the :out: str value.        
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://www.sciencedirect.com/science/article/pii/S0378778812000837}{K.A.G. Smet, W.R. Ryckaert, M.R. Pointer, G. Deconinck, P. Hanselaer,(2012)
“A memory colour quality metric for white light sources,” 
Energy Build., vol. 49, no. C, pp. 216\textendash{}225.}

\end{description}

\end{fulllineitems}

\index{spd\_to\_cqs() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.spd_to_cqs}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{spd\_to\_cqs}}{\emph{SPD}, \emph{version='v9.0'}, \emph{out='Qa'}, \emph{wl=None}}{}
Calculates CQS Qa (Qai) or Qf (Qfi) or Qp (Qpi) for versions v9.0 or v7.5.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{SPD}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data (can be multiple SPDs, 
first axis are the wavelengths)
\end{DUlineblock}

\item[{version}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘v9.0’ or ‘v7.5’, optional
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Qa’ or str, optional
\item[] Specifies requested output (e.g. ‘Qa,Qai,Qf,cct,duv’) 
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Wavelengths (or {[}start, end, spacing{]}) to interpolate the SPDs to. 
\item[] None: default to no interpolation   
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with CQS Qa for :out: ‘Qa’
\item[] Other output is also possible by changing the :out: str value. 
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://spie.org/Publications/Journal/10.1117/1.3360335}{W. Davis and Y. Ohno, 
“Color quality scale,” (2010), 
Opt. Eng., vol. 49, no. 3, pp. 33602\textendash{}33616.}

\end{description}

\end{fulllineitems}

\index{plot\_hue\_bins() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.plot_hue_bins}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{plot\_hue\_bins}}{\emph{hbins=16}, \emph{start\_hue=0.0}, \emph{scalef=100}, \emph{plot\_axis\_labels=False}, \emph{bin\_labels='\#'}, \emph{plot\_edge\_lines=True}, \emph{plot\_center\_lines=False}, \emph{plot\_bin\_colors=True}, \emph{axtype='polar'}, \emph{ax=None}, \emph{force\_CVG\_layout=False}}{}
Makes basis plot for Color Vector Graphic (CVG).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{hbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 16 or ndarray with sorted hue bin centers (°), optional
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.0, optional
\end{DUlineblock}

\item[{scalef}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100, optional
\item[] Scale factor for graphic.
\end{DUlineblock}

\item[{plot\_axis\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Turns axis ticks on/off (True/False).
\end{DUlineblock}

\item[{bin\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}str{]} or ‘\#’, optional
\item[] Plots labels at the bin center hues.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t plot.
\item[] - list{[}str{]}: list with str for each bin. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (len(:bin\_labels:) = :nhbins:)
\end{DUlineblock}
\item[] - ‘\#’: plots number.
\end{DUlineblock}
\end{DUlineblock}

\item[{plot\_edge\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Plot grey bin edge lines with ‘\textendash{}’.
\end{DUlineblock}

\item[{plot\_center\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Plot colored lines at ‘center’ of hue bin.
\end{DUlineblock}

\item[{plot\_bin\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Colorize hue bins.
\end{DUlineblock}

\item[{axtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘polar’ or ‘cart’, optional
\item[] Make polar or Cartesian plot.
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ‘new’ or ‘same’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None or ‘new’ creates new plot
\item[] - ‘same’: continue plot on same axes.
\item[] - axes handle: plot on specified axes.
\end{DUlineblock}
\end{DUlineblock}

\item[{force\_CVG\_layout}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True: Force plot of basis of CVG on first encounter.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] gcf(), gca(), list with rgb colors for hue bins (for use in 
other plotting fcns)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plot\_ColorVectorGraphic() (in module luxpy.color.cri)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.plot_ColorVectorGraphic}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.}\sphinxbfcode{plot\_ColorVectorGraphic}}{\emph{jabt}, \emph{jabr}, \emph{hbins=16}, \emph{start\_hue=0.0}, \emph{scalef=100}, \emph{plot\_axis\_labels=False}, \emph{bin\_labels=None}, \emph{plot\_edge\_lines=True}, \emph{plot\_center\_lines=False}, \emph{plot\_bin\_colors=True}, \emph{axtype='polar'}, \emph{ax=None}, \emph{force\_CVG\_layout=False}}{}
Plot Color Vector Graphic (CVG).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab data under test SPD
\end{DUlineblock}

\item[{jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab data under reference SPD
\end{DUlineblock}

\item[{hbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 16 or ndarray with sorted hue bin centers (°), optional
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.0, optional
\end{DUlineblock}

\item[{scalef}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100, optional
\item[] Scale factor for graphic.
\end{DUlineblock}

\item[{plot\_axis\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Turns axis ticks on/off (True/False).
\end{DUlineblock}

\item[{bin\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}str{]} or ‘\#’, optional
\item[] Plots labels at the bin center hues.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t plot.
\item[] - list{[}str{]}: list with str for each bin. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (len(:bin\_labels:) = :nhbins:)
\end{DUlineblock}
\item[] - ‘\#’: plots number.
\end{DUlineblock}
\end{DUlineblock}

\item[{plot\_edge\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Plot grey bin edge lines with ‘\textendash{}’.
\end{DUlineblock}

\item[{plot\_center\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Plot colored lines at ‘center’ of hue bin.
\end{DUlineblock}

\item[{plot\_bin\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Colorize hue-bins.
\end{DUlineblock}

\item[{axtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘polar’ or ‘cart’, optional
\item[] Make polar or Cartesian plot.
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ‘new’ or ‘same’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None or ‘new’ creates new plot
\item[] - ‘same’: continue plot on same axes.
\item[] - axes handle: plot on specified axes.
\end{DUlineblock}
\end{DUlineblock}

\item[{force\_CVG\_layout}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True: Force plot of basis of CVG.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] gcf(), gca(), list with rgb colors for hue bins (for use in 
other plotting fcns)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\begin{fulllineitems}
\pysigline{\sphinxbfcode{spd\_to\_ies\_tm30\_metrics(SPD,~cri\_type=None,~hbins=16,~start\_hue=0.0,~scalef=100,~vf\_model\_type='M6',~vf\_pcolorshift=\{'Cref':~40,~'href':~array({[}3.7836e+00,~3.3161e+00,~2.8271e+00,~1.9093e+00,~5.2787e+00,}}\pysigline{\sphinxbfcode{4.3082e+00,~3.7764e-01,~6.2055e+00,~1.4564e+00,~8.8940e-01{]}),~'labels':~array({[}'5B',~'5BG',~'5G',~'5GY',~'5P',~'5PB',~'5R',~'5RP',~'5Y',~'5YR'{]},}}\pysigline{\sphinxbfcode{dtype=object),~'sig':~0.3\},~scale\_vf\_chroma\_to\_sample\_chroma=False)}}
Calculates IES TM30 metrics from spectral data.
\begin{quote}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] numpy.ndarray with spectral data 
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If None: defaults to cri\_type = ‘iesrf’.
\item[] Not none values of :hbins:, :start\_hue: and :scalef: overwrite 
input in cri\_type{[}‘rg\_pars’{]} 
\end{DUlineblock}

\item[{hbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or numpy.ndarray with sorted hue bin centers (°), optional
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\end{DUlineblock}

\item[{scalef}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Scale factor for reference circle.
\end{DUlineblock}

\item[{vf\_pcolorshift}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_PCOLORSHIFT or user defined dict, optional
\item[] The polynomial models of degree 5 and 6 can be fully specified or 
summarized by the model parameters themselved OR by calculating the
dCoverC and dH at resp. 5 and 6 hues. :VF\_pcolorshift: specifies 
these hues and chroma level.
\end{DUlineblock}

\item[{scale\_vf\_chroma\_to\_sample\_chroma}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Scale chroma of reference and test vf fields such that average of 
binned reference chroma equals that of the binned sample chroma
before calculating hue bin metrics.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}
\end{quote}
\begin{description}
\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with color rendering data:
\item[] - ‘SPD’  : ndarray test SPDs
\item[] - ‘bjabt’: ndarray with binned jab data under test SPDs
\item[] - ‘bjabr’: ndarray with binned jab data under reference SPDs
\item[] - ‘cct’  : ndarray with CCT of test SPD
\item[] - ‘duv’  : ndarray with distance to blackbody locus of test SPD
\item[] - ‘Rf’   : ndarray with general color fidelity indices
\item[] - ‘Rg’   : ndarray with gamut area indices
\item[] - ‘Rfi’  : ndarray with specific color fidelity indices
\item[] - ‘Rfhi’ : ndarray with local (hue binned) fidelity indices
\item[] - ‘Rcshi’: ndarray with local chroma shifts indices
\item[] - ‘Rhshi’: ndarray with local hue shifts indices
\item[] - ‘Rt’  : ndarray with general metameric uncertainty index Rt
\item[] - ‘Rti’ : ndarray with specific metameric uncertainty indices Rti
\item[] - ‘Rfhi\_vf’ : ndarray with local (hue binned) fidelity indices 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] obtained from VF model predictions at color space
\item[] pixel coordinates
\end{DUlineblock}
\item[] - ‘Rcshi\_vf’: ndarray with local chroma shifts indices 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (same as above)
\end{DUlineblock}
\item[] - ‘Rhshi\_vf’: ndarray with local hue shifts indices 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (same as above)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\begin{fulllineitems}
\pysigline{\sphinxbfcode{plot\_cri\_graphics(data,~cri\_type=None,~hbins=16,~start\_hue=0.0,~scalef=100,~plot\_axis\_labels=False,~bin\_labels=None,~plot\_edge\_lines=True,~plot\_center\_lines=False,~plot\_bin\_colors=True,~axtype='polar',~ax=None,~force\_CVG\_layout=True,~vf\_model\_type='M6',~vf\_pcolorshift=\{'Cref':~40,~'href':~array({[}3.7836e+00,~3.3161e+00,~2.8271e+00,~1.9093e+00,~5.2787e+00,}}\pysigline{\sphinxbfcode{4.3082e+00,~3.7764e-01,~6.2055e+00,~1.4564e+00,~8.8940e-01{]}),~'labels':~array({[}'5B',~'5BG',~'5G',~'5GY',~'5P',~'5PB',~'5R',~'5RP',~'5Y',~'5YR'{]},}}\pysigline{\sphinxbfcode{dtype=object),~'sig':~0.3\},~vf\_color='k',~vf\_bin\_labels=array({[}'5B',~'5BG',~'5G',~'5GY',~'5P',~'5PB',~'5R',~'5RP',~'5Y',~'5YR'{]},~~~~~~~dtype=object),~vf\_plot\_bin\_colors=True,~scale\_vf\_chroma\_to\_sample\_chroma=False,~plot\_VF=True,~plot\_CF=False,~plot\_SF=False)}}
Plot graphical information on color rendition properties.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectral data or dict with pre-computed metrics.
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If None: defaults to cri\_type = ‘iesrf’.
\item[] :hbins:, :start\_hue: and :scalef: are ignored if cri\_type not None 
\item[] and values are replaced by those in cri\_type{[}‘rg\_pars’{]}
\end{DUlineblock}

\item[{hbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 16 or ndarray with sorted hue bin centers (°), optional
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0.0, optional
\end{DUlineblock}

\item[{scalef}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 100, optional
\item[] Scale factor for graphic.
\end{DUlineblock}

\item[{plot\_axis\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Turns axis ticks on/off (True/False).
\end{DUlineblock}

\item[{bin\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}str{]} or ‘\#’, optional
\item[] Plots labels at the bin center hues.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t plot.
\item[] - list{[}str{]}: list with str for each bin. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (len(:bin\_labels:) = :nhbins:)
\end{DUlineblock}
\item[] - ‘\#’: plots number.
\end{DUlineblock}
\end{DUlineblock}

\item[{plot\_edge\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Plot grey bin edge lines with ‘\textendash{}’.
\end{DUlineblock}

\item[{plot\_center\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Plot colored lines at ‘center’ of hue bin.
\end{DUlineblock}

\item[{plot\_bin\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Colorize hue bins.
\end{DUlineblock}

\item[{axtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘polar’ or ‘cart’, optional
\item[] Make polar or Cartesian plot.
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ‘new’ or ‘same’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None or ‘new’ creates new plot
\item[] - ‘same’: continue plot on same axes.
\item[] - axes handle: plot on specified axes.
\end{DUlineblock}
\end{DUlineblock}

\item[{force\_CVG\_layout}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True: Force plot of basis of CVG.
\end{DUlineblock}

\item[{vf\_model\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_MODEL\_TYPE or ‘M6’ or ‘M5’, optional
\item[] Type of polynomial vector field model to use for the calculation of
base color shift and metameric uncertainty.
\end{DUlineblock}

\item[{vf\_pcolorshift}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_PCOLORSHIFT or user defined dict, optional
\item[] The polynomial models of degree 5 and 6 can be fully specified or 
summarized by the model parameters themselved OR by calculating the
dCoverC and dH at resp. 5 and 6 hues. :VF\_pcolorshift: specifies 
these hues and chroma level.
\end{DUlineblock}

\item[{vf\_color}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] For plotting the vector fields.
\end{DUlineblock}

\item[{vf\_plot\_bin\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Colorize hue bins of VF graph.
\end{DUlineblock}

\item[{scale\_vf\_chroma\_to\_sample\_chroma}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Scale chroma of reference and test vf fields such that average of 
binned reference chroma equals that of the binned sample chroma
before calculating hue bin metrics.
\end{DUlineblock}

\item[{vf\_bin\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] see :bin\_labels:
\item[] Set VF model hue-bin labels.
\end{DUlineblock}

\item[{plot\_CF}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Plot circle fields.
\end{DUlineblock}

\item[{plot\_VF}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Plot vector fields.
\end{DUlineblock}

\item[{plot\_SF}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Plot sample shifts.   
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (data, 
\item[] {[}plt.gcf(),ax\_spd, ax\_CVG, ax\_locC, ax\_locH, ax\_VF{]}, 
\item[] cmap )
\item[] 
\item[] :data: dict with color rendering data
\item[] with keys:
\item[] - ‘SPD’  : ndarray test SPDs
\item[] - ‘bjabt’: ndarray with binned jab data under test SPDs
\item[] - ‘bjabr’: ndarray with binned jab data under reference SPDs
\item[] - ‘cct’  : ndarray with CCT of test SPD
\item[] - ‘duv’  : ndarray with distance to blackbody locus of test SPD
\item[] - ‘Rf’   : ndarray with general color fidelity indices
\item[] - ‘Rg’   : ndarray with gamut area indices
\item[] - ‘Rfi’  : ndarray with specific color fidelity indices
\item[] - ‘Rfhi’ : ndarray with local (hue binned) fidelity indices
\item[] - ‘Rcshi’: ndarray with local chroma shifts indices
\item[] - ‘Rhshi’: ndarray with local hue shifts indices
\item[] - ‘Rt’  : ndarray with general metameric uncertainty index Rt
\item[] - ‘Rti’ : ndarray with specific metameric uncertainty indices Rti
\item[] - ‘Rfhi\_vf’ : ndarray with local (hue binned) fidelity indices 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] obtained from VF model predictions at color space
\item[] pixel coordinates
\end{DUlineblock}
\item[] - ‘Rcshi\_vf’: ndarray with local chroma shifts indices 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (same as above)
\end{DUlineblock}
\item[] - ‘Rhshi\_vf’: ndarray with local hue shifts indices 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (same as above)
\item[] 
\end{DUlineblock}
\item[] :{[}…{]}: list with handles to current figure and 5 axes.
\item[] 
\item[] :cmap: list with rgb colors for hue bins 
(for use in other plotting fcns)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\subsection{cri/VFPX/}
\label{\detokenize{color:cri-vfpx}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
VF\_PX\_models.py

\item {} 
vectorshiftmodel.py

\item {} 
pixelshiftmodel.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.cri.VFPX

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{color:module-luxpy.color.cri.VFPX}}\index{luxpy.color.cri.VFPX (module)}\index{get\_poly\_model() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.get_poly_model}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{get\_poly\_model}}{\emph{jabt}, \emph{jabr}, \emph{modeltype='M6'}}{}
Setup base color shift model (delta\_a, delta\_b), 
determine model parameters and accuracy.

\begin{DUlineblock}{0em}
\item[] Calculates a base color shift (delta) from the ref. chromaticity ar, br.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab color coordinates under the test SPD.
\end{DUlineblock}

\item[{jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab color coordinates under the reference SPD.
\end{DUlineblock}

\item[{modeltype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_MODEL\_TYPE or ‘M6’ or ‘M5’, optional
\item[] Specifies degree 5 or degree 6 polynomial model in ab-coordinates.
(see notes below)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (poly\_model, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] pmodel, 
\item[] dab\_model, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] dab\_res, 
\item[] dCHoverC\_res, 
\item[] dab\_std, 
\item[] dCHoverC\_std)
\item[] 
\end{DUlineblock}
\end{DUlineblock}
\item[] :poly\_model: function handle to model
\item[] :pmodel: ndarray with model parameters
\item[] :dab\_model: ndarray with ab model predictions from ar, br.
\item[] :dab\_res: ndarray with residuals between ‘da,db’ of samples and 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘da,db’ predicted by the model.
\end{DUlineblock}
\item[] :dCHoverC\_res: ndarray with residuals between ‘dCoverC,dH’ 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] of samples and ‘dCoverC,dH’ predicted by the model.
\end{DUlineblock}
\item[] Note: dCoverC = (Ct - Cr)/Cr and dH = ht - hr 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (predicted from model, see notes below)
\end{DUlineblock}
\end{DUlineblock}
\item[] :dab\_std: ndarray with std of :dab\_res:
\item[] :dCHoverC\_std: ndarray with std of :dCHoverC\_res: 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes: }] \leavevmode\begin{enumerate}
\item {} \begin{description}
\item[{Model types:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] poly5\_model = lambda a,b,p:         p{[}0{]}*a + p{[}1{]}*b + p{[}2{]}*(a**2) + p{[}3{]}*a*b + p{[}4{]}*(b**2)
\item[] poly6\_model = lambda a,b,p:  p{[}0{]} + p{[}1{]}*a + p{[}2{]}*b + p{[}3{]}*(a**2) + p{[}4{]}*a*b + p{[}5{]}*(b**2)
\end{DUlineblock}

\end{description}

\item {} \begin{description}
\item[{Calculation of dCoverC and dH:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dCoverC = (np.cos(hr)*da + np.sin(hr)*db)/Cr
\item[] dHoverC = (np.cos(hr)*db - np.sin(hr)*da)/Cr    
\end{DUlineblock}

\end{description}

\end{enumerate}

\end{description}

\end{fulllineitems}

\index{apply\_poly\_model\_at\_x() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.apply_poly_model_at_x}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{apply\_poly\_model\_at\_x}}{\emph{poly\_model}, \emph{pmodel}, \emph{axr}, \emph{bxr}}{}
Applies base color shift model at cartesian coordinates axr, bxr.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{poly\_model}] \leavevmode
\begin{DUlineblock}{0em}
\item[] function handle to model
\end{DUlineblock}

\item[{pmodel}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with model parameters.
\end{DUlineblock}

\item[{axr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with a-coordinates under the reference conditions
\end{DUlineblock}

\item[{bxr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with b-coordinates under the reference conditions
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (axt,bxt,Cxt,hxt,
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] axr,bxr,Cxr,hxr)
\item[] 
\end{DUlineblock}
\item[] ndarrays with ab-coordinates, chroma and hue 
predicted by the model (xt), under the reference (xr).
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{generate\_vector\_field() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.generate_vector_field}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{generate\_vector\_field}}{\emph{poly\_model}, \emph{pmodel}, \emph{axr=array({[}-40}, \emph{-35}, \emph{-30}, \emph{-25}, \emph{-20}, \emph{-15}, \emph{-10}, \emph{-5}, \emph{0}, \emph{5}, \emph{10}, \emph{15}, \emph{20}, \emph{25}, \emph{30}, \emph{35}, \emph{40{]})}, \emph{bxr=array({[}-40}, \emph{-35}, \emph{-30}, \emph{-25}, \emph{-20}, \emph{-15}, \emph{-10}, \emph{-5}, \emph{0}, \emph{5}, \emph{10}, \emph{15}, \emph{20}, \emph{25}, \emph{30}, \emph{35}, \emph{40{]})}, \emph{make\_grid=True}, \emph{limit\_grid\_radius=0}, \emph{color='k'}}{}
Generates a field of vectors using the base color shift model.

\begin{DUlineblock}{0em}
\item[] Has the option to plot vector field.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{poly\_model}] \leavevmode
\begin{DUlineblock}{0em}
\item[] function handle to model
\end{DUlineblock}

\item[{pmodel}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with model parameters.
\end{DUlineblock}

\item[{axr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.arange(-\_VF\_MAXR,\_VF\_MAXR+\_VF\_DELTAR,\_VF\_DELTAR), optional
\item[] Ndarray specifying the a-coordinates at which to apply the model.
\end{DUlineblock}

\item[{bxr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.arange(-\_VF\_MAXR,\_VF\_MAXR+\_VF\_DELTAR,\_VF\_DELTAR), optional
\item[] Ndarray specifying the b-coordinates at which to apply the model.
\end{DUlineblock}

\item[{make\_grid}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] True: generate a 2d-grid from :axr:, :bxr:.
\end{DUlineblock}

\item[{limit\_grid\_radius}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] A value of zeros keeps grid as specified  by axr,bxr.
\item[] A value \textgreater{} 0 only keeps (a,b) coordinates within :limit\_grid\_radius:
\end{DUlineblock}
\end{DUlineblock}

\item[{color}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] For plotting the vector field.
\item[] If :color: == 0, no plot will be generated.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] If :color: == 0: ndarray of axt,bxt,axr,bxr
\item[] Else: handle to axes used for plotting.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\begin{fulllineitems}
\pysigline{\sphinxbfcode{VF\_colorshift\_model(S,~cri\_type='iesrf',~model\_type='M6',~cspace=\{'Yw':~100.0,~'conditions':~\{'La':~100.0,~'surround':~'avg',~'D':~1.0,~'Yb':~20.0,~'Dtype':~None\},~'mcat':~'cat02',~'type':~'jab\_cam02ucs',~'xyzw':~None,~'yellowbluepurplecorrect':~None\},~sampleset=None,~pool=False,~pcolorshift=\{'Cref':~40,~'href':~array({[}3.1416e-01,~9.4248e-01,~1.5708e+00,~2.1991e+00,~2.8274e+00,}}\pysigline{\sphinxbfcode{3.4558e+00,~4.0841e+00,~4.7124e+00,~5.3407e+00,~5.9690e+00{]}),~'sig':~0.3\},~vfcolor='k',~verbosity=0)}}
Applies full vector field model calculations to spectral data.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{S}] \leavevmode
\begin{DUlineblock}{0em}
\item[] nump.ndarray with spectral data.
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_CRI\_DEFAULT or str or dict, optional
\item[] Specifies type of color fidelity model to use. 
\item[] Controls choice of ref. ill., sample set, averaging, scaling, etc.
\item[] See luxpy.cri.spd\_to\_cri for more info.
\end{DUlineblock}

\item[{modeltype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_MODEL\_TYPE or ‘M6’ or ‘M5’, optional
\item[] Specifies degree 5 or degree 6 polynomial model in ab-coordinates.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_CSPACE or dict, optional
\item[] Specifies color space. See \_VF\_CSPACE\_EXAMPLE for example structure.
\end{DUlineblock}

\item[{sampleset}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or ndarray, optional
\item[] Sampleset to be used when calculating vector field model.
\end{DUlineblock}

\item[{pool}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] If :S: contains multiple spectra, True pools all jab data before 
modeling the vector field, while False models a different field 
for each spectrum.
\end{DUlineblock}

\item[{pcolorshift}] \leavevmode
\begin{DUlineblock}{0em}
\item[] default dict (see below) or user defined dict, optional
\item[] Dict containing the specification input 
for apply\_poly\_model\_at\_hue\_x().
\item[] Default dict = \{‘href’: np.arange(np.pi/10,2*np.pi,2*np.pi/10),
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘Cref’ : \_VF\_MAXR, 
\item[] ‘sig’ : \_VF\_SIG, 
\item[] ‘labels’ : ‘\#’\} 
\end{DUlineblock}
\item[] The polynomial models of degree 5 and 6 can be fully specified or 
summarized by the model parameters themselved OR by calculating the
dCoverC and dH at resp. 5 and 6 hues.
\end{DUlineblock}

\item[{vfcolor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] For plotting the vector fields.
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Report warnings or not.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list{[}dict{]} (each list element refers to a different test SPD)
\item[] with the following keys:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘Source’: dict with ndarrays of the S, cct and duv of source spd.
\item[] - ‘metrics’: dict with ndarrays for:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * Rf (color fidelity: base + metameric shift)
\item[] * Rt (metameric uncertainty index) 
\item[] * Rfi (specific color fidelity indices)
\item[] * Rti (specific metameric uncertainty indices)
\item[] * cri\_type (str with cri\_type)
\end{DUlineblock}
\item[] - ‘Jab’: dict with with ndarrays for Jabt, Jabr, DEi
\item[] - ‘dC/C\_dH\_x\_sig’ : 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] np.vstack((dCoverC\_x,dCoverC\_x\_sig,dH\_x,dH\_x\_sig)).T
\item[] See get\_poly\_model() for more info.
\end{DUlineblock}
\item[] - ‘fielddata’: dict with dicts containing data on the calculated 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] vector-field and circle-fields: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * ‘vectorfield’ : \{‘axt’: vfaxt, ‘bxt’ : vfbxt, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘axr’ : vfaxr, ‘bxr’ : vfbxr\},
\end{DUlineblock}
\item[] * ‘circlefield’ : \{‘axt’: cfaxt, ‘bxt’ : cfbxt, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘axr’ : cfaxr, ‘bxr’ : cfbxr\}\},
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\item[] - ‘modeldata’ : dict with model info:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] \{‘pmodel’: pmodel, 
\item[] ‘pcolorshift’ : pcolorshift, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘dab\_model’ : dab\_model, 
\item[] ‘dab\_res’ : dab\_res,
\item[] ‘dab\_std’ : dab\_std,
\item[] ‘modeltype’ : modeltype, 
\item[] ‘fmodel’ : poly\_model,
\item[] ‘Jabtm’ : Jabtm, 
\item[] ‘Jabrm’ : Jabrm, 
\item[] ‘DEim’ : DEim\},
\end{DUlineblock}
\end{DUlineblock}
\item[] - ‘vshifts’ :dict with various vector shifts:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * ‘Jabshiftvector\_r\_to\_t’ : ndarray with difference vectors
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] between jabt and jabr.
\end{DUlineblock}
\item[] * ‘vshift\_ab\_s’ : vshift\_ab\_s: ab-shift vectors of samples 
\item[] * ‘vshift\_ab\_s\_vf’ : vshift\_ab\_s\_vf: ab-shift vectors of 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] VF model predictions of samples.
\end{DUlineblock}
\item[] * ‘vshift\_ab\_vf’ : vshift\_ab\_vf: ab-shift vectors of VF 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] model predictions of vector field grid.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{initialize\_VF\_hue\_angles() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.initialize_VF_hue_angles}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{initialize\_VF\_hue\_angles}}{\emph{hx=None}, \emph{Cxr=40}, \emph{cri\_type='iesrf'}, \emph{modeltype='M6'}, \emph{determine\_hue\_angles=True}}{}
Initialize the hue angles that will be used to ‘summarize’ 
the VF model fitting parameters.
\begin{description}
\item[{Args:       }] \leavevmode\begin{quote}\begin{description}
\item[{hx}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] None defaults to Munsell H5 hues.
\end{DUlineblock}

\item[{Cxr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_MAXR, optional
\end{DUlineblock}

\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_CRI\_DEFAULT or str or dict, optional,
\item[] Cri\_type parameters for cri and VF model.
\end{DUlineblock}

\item[{modeltype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_MODEL\_TYPE or ‘M5’ or ‘M6’, optional
\item[] Determines the type of polynomial model.
\end{DUlineblock}

\item[{determine\_hue\_angles}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_DETERMINE\_HUE\_ANGLES or True or False, optional
\item[] True: determines the 10 primary / secondary Munsell hues (‘5..’).
\item[] Note that for ‘M6’, an additional 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{pcolorshift}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{‘href’: href,
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘Cref’ : \_VF\_MAXR, 
\item[] ‘sig’ : \_VF\_SIG, 
\item[] ‘labels’ : list{[}str{]}\}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{generate\_grid() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.generate_grid}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{generate\_grid}}{\emph{jab\_ranges=None}, \emph{out='grid'}, \emph{ax=array({[}-40}, \emph{-35}, \emph{-30}, \emph{-25}, \emph{-20}, \emph{-15}, \emph{-10}, \emph{-5}, \emph{0}, \emph{5}, \emph{10}, \emph{15}, \emph{20}, \emph{25}, \emph{30}, \emph{35}, \emph{40{]})}, \emph{bx=array({[}-40}, \emph{-35}, \emph{-30}, \emph{-25}, \emph{-20}, \emph{-15}, \emph{-10}, \emph{-5}, \emph{0}, \emph{5}, \emph{10}, \emph{15}, \emph{20}, \emph{25}, \emph{30}, \emph{35}, \emph{40{]})}, \emph{jx=None}, \emph{limit\_grid\_radius=0}}{}
Generate a grid of color coordinates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘grid’ or ‘vectors’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘grid’: outputs a single 2d numpy.nd-vector with the grid coordinates
\item[] - ‘vector’: outputs each dimension seperately.
\end{DUlineblock}
\end{DUlineblock}

\item[{jab\_ranges}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] Specifies the pixelization of color space.
(ndarray.shape = (3,3), with  first axis: J,a,b, and second 
axis: min, max, delta)
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] default ndarray or user defined ndarray, optional
\item[] default = np.arange(-\_VF\_MAXR,\_VF\_MAXR+\_VF\_DELTAR,\_VF\_DELTAR) 
\end{DUlineblock}

\item[{bx}] \leavevmode
\begin{DUlineblock}{0em}
\item[] default ndarray or user defined ndarray, optional
\item[] default = np.arange(-\_VF\_MAXR,\_VF\_MAXR+\_VF\_DELTAR,\_VF\_DELTAR) 
\end{DUlineblock}

\item[{jx}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Note that not-None :jab\_ranges: override :ax:, :bx: and :jx input.
\end{DUlineblock}

\item[{limit\_grid\_radius}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] A value of zeros keeps grid as specified  by axr,bxr.
\item[] A value \textgreater{} 0 only keeps (a,b) coordinates within :limit\_grid\_radius:
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] single ndarray with ax,bx {[},jx{]} 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] or
\end{DUlineblock}
\item[] seperate ndarrays for each dimension specified.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{calculate\_shiftvectors() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.calculate_shiftvectors}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{calculate\_shiftvectors}}{\emph{jabt}, \emph{jabr}, \emph{average=True}, \emph{vtype='ab'}}{}
Calculate color shift vectors.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab coordinates under the test SPD
\end{DUlineblock}

\item[{jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with jab coordinates under the reference SPD
\end{DUlineblock}

\item[{average}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] If True, take mean of difference vectors along axis = 0.
\end{DUlineblock}

\item[{vtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ab’ or ‘jab’, optional
\item[] Reduce output ndarray to only a,b coordinates of shift vector(s).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of (mean) shift vector(s).
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plot\_shift\_data() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.plot_shift_data}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{plot\_shift\_data}}{\emph{data}, \emph{fieldtype='vectorfield'}, \emph{scalef=40}, \emph{color='k'}, \emph{axtype='polar'}, \emph{ax=None}, \emph{hbins=10}, \emph{start\_hue=0.0}, \emph{bin\_labels='\#'}, \emph{plot\_center\_lines=True}, \emph{plot\_axis\_labels=False}, \emph{plot\_edge\_lines=False}, \emph{plot\_bin\_colors=True}, \emph{force\_CVG\_layout=True}}{}
Plots vector or circle fields generated by VFcolorshiftmodel() 
or PXcolorshiftmodel().
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict generated by VFcolorshiftmodel() or PXcolorshiftmodel()
\item[] Must contain ‘fielddata’- key, which is a dict with possible keys:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - key: ‘vectorfield’: ndarray with vector field data
\item[] - key: ‘circlefield’: ndarray with circle field data
\end{DUlineblock}
\end{DUlineblock}

\item[{color}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] Color for plotting the vector-fields.
\end{DUlineblock}

\item[{axtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘polar’ or ‘cart’, optional
\item[] Make polar or Cartesian plot.
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ‘new’ or ‘same’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None or ‘new’ creates new plot
\item[] - ‘same’: continue plot on same axes.
\item[] - axes handle: plot on specified axes.
\end{DUlineblock}
\end{DUlineblock}

\item[{hbins}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 16 or ndarray with sorted hue bin centers (°), optional
\end{DUlineblock}

\item[{start\_hue}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_MAXR, optional
\item[] Scale factor for graphic.
\end{DUlineblock}

\item[{plot\_axis\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Turns axis ticks on/off (True/False).
\end{DUlineblock}

\item[{bin\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}str{]} or ‘\#’, optional
\item[] Plots labels at the bin center hues.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t plot.
\item[] - list{[}str{]}: list with str for each bin. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (len(:bin\_labels:) = :nhbins:)
\end{DUlineblock}
\item[] - ‘\#’: plots number.
\end{DUlineblock}
\end{DUlineblock}

\item[{plot\_edge\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Plot grey bin edge lines with ‘\textendash{}’.
\end{DUlineblock}

\item[{plot\_center\_lines}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Plot colored lines at ‘center’ of hue bin.
\end{DUlineblock}

\item[{plot\_bin\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Colorize hue-bins.
\end{DUlineblock}

\item[{force\_CVG\_layout}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True: Force plot of basis of CVG.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] figCVG, hax, cmap
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] :figCVG: handle to CVG figure
\item[] :hax: handle to CVG axes
\item[] :cmap: list with rgb colors for hue bins 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (for use in other plotting fcns)
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plotcircle() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.plotcircle}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{plotcircle}}{\emph{center=array({[}0.0000e+00}, \emph{0.0000e+00{]})}, \emph{radii=array({[} 0}, \emph{10}, \emph{20}, \emph{30}, \emph{40}, \emph{50{]})}, \emph{angles=array({[}  0}, \emph{10}, \emph{20}, \emph{30}, \emph{40}, \emph{50}, \emph{60}, \emph{70}, \emph{80}, \emph{90}, \emph{100}, \emph{110}, \emph{120}, \emph{130}, \emph{140}, \emph{150}, \emph{160}, \emph{170}, \emph{180}, \emph{190}, \emph{200}, \emph{210}, \emph{220}, \emph{230}, \emph{240}, \emph{250}, \emph{260}, \emph{270}, \emph{280}, \emph{290}, \emph{300}, \emph{310}, \emph{320}, \emph{330}, \emph{340{]})}, \emph{color='k'}, \emph{linestyle='--'}, \emph{out=None}}{}
Plot one or more concentric circles.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{center}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.array({[}0.,0.{]}) or ndarray with center coordinates, optional
\end{DUlineblock}

\item[{radii}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.arange(0,60,10) or ndarray with radii of circle(s), optional
\end{DUlineblock}

\item[{angles}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np.arange(0,350,10) or ndarray with angles (°), optional
\end{DUlineblock}

\item[{color}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] Color for plotting.
\end{DUlineblock}

\item[{linestyle}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘\textendash{}’, optional
\item[] Linestyle of circles.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If None: plot circles, return (x,y) otherwise.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{get\_pixel\_coordinates() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.get_pixel_coordinates}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{get\_pixel\_coordinates}}{\emph{jab}, \emph{jab\_ranges=None}, \emph{jab\_deltas=None}, \emph{limit\_grid\_radius=0}}{}
Get pixel coordinates corresponding to array of jab color coordinates.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{jab}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of color coordinates
\end{DUlineblock}

\item[{jab\_ranges}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] Specifies the pixelization of color space.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (ndarray.shape = (3,3), with  first axis: J,a,b, and second 
axis: min, max, delta)
\end{DUlineblock}
\end{DUlineblock}

\item[{jab\_deltas}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray, optional
\item[] Specifies the sampling range. 
\item[] A float uses jab\_deltas as the maximum Euclidean distance to select
samples around each pixel center. A ndarray of 3 deltas, uses
a city block sampling around each pixel center.
\end{DUlineblock}

\item[{limit\_grid\_radius}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] A value of zeros keeps grid as specified by axr,bxr.
\item[] A value \textgreater{} 0 only keeps (a,b) coordinates within :limit\_grid\_radius: 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] gridp, idxp, jabp, samplenrs, samplesIDs
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - :gridp: ndarray with coordinates of all pixel centers.
\item[] - :idxp: list{[}int{]} with pixel index for each non-empty pixel
\item[] - :jabp: ndarray with center color coordinates of non-empty pixels
\item[] - :samplenrs: list{[}list{[}int{]}{]} with sample numbers belong to each 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] non-empty pixel
\end{DUlineblock}
\item[] - :sampleIDs: summarizing list, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] with column order: ‘idxp, jabp, samplenrs’
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{PX\_colorshift\_model() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.PX_colorshift_model}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{PX\_colorshift\_model}}{\emph{Jabt}, \emph{Jabr}, \emph{jab\_ranges=None}, \emph{jab\_deltas=None}, \emph{limit\_grid\_radius=0}}{}
Pixelates the color space and calculates the color shifts in each pixel.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{Jabt}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color coordinates under the (single) test SPD.
\end{DUlineblock}

\item[{Jabr}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with color coordinates under the (single) reference SPD.  
\end{DUlineblock}

\item[{jab\_ranges}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] Specifies the pixelization of color space.
\item[] (ndarray.shape = (3,3), with  first axis: J,a,b, and second 
axis: min, max, delta)
\end{DUlineblock}

\item[{jab\_deltas}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray, optional
\item[] Specifies the sampling range. 
\item[] A float uses jab\_deltas as the maximum Euclidean distance to select
samples around each pixel center. A ndarray of 3 deltas, uses
a city block sampling around each pixel center.
\end{DUlineblock}

\item[{limit\_grid\_radius}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] A value of zeros keeps grid as specified by axr,bxr.
\item[] A value \textgreater{} 0 only keeps (a,b) coordinates within :limit\_grid\_radius:
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with the following keys:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘Jab’: dict with with ndarrays for:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Jabt, Jabr, DEi, DEi\_ab (only ab-coordinates), DEa (mean) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] and DEa\_ab
\end{DUlineblock}
\end{DUlineblock}
\item[] - ‘vshifts’: dict with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * ‘vectorshift’: ndarray with vector shifts between average
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Jabt and Jabr for each pixel
\end{DUlineblock}
\item[] * ‘vectorshift\_ab’: ndarray with vector shifts averaged 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] over J for each pixel
\end{DUlineblock}
\item[] * ‘vectorshift\_ab\_J0’: ndarray with vector shifts averaged 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] over J for each pixel of J=0 plane.
\end{DUlineblock}
\item[] * ‘vectorshift\_len’: length of ‘vectorshift’
\item[] * ‘vectorshift\_ab\_len’: length of ‘vectorshift\_ab’
\item[] * ‘vectorshift\_ab\_J0\_len’: length of ‘vectorshift\_ab\_J0’
\item[] * ‘vectorshift\_len\_DEnormed’: length of ‘vectorshift’ 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] normalized to ‘DEa’
\end{DUlineblock}
\item[] * ‘vectorshift\_ab\_len\_DEnormed’: length of ‘vectorshift\_ab’ 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] normalized to ‘DEa\_ab’
\end{DUlineblock}
\item[] * ‘vectorshift\_ab\_J0\_len\_DEnormed’: length of ‘vectorshift\_ab\_J0’ 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] normalized to ‘DEa\_ab’
\end{DUlineblock}
\end{DUlineblock}
\item[] - ‘pixeldata’: dict with pixel info:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] * ‘grid’ ndarray with coordinates of all pixel centers.
\item[] * ‘idx’: list{[}int{]} with pixel index for each non-empty pixel
\item[] * ‘Jab’: ndarray with center coordinates of non-empty pixels
\item[] * ‘samplenrs’: list{[}list{[}int{]}{]} with sample numbers belong to 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] each non-empty pixel
\end{DUlineblock}
\item[] * ‘IDs: summarizing list, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] with column order: ‘idxp, jabp, samplenrs’
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\item[] - ‘fielddata’ : dict with dicts containing data on the calculated 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] vector-field and circle-fields 
\end{DUlineblock}
\item[] * ‘vectorfield’: dict with ndarrays for the ab-coordinates 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] under the ref. (axr, bxr) and test (axt, bxt) illuminants,
\item[] centered at the pixel centers corresponding to the 
ab-coordinates of the reference illuminant.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\begin{fulllineitems}
\pysigline{\sphinxbfcode{calculate\_VF\_PX\_models(S,~cri\_type='iesrf',~sampleset=None,~pool=False,~pcolorshift=\{'Cref':~40,~'href':~array({[}3.1416e-01,~9.4248e-01,~1.5708e+00,~2.1991e+00,~2.8274e+00,}}\pysigline{\sphinxbfcode{3.4558e+00,~4.0841e+00,~4.7124e+00,~5.3407e+00,~5.9690e+00{]}),~'labels':~'\#',~'sig':~0.3\},~vfcolor='k',~verbosity=0)}}
Calculate Vector Field and Pixel color shift models.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{cri\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_CRI\_DEFAULT or str or dict, optional
\item[] Specifies type of color fidelity model to use. 
\item[] Controls choice of ref. ill., sample set, averaging, scaling, etc.
\item[] See luxpy.cri.spd\_to\_cri for more info.
\end{DUlineblock}

\item[{sampleset}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or ndarray, optional
\item[] Sampleset to be used when calculating vector field model.
\end{DUlineblock}

\item[{pool}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] If :S: contains multiple spectra, True pools all jab data before 
modeling the vector field, while False models a different field 
for each spectrum.
\end{DUlineblock}

\item[{pcolorshift}] \leavevmode
\begin{DUlineblock}{0em}
\item[] default dict (see below) or user defined dict, optional
\item[] Dict containing the specification input 
for apply\_poly\_model\_at\_hue\_x().
\item[] Default dict = \{‘href’: np.arange(np.pi/10,2*np.pi,2*np.pi/10),
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘Cref’ : \_VF\_MAXR, 
\item[] ‘sig’ : \_VF\_SIG, 
\item[] ‘labels’ : ‘\#’\} 
\end{DUlineblock}
\item[] The polynomial models of degree 5 and 6 can be fully specified or 
 summarized by the model parameters themselved OR by calculating the
dCoverC and dH at resp. 5 and 6 hues.
\end{DUlineblock}

\item[{vfcolor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘k’, optional
\item[] For plotting the vector fields.
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Report warnings or not.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] :dataVF:, :dataPX: 
\item[] Dicts, for more info, see output description of resp.: 
luxpy.cri.VF\_colorshift\_model() and luxpy.cri.PX\_colorshift\_model()
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{subsample\_RFL\_set() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.subsample_RFL_set}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{subsample\_RFL\_set}}{\emph{rfl, rflpath='', samplefcn='rand', S=array({[}{[}3.8000e+02, 3.8100e+02, 3.8200e+02, 3.8300e+02, 3.8400e+02,         3.8500e+02, 3.8600e+02, 3.8700e+02, 3.8800e+02, 3.8900e+02,         3.9000e+02, 3.9100e+02, 3.9200e+02, 3.9300e+02, 3.9400e+02,         3.9500e+02, 3.9600e+02, 3.9700e+02, 3.9800e+02, 3.9900e+02,         4.0000e+02, 4.0100e+02, 4.0200e+02, 4.0300e+02, 4.0400e+02,         4.0500e+02, 4.0600e+02, 4.0700e+02, 4.0800e+02, 4.0900e+02,         4.1000e+02, 4.1100e+02, 4.1200e+02, 4.1300e+02, 4.1400e+02,         4.1500e+02, 4.1600e+02, 4.1700e+02, 4.1800e+02, 4.1900e+02,         4.2000e+02, 4.2100e+02, 4.2200e+02, 4.2300e+02, 4.2400e+02,         4.2500e+02, 4.2600e+02, 4.2700e+02, 4.2800e+02, 4.2900e+02,         4.3000e+02, 4.3100e+02, 4.3200e+02, 4.3300e+02, 4.3400e+02,         4.3500e+02, 4.3600e+02, 4.3700e+02, 4.3800e+02, 4.3900e+02,         4.4000e+02, 4.4100e+02, 4.4200e+02, 4.4300e+02, 4.4400e+02,         4.4500e+02, 4.4600e+02, 4.4700e+02, 4.4800e+02, 4.4900e+02,         4.5000e+02, 4.5100e+02, 4.5200e+02, 4.5300e+02, 4.5400e+02,         4.5500e+02, 4.5600e+02, 4.5700e+02, 4.5800e+02, 4.5900e+02,         4.6000e+02, 4.6100e+02, 4.6200e+02, 4.6300e+02, 4.6400e+02,         4.6500e+02, 4.6600e+02, 4.6700e+02, 4.6800e+02, 4.6900e+02,         4.7000e+02, 4.7100e+02, 4.7200e+02, 4.7300e+02, 4.7400e+02,         4.7500e+02, 4.7600e+02, 4.7700e+02, 4.7800e+02, 4.7900e+02,         4.8000e+02, 4.8100e+02, 4.8200e+02, 4.8300e+02, 4.8400e+02,         4.8500e+02, 4.8600e+02, 4.8700e+02, 4.8800e+02, 4.8900e+02,         4.9000e+02, 4.9100e+02, 4.9200e+02, 4.9300e+02, 4.9400e+02,         4.9500e+02, 4.9600e+02, 4.9700e+02, 4.9800e+02, 4.9900e+02,         5.0000e+02, 5.0100e+02, 5.0200e+02, 5.0300e+02, 5.0400e+02,         5.0500e+02, 5.0600e+02, 5.0700e+02, 5.0800e+02, 5.0900e+02,         5.1000e+02, 5.1100e+02, 5.1200e+02, 5.1300e+02, 5.1400e+02,         5.1500e+02, 5.1600e+02, 5.1700e+02, 5.1800e+02, 5.1900e+02,         5.2000e+02, 5.2100e+02, 5.2200e+02, 5.2300e+02, 5.2400e+02,         5.2500e+02, 5.2600e+02, 5.2700e+02, 5.2800e+02, 5.2900e+02,         5.3000e+02, 5.3100e+02, 5.3200e+02, 5.3300e+02, 5.3400e+02,         5.3500e+02, 5.3600e+02, 5.3700e+02, 5.3800e+02, 5.3900e+02,         5.4000e+02, 5.4100e+02, 5.4200e+02, 5.4300e+02, 5.4400e+02,         5.4500e+02, 5.4600e+02, 5.4700e+02, 5.4800e+02, 5.4900e+02,         5.5000e+02, 5.5100e+02, 5.5200e+02, 5.5300e+02, 5.5400e+02,         5.5500e+02, 5.5600e+02, 5.5700e+02, 5.5800e+02, 5.5900e+02,         5.6000e+02, 5.6100e+02, 5.6200e+02, 5.6300e+02, 5.6400e+02,         5.6500e+02, 5.6600e+02, 5.6700e+02, 5.6800e+02, 5.6900e+02,         5.7000e+02, 5.7100e+02, 5.7200e+02, 5.7300e+02, 5.7400e+02,         5.7500e+02, 5.7600e+02, 5.7700e+02, 5.7800e+02, 5.7900e+02,         5.8000e+02, 5.8100e+02, 5.8200e+02, 5.8300e+02, 5.8400e+02,         5.8500e+02, 5.8600e+02, 5.8700e+02, 5.8800e+02, 5.8900e+02,         5.9000e+02, 5.9100e+02, 5.9200e+02, 5.9300e+02, 5.9400e+02,         5.9500e+02, 5.9600e+02, 5.9700e+02, 5.9800e+02, 5.9900e+02,         6.0000e+02, 6.0100e+02, 6.0200e+02, 6.0300e+02, 6.0400e+02,         6.0500e+02, 6.0600e+02, 6.0700e+02, 6.0800e+02, 6.0900e+02,         6.1000e+02, 6.1100e+02, 6.1200e+02, 6.1300e+02, 6.1400e+02,         6.1500e+02, 6.1600e+02, 6.1700e+02, 6.1800e+02, 6.1900e+02,         6.2000e+02, 6.2100e+02, 6.2200e+02, 6.2300e+02, 6.2400e+02,         6.2500e+02, 6.2600e+02, 6.2700e+02, 6.2800e+02, 6.2900e+02,         6.3000e+02, 6.3100e+02, 6.3200e+02, 6.3300e+02, 6.3400e+02,         6.3500e+02, 6.3600e+02, 6.3700e+02, 6.3800e+02, 6.3900e+02,         6.4000e+02, 6.4100e+02, 6.4200e+02, 6.4300e+02, 6.4400e+02,         6.4500e+02, 6.4600e+02, 6.4700e+02, 6.4800e+02, 6.4900e+02,         6.5000e+02, 6.5100e+02, 6.5200e+02, 6.5300e+02, 6.5400e+02,         6.5500e+02, 6.5600e+02, 6.5700e+02, 6.5800e+02, 6.5900e+02,         6.6000e+02, 6.6100e+02, 6.6200e+02, 6.6300e+02, 6.6400e+02,         6.6500e+02, 6.6600e+02, 6.6700e+02, 6.6800e+02, 6.6900e+02,         6.7000e+02, 6.7100e+02, 6.7200e+02, 6.7300e+02, 6.7400e+02,         6.7500e+02, 6.7600e+02, 6.7700e+02, 6.7800e+02, 6.7900e+02,         6.8000e+02, 6.8100e+02, 6.8200e+02, 6.8300e+02, 6.8400e+02,         6.8500e+02, 6.8600e+02, 6.8700e+02, 6.8800e+02, 6.8900e+02,         6.9000e+02, 6.9100e+02, 6.9200e+02, 6.9300e+02, 6.9400e+02,         6.9500e+02, 6.9600e+02, 6.9700e+02, 6.9800e+02, 6.9900e+02,         7.0000e+02, 7.0100e+02, 7.0200e+02, 7.0300e+02, 7.0400e+02,         7.0500e+02, 7.0600e+02, 7.0700e+02, 7.0800e+02, 7.0900e+02,         7.1000e+02, 7.1100e+02, 7.1200e+02, 7.1300e+02, 7.1400e+02,         7.1500e+02, 7.1600e+02, 7.1700e+02, 7.1800e+02, 7.1900e+02,         7.2000e+02, 7.2100e+02, 7.2200e+02, 7.2300e+02, 7.2400e+02,         7.2500e+02, 7.2600e+02, 7.2700e+02, 7.2800e+02, 7.2900e+02,         7.3000e+02, 7.3100e+02, 7.3200e+02, 7.3300e+02, 7.3400e+02,         7.3500e+02, 7.3600e+02, 7.3700e+02, 7.3800e+02, 7.3900e+02,         7.4000e+02, 7.4100e+02, 7.4200e+02, 7.4300e+02, 7.4400e+02,         7.4500e+02, 7.4600e+02, 7.4700e+02, 7.4800e+02, 7.4900e+02,         7.5000e+02, 7.5100e+02, 7.5200e+02, 7.5300e+02, 7.5400e+02,         7.5500e+02, 7.5600e+02, 7.5700e+02, 7.5800e+02, 7.5900e+02,         7.6000e+02, 7.6100e+02, 7.6200e+02, 7.6300e+02, 7.6400e+02,         7.6500e+02, 7.6600e+02, 7.6700e+02, 7.6800e+02, 7.6900e+02,         7.7000e+02, 7.7100e+02, 7.7200e+02, 7.7300e+02, 7.7400e+02,         7.7500e+02, 7.7600e+02, 7.7700e+02, 7.7800e+02, 7.7900e+02,         7.8000e+02{]},        {[}1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00, 1.0000e+00,         1.0000e+00{]}{]}), jab\_ranges=None, jab\_deltas=None, cieobs='1964\_10', cspace=\{'Yw': 100.0, 'conditions': \{'La': 100.0, 'surround': 'avg', 'D': 1.0, 'Yb': 20.0, 'Dtype': None\}, 'mcat': 'cat02', 'type': 'jab\_cam02ucs', 'xyzw': None, 'yellowbluepurplecorrect': None\}, ax=array({[}-40, -35, -30, -25, -20, -15, -10,  -5,   0,   5,  10,  15,  20,         25,  30,  35,  40{]}), bx=array({[}-40, -35, -30, -25, -20, -15, -10,  -5,   0,   5,  10,  15,  20,         25,  30,  35,  40{]}), jx=None, limit\_grid\_radius=0}}{}
Sub-samples a spectral reflectance set by pixelization of color space.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{rfl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray or str
\item[] Array with of str referring to a set of spectral reflectance 
functions to be subsampled.
\item[] If str to file: file must contain data as columns, with first 
column the wavelengths.
\end{DUlineblock}

\item[{rflpath}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘’ or str, optional
\item[] Path to folder with rfl-set specified in a str :rfl: filename.
\end{DUlineblock}

\item[{samplefcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘rand’ or ‘mean’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] -‘rand’: selects a random sample from the samples within each pixel
\item[] -‘mean’: returns the mean spectral reflectance in each pixel.
\end{DUlineblock}
\end{DUlineblock}

\item[{S}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIE\_ILLUMINANTS{[}‘E’{]}, optional
\item[] Illuminant used to calculate the color coordinates of the spectral 
reflectance samples.
\end{DUlineblock}

\item[{jab\_ranges}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] Specifies the pixelization of color space.
(ndarray.shape = (3,3), with  first axis: J,a,b, and second 
 axis: min, max, delta)
\end{DUlineblock}

\item[{jab\_deltas}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray, optional
\item[] Specifies the sampling range. 
\item[] A float uses jab\_deltas as the maximum Euclidean distance to select
samples around each pixel center. A ndarray of 3 deltas, uses
a city block sampling around each pixel center.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_CSPACE or dict, optional
\item[] Specifies color space. See \_VF\_CSPACE\_EXAMPLE for example structure.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_VF\_CIEOBS or str, optional
\item[] Specifies CMF set used to calculate color coordinates.
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] default ndarray or user defined ndarray, optional
\item[] default = np.arange(-\_VF\_MAXR,\_VF\_MAXR+\_VF\_DELTAR,\_VF\_DELTAR) 
\end{DUlineblock}

\item[{bx}] \leavevmode
\begin{DUlineblock}{0em}
\item[] default ndarray or user defined ndarray, optional
\item[] default = np.arange(-\_VF\_MAXR,\_VF\_MAXR+\_VF\_DELTAR,\_VF\_DELTAR) 
\end{DUlineblock}

\item[{jx}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Note that not-None :jab\_ranges: override :ax:, :bx: and :jx input.
\end{DUlineblock}

\item[{limit\_grid\_radius}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] A value of zeros keeps grid as specified  by axr,bxr.
\item[] A value \textgreater{} 0 only keeps (a,b) coordinates within :limit\_grid\_radius:
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] rflsampled, jabp
\item[] ndarrays with resp. the subsampled set of spectral reflectance 
functions and the pixel coordinate centers.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{plot\_VF\_PX\_models() (in module luxpy.color.cri.VFPX)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{color:luxpy.color.cri.VFPX.plot_VF_PX_models}}\pysiglinewithargsret{\sphinxcode{luxpy.color.cri.VFPX.}\sphinxbfcode{plot\_VF\_PX\_models}}{\emph{dataVF=None, dataPX=None, plot\_VF=True, plot\_PX=True, axtype='polar', ax='new', plot\_circle\_field=True, plot\_sample\_shifts=False, plot\_samples\_shifts\_at\_pixel\_center=False, jabp\_sampled=None, plot\_VF\_colors={[}'g'{]}, plot\_PX\_colors={[}'r'{]}, hbin\_cmap=None, bin\_labels=None, plot\_bin\_colors=True, force\_CVG\_layout=False}}{}
Plot the VF and PX model color shift vectors.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{dataVF}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}dict{]} with VF\_colorshift\_model() output, optional
\item[] None plots nothing related to VF model.
\item[] Each list element refers to a different test SPD.
\end{DUlineblock}

\item[{dataPX}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}dict{]} with PX\_colorshift\_model() output, optional
\item[] None plots nothing related to PX model.
\item[] Each list element refers to a different test SPD.
\end{DUlineblock}

\item[{plot\_VF}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Plot VF model (if :dataVF: is not None).
\end{DUlineblock}

\item[{plot\_PX}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Plot PX model (if :dataPX: is not None).  
\end{DUlineblock}

\item[{axtype}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘polar’ or ‘cart’, optional
\item[] Make polar or Cartesian plot.
\end{DUlineblock}

\item[{ax}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ‘new’ or ‘same’, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None or ‘new’ creates new plot
\item[] - ‘same’: continue plot on same axes.
\item[] - axes handle: plot on specified axes. 
\end{DUlineblock}
\end{DUlineblock}

\item[{plot\_circle\_field}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True or False, optional
\item[] Plot lines showing how a series of circles of color coordinates is 
distorted by the test SPD.
\item[] The width (wider means more) and color (red means more) of the 
lines specify the intensity of the hue part of the color shift.
\end{DUlineblock}

\item[{plot\_sample\_shifts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] Plots the shifts of the individual samples of the rfl-set used to 
calculated the VF model.
\end{DUlineblock}

\item[{plot\_samples\_shifts\_at\_pixel\_center}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Offers the possibility of shifting the vector shifts of subsampled 
sets from the reference illuminant positions to the pixel centers.
\item[] Note that the pixel centers must be supplied in :jabp\_sampled:.
\end{DUlineblock}

\item[{jabp\_sampled}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, ndarray, optional
\item[] Corresponding pixel center for each sample in a subsampled set.
\end{DUlineblock}

\item[{plot\_VF\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}‘g’{]} or list{[}str{]}, optional
\item[] Specifies the plot color the color shift vectors of the VF model. 
\item[] If len(:plot\_VF\_colors:) == 1: same color for each list element 
of :dataVF:.
\end{DUlineblock}

\item[{plot\_VF\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}‘g’{]} or list{[}str{]}, optional
\item[] Specifies the plot color the color shift vectors of the VF model. 
\item[] If len(:plot\_VF\_colors:) == 1: same color for each list element 
of :dataVF:.
\end{DUlineblock}

\item[{hbin\_cmap}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or colormap, optional
\item[] Color map with RGB entries for each of the hue bins specified by 
the hues in \_VF\_PCOLORSHIFT.
\item[] If None: cmap will be obtained on first run by 
luxpy.cri.plot\_shift\_data() and returned for use in other functions
\end{DUlineblock}

\item[{plot\_bin\_colors}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Colorize hue-bins.
\end{DUlineblock}

\item[{bin\_labels}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or list{[}str{]} or ‘\#’, optional
\item[] Plots labels at the bin center hues.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - None: don’t plot.
\item[] - list{[}str{]}: list with str for each bin. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (len(:bin\_labels:) = :nhbins:)
\end{DUlineblock}
\item[] - ‘\#’: plots number.
\item[] - ‘\_VF\_PCOLORSHIFT’: uses the labels in \_VF\_PCOLORSHIFT{[}‘labels’{]}
\item[] - ‘pcolorshift’: uses the labels in dataVF{[}‘modeldata’{]}{[}‘pcolorshift’{]}{[}‘labels’{]}
\end{DUlineblock}
\end{DUlineblock}

\item[{force\_CVG\_layout}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False or True, optional
\item[] True: Force plot of basis of CVG.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ax (handle to current axes), cmap (hbin\_cmap)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\section{Classes}
\label{\detokenize{classes:classes}}\label{\detokenize{classes::doc}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
SPD.py

\item {} 
CDATA.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy

\end{description}\end{quote}
\end{quote}
\index{SPD (in module luxpy.classes)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{classes:luxpy.classes.SPD}}\pysigline{\sphinxcode{luxpy.classes.}\sphinxbfcode{SPD}}
alias of {\hyperref[\detokenize{classes:luxpy.classes.SPD}]{\sphinxcrossref{\sphinxcode{luxpy.classes.SPD}}}}

\end{fulllineitems}

\index{CDATA (in module luxpy.classes)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{classes:luxpy.classes.CDATA}}\pysigline{\sphinxcode{luxpy.classes.}\sphinxbfcode{CDATA}}
alias of {\hyperref[\detokenize{classes:luxpy.classes.CDATA}]{\sphinxcrossref{\sphinxcode{luxpy.classes.CDATA}}}}

\end{fulllineitems}



\section{Toolboxes}
\label{\detokenize{toolboxes::doc}}\label{\detokenize{toolboxes:toolboxes}}

\subsection{photbiochem/}
\label{\detokenize{toolboxes:photbiochem}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
cie\_tn003\_2015.py

\item {} 
ASNZS\_1680\_2\_5\_1997\_COI.py

\item {} 
circadian\_CS\_CLa\_lrc.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.photbiochem

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{toolboxes:module-luxpy.toolboxes.photbiochem}}\index{luxpy.toolboxes.photbiochem (module)}

\subsubsection{Module for calculating CIE (TN003:2015) photobiological quantities}
\label{\detokenize{toolboxes:module-for-calculating-cie-tn003-2015-photobiological-quantities}}
(Eesc, Eemc, Eelc, Eez, Eer and Esc, Emc, Elc, Ez, Er)


\begin{savenotes}\sphinxattablestart
\centering
\begin{tabulary}{\linewidth}[t]{|T|T|T|T|T|T|}
\hline
\sphinxstylethead{\sphinxstyletheadfamily 
Photoreceptor
\unskip}\relax &\sphinxstylethead{\sphinxstyletheadfamily 
Photopigment
(label, \(\alpha\))
\unskip}\relax &\sphinxstylethead{\sphinxstyletheadfamily 
Spectral efficiency
s\(\alpha\)(\(\lambda\))
\unskip}\relax &\sphinxstylethead{\sphinxstyletheadfamily 
Quantity
(\(\alpha\)-opic irradiance)
\unskip}\relax &\sphinxstylethead{\sphinxstyletheadfamily 
Q-symbol
(Ee,\(\alpha\))
\unskip}\relax &\sphinxstylethead{\sphinxstyletheadfamily 
Unit symbol
\unskip}\relax \\
\hline
s-cone
&
photopsin (sc)
&
cyanolabe
&
cyanopic
&
Ee,sc
&
W.m−2
\\
\hline
m-cone
&
photopsin (mc)
&
chlorolabe
&
chloropic
&
Ee,mc
&
W.m−2
\\
\hline
l-cone
&
photopsin (lc)
&
erythrolabe
&
erythropic
&
Ee,lc
&
W.m−2
\\
\hline
ipRGC
&
melanopsin (z)
&
melanopic
&
melanopic
&
Ee,z
&
W.m−2
\\
\hline
rod
&
rhodopsin (r)
&
rhodopic
&
rhodopic
&
Ee,r
&
W.m−2
\\
\hline
\end{tabulary}
\par
\sphinxattableend\end{savenotes}

\begin{DUlineblock}{0em}
\item[] CIE recommends that the \(\alpha\)-opic irradiance is determined by convolving the spectral
\item[] irradiance, Ee,\(\lambda\)(\(\lambda\)) (W⋅m−2), for each wavelength, with the action spectrum, s\(\alpha\)(\(\lambda\)), 
\item[] where s\(\alpha\)(\(\lambda\)) is normalized to one at its peak:
\item[] 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Ee,\(\alpha\) = ∫ Ee,\(\lambda\)(\(\lambda\)) s\(\alpha\)(\(\lambda\)) d\(\lambda\) 
\item[] 
\end{DUlineblock}
\item[] where the corresponding units are W⋅m−2 in each case. 
\item[] 
\item[] The equivalent luminance is calculated as:
\item[] 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] E,\(\alpha\) = Km ⋅ ∫ Ee,\(\lambda\)(\(\lambda\)) s\(\alpha\)(\(\lambda\)) d\(\lambda\) ⋅ ∫ V(\(\lambda\)) d\(\lambda\) / ∫ s\(\alpha\)(\(\lambda\)) d\(\lambda\)
\item[] 
\end{DUlineblock}
\item[] To avoid ambiguity, the weighting function used must be stated, so, for example, 
\item[] cyanopic refers to the cyanopic irradiance weighted using 
\item[] the s-cone or ssc(\(\lambda\)) spectral efficiency function.
\end{DUlineblock}
\begin{quote}
\begin{quote}\begin{description}
\item[{\_PHOTORECEPTORS}] \leavevmode
{[}‘l-cone’, ‘m-cone’,’s-cone’, ‘rod’, ‘iprgc’{]}

\item[{\_Ee\_SYMBOLS}] \leavevmode
{[}‘Ee,lc’,’Ee,mc’, ‘Ee,sc’,’Ee,r’,  ‘Ee,z’{]}

\item[{\_E\_SYMBOLS}] \leavevmode
{[}‘E,lc’,’E,mc’, ‘E,sc’,’E,r’,  ‘E,z’{]}

\item[{\_Q\_SYMBOLS}] \leavevmode
{[}‘Q,lc’,’Q,mc’, ‘Q,sc’,’Q,r’,  ‘Q,z’{]}

\item[{\_Ee\_UNITS}] \leavevmode
{[}‘W⋅m−2’{]} * 5

\item[{\_E\_UNITS}] \leavevmode
{[}‘lux’{]} * 5

\item[{\_Q\_UNITS}] \leavevmode
{[}‘photons/m2/s’{]} * 5

\item[{\_QUANTITIES}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list with actinic types of irradiance, illuminance
\item[] {[}‘erythropic’, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘chloropic’,
\item[] ‘cyanopic’,
\item[] ‘rhodopic’,
\item[] ‘melanopic’{]} 
\end{DUlineblock}
\end{DUlineblock}

\item[{\_ACTIONSPECTRA}] \leavevmode
ndarray with alpha-actinic action spectra. (stored in file:
‘./data/cie\_tn003\_2015\_SI\_action\_spectra.dat’)

\item[{spd\_to\_aopicE()}] \leavevmode
Calculate alpha-opic irradiance (Ee,\(\alpha\)) and equivalent 
luminance (E\(\alpha\)) values for the l-cone, m-cone, s-cone, 
rod and iprgc (\(\alpha\)) photoreceptor cells following 
CIE technical note TN 003:2015.

\end{description}\end{quote}
\end{quote}
\begin{description}
\item[{References:}] \leavevmode
1. \sphinxhref{http://www.cie.co.at/publications/report-first-international-workshop-circadian-and-neurophysiological-photometry-2013}{CIE-TN003:2015 (2015). 
Report on the first international workshop on 
circadian and neurophysiological photometry, 2013 
(Vienna, Austria).}
(\sphinxurl{http://files.cie.co.at/785\_CIE\_TN\_003-2015.pdf})

\end{description}


\subsubsection{Module for calculation of cyanosis index (AS/NZS 1680.2.5:1997)}
\label{\detokenize{toolboxes:module-for-calculation-of-cyanosis-index-as-nzs-1680-2-5-1997}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_COI\_OBS}] \leavevmode
Default CMF set for calculations

\item[{\_COI\_CSPACE}] \leavevmode
Default color space (CIELAB)

\item[{\_COI\_RFL\_BLOOD}] \leavevmode
ndarray with reflectance spectra of 100\% and 50\% 
oxygenated blood

\item[{spd\_to\_COI\_ASNZS1680}] \leavevmode
Calculate the Cyanosis Observartion Index (COI) 
{[}ASNZS 1680.2.5-1995{]}

\end{description}\end{quote}
\end{quote}
\begin{description}
\item[{Reference:}] \leavevmode
AS/NZS1680.2.5 (1997). INTERIOR LIGHTING PART 2.5: HOSPITAL AND MEDICAL TASKS.

\end{description}
\index{spd\_to\_aopicE() (in module luxpy.toolboxes.photbiochem)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.photbiochem.spd_to_aopicE}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.photbiochem.}\sphinxbfcode{spd\_to\_aopicE}}{\emph{sid}, \emph{Ee=None}, \emph{E=None}, \emph{Q=None}, \emph{cieobs='1931\_2'}, \emph{sid\_units='W/m2'}, \emph{out='Eeas}, \emph{Eas'}}{}
Calculate alpha-opic irradiance (Ee,\(\alpha\)) and equivalent luminance (E\(\alpha\)) values
for the l-cone, m-cone, s-cone, rod and iprgc (\(\alpha\)) photoreceptor cells 
following CIE technical note TN 003:2015.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{sid}] \leavevmode
\begin{DUlineblock}{0em}
\item[] numpy.ndarray with retinal spectral irradiance in :sid\_units: 
\item[] (if ‘uW/cm2’, sid will be converted to SI units ‘W/m2’)
\end{DUlineblock}

\item[{Ee}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If not None: normalize :sid: to an irradiance of :Ee:
\end{DUlineblock}

\item[{E}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If not None: normalize :sid: to an illuminance of :E:
\end{DUlineblock}

\item[{Q}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] If not None: nNormalize :sid: to a quantal energy of :Q:
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS or str, optional
\item[] Type of cmf set to use for photometric units.
\end{DUlineblock}

\item[{sid\_units}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘W/m2’, optional
\item[] Other option ‘uW/m2’, input units of :sid:
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Eeas, Eas’ or str, optional
\item[] Determines values to return.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] (Eeas, Eas) with Eeas and Eas resp. numpy.ndarrays with the 
\(\alpha\)-opic irradiance and equivalent illuminance values 
of all spectra in :sid: in SI-units. 
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] (other choice can be set using :out:)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_to\_COI\_ASNZS1680() (in module luxpy.toolboxes.photbiochem)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.photbiochem.spd_to_COI_ASNZS1680}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.photbiochem.}\sphinxbfcode{spd\_to\_COI\_ASNZS1680}}{\emph{S=None}, \emph{tf='lab'}, \emph{cieobs='1931\_2'}, \emph{out='COI}, \emph{cct'}, \emph{extrapolate\_rfl=False}}{}
Calculate the Cyanosis Observation Index (COI) {[}ASNZS 1680.2.5-1995{]}.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{S}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with light source spectrum (first column are wavelengths).
\end{DUlineblock}

\item[{tf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_COI\_CSPACE, optional
\item[] Color space in which to calculate the COI.
\item[] Default is CIELAB.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_COI\_CIEOBS, optional
\item[] CMF set to use. 
\item[] Default is ‘1931\_2’.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘COI,cct’ or str, optional
\item[] Determines output.
\end{DUlineblock}

\item[{extrapolate\_rfl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] If False: 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] limit the wavelength range of the source to that of the standard
\item[] reflectance spectra for the 50\% and 100\% oxygenated blood.
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{COI}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with cyanosis indices for input sources.
\end{DUlineblock}

\item[{cct}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with correlated color temperatures.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
Clause 7.2 of the ASNZS 1680.2.5-1995. standard mentions the properties
demanded of the light source used in region where visual conditions 
suitable to the detection of cyanosis should be provided:
\begin{quote}

1. The correlated color temperature (CCT) of the source should be from 
3300 to 5300 K.
\begin{enumerate}
\setcounter{enumi}{1}
\item {} 
The cyanosis observation index should not exceed 3.3

\end{enumerate}
\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_to\_CS\_CLa\_lrc() (in module luxpy.toolboxes.photbiochem)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.photbiochem.spd_to_CS_CLa_lrc}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.photbiochem.}\sphinxbfcode{spd\_to\_CS\_CLa\_lrc}}{\emph{El=None}, \emph{E=None}, \emph{sum\_sources=False}, \emph{interpolate\_sources=True}}{}
Calculate Circadian Stimulus (CS) and Circadian Light {[}LRC: Rea et al 2012{]}.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{El}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray, optional
\item[] Defaults to D65
\item[] light source spectral irradiance distribution
\end{DUlineblock}

\item[{E}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, float or ndarray, optional
\item[] Illuminance of light sources.
\item[] If None: El is used as is, otherwise El is renormalized to have
an illuminance equal to E.
\end{DUlineblock}

\item[{sum\_sources}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - False: calculate CS and CLa for all sources in El array.
\item[] - True: sum sources in El to a single source and perform calc.
\end{DUlineblock}
\end{DUlineblock}

\item[{interpolate\_sources}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - True: El is interpolated to wavelength range of efficiency 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] functions (as in LRC calculator). 
\end{DUlineblock}
\item[] - False: interpolate efficiency functions to source range. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Source interpolation is not recommended due to possible
\item[] errors for peaky spectra. 
\item[] (see CIE15-2004, “Colorimetry”).
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{CS}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Circadian stimulus values
\end{DUlineblock}

\item[{CLa}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with Circadian Light values
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes:}] \leavevmode
1. The original 2012 (E.q. 1) had set the peak wavelength of the 
melanopsin at 480 nm. Rea et al. later published a corrigendum with 
updated model parameters for k, a\_\{b-y\} and a\_rod. The comparison table
between showing values calculated for a number of sources with the old
and updated parameters were very close (\textasciitilde{}1 unit voor CLa).

2. In that corrrection paper they did not mention a change in the
factor (1622) that multiplies the (sum of) the integral(s) in Eq. 1. 
HOWEVER, the excel calculator released in 2017 and the online 
calculator show that factor to have a value of 1547.9. The change in
values due to the new factor is much larger than their the updated 
mentioned in note 1!

3. For reasons of consistency the calculator uses the latest model 
parameters, as could be read from the excel calculator. They values 
adopted are: multiplier 1547.9, k = 0.2616, a\_\{b-y\} = 0.7 and 
a\_rod = 3.3.

4. The parameter values to convert CLa to CS were also taken from the 
2017 excel calculator.

\end{description}

References:
\begin{quote}
\begin{enumerate}
\item {} 
\sphinxhref{http://www.lrc.rpi.edu/cscalculator/}{LRC Online Circadian stimulus calculator}

\item {} 
\sphinxhref{http://www.lrc.rpi.edu/resources/CSCalculator\_2017\_10\_03\_Mac.xlsm}{LRC Excel based Circadian stimulus calculator.}

\end{enumerate}

3. \sphinxhref{http://journals.sagepub.com/doi/full/10.1177/1477153512467607}{Rea MS, Figueiro MG, Bierman A, and Hamner R (2012). 
Modelling the spectral sensitivity of the human circadian system. 
Light. Res. Technol. 44, 386\textendash{}396.}

4. \sphinxhref{http://journals.sagepub.com/doi/10.1177/1477153512467607}{Rea MS, Figueiro MG, Bierman A, and Hamner R (2012). 
Erratum: Modeling the spectral sensitivity of the human circadian system 
(Lighting Research and Technology (2012) 44:4 (386-396) 
DOI: 10.1177/1477153511430474)). 
Light. Res. Technol. 44, 516.}
\end{quote}

\end{fulllineitems}



\subsection{indvcmf/}
\label{\detokenize{toolboxes:indvcmf}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
individual\_observer\_cmf\_model.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.indvcmf

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{toolboxes:module-luxpy.toolboxes.indvcmf}}\index{luxpy.toolboxes.indvcmf (module)}

\subsubsection{Module for Individual Observer lms-CMFs (Asano, 2016)}
\label{\detokenize{toolboxes:module-for-individual-observer-lms-cmfs-asano-2016}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_INDVCMF\_DATA\_PATH}] \leavevmode
path to data files

\item[{\_INDVCMF\_DATA}] \leavevmode
Dict with required data

\item[{\_INDVCMF\_STD\_DEV\_ALL\_PARAM}] \leavevmode
Dict with std. dev. model parameters

\item[{\_INDVCMF\_CATOBSPFCTR}] \leavevmode
Categorical observer parameters.

\item[{\_INDVCMF\_M\_10d}] \leavevmode
xyz to 10° lms conversion matrix.

\item[{\_WL\_CRIT}] \leavevmode
critical wavelength above which interpolation of S-cone data fails.

\item[{\_WL}] \leavevmode
wavelengths of spectral data.

\item[{cie2006cmfsEx()}] \leavevmode
Generate Individual Observer CMFs (cone fundamentals) 
based on CIE2006 cone fundamentals and published literature 
on observer variability in color matching and 
in physiological parameters.

\item[{getMonteCarloParam()}] \leavevmode
Get dict with normally-distributed physiological 
factors for a population of observers.

\item[{getUSCensusAgeDist()}] \leavevmode
Get US Census Age Distribution

\item[{genMonteCarloObs()}] \leavevmode
Monte-Carlo generation of individual observer 
color matching functions (cone fundamentals) for a
certain age and field size.

\item[{getCatObs()}] \leavevmode
Generate cone fundamentals for categorical observers.

\item[{get\_lms\_to\_xyz\_matrix()}] \leavevmode
Calculate lms to xyz conversion matrix for a 
specific field size.

\item[{lmsb\_to\_xyzb()}] \leavevmode
Convert from LMS cone fundamentals to XYZ CMF.

\item[{add\_to\_cmf\_dict()}] \leavevmode
Add set of cmfs to \_CMF dict.

\end{description}\end{quote}
\end{quote}


\paragraph{References}
\label{\detokenize{toolboxes:references}}\begin{quote}

1. \sphinxhref{http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0145671}{Asano Y, Fairchild MD, and Blondé L (2016). 
Individual Colorimetric Observer Model. 
PLoS One 11, 1\textendash{}19.}

2. \sphinxhref{https://onlinelibrary.wiley.com/doi/abs/10.1002/col.21975}{Asano Y, Fairchild MD, Blondé L, and Morvan P (2016). 
Color matching experiment for highlighting interobserver variability. 
Color Res. Appl. 41, 530\textendash{}539.}

3. \sphinxhref{http://www.cie.co.at/publications/fundamental-chromaticity-diagram-physiological-axes-part-1}{CIE, and CIE (2006). 
Fundamental Chromaticity Diagram with Physiological Axes - Part I 
(Vienna: CIE).}

4. \sphinxhref{https://www.rit.edu/cos/colorscience/re\_AsanoObserverFunctions.php}{Asano’s Individual Colorimetric Observer Model}
\end{quote}


\paragraph{Note}
\label{\detokenize{toolboxes:note}}
Port of Matlab code from:
\sphinxurl{https://www.rit.edu/cos/colorscience/re\_AsanoObserverFunctions.php}
(Accessed April 20, 2018)
\index{cie2006cmfsEx() (in module luxpy.toolboxes.indvcmf)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.indvcmf.cie2006cmfsEx}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.indvcmf.}\sphinxbfcode{cie2006cmfsEx}}{\emph{age=32}, \emph{fieldsize=10}, \emph{wl=None}, \emph{var\_od\_lens=0}, \emph{var\_od\_macula=0}, \emph{var\_od\_L=0}, \emph{var\_od\_M=0}, \emph{var\_od\_S=0}, \emph{var\_shft\_L=0}, \emph{var\_shft\_M=0}, \emph{var\_shft\_S=0}, \emph{out='LMS'}, \emph{allow\_negative\_values=False}}{}
Generate Individual Observer CMFs (cone fundamentals) 
based on CIE2006 cone fundamentals and published literature 
on observer variability in color matching and in physiological parameters.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{age}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 32 or float or int, optional
\item[] Observer age
\end{DUlineblock}

\item[{fieldsize}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10, optional
\item[] Field size of stimulus in degrees (between 2° and 10°).
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Interpolation/extraplation of :LMS: output to specified wavelengths.
\item[] None: output original \_WL = np.array({[}390,780,5{]})
\end{DUlineblock}

\item[{var\_od\_lens}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak optical density {[}\%{]} of lens.
\end{DUlineblock}

\item[{var\_od\_macula}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak optical density {[}\%{]} of macula.
\end{DUlineblock}

\item[{var\_od\_L}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak optical density {[}\%{]} of L-cone.
\end{DUlineblock}

\item[{var\_od\_M}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak optical density {[}\%{]} of M-cone.
\end{DUlineblock}

\item[{var\_od\_S}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak optical density {[}\%{]} of S-cone.
\end{DUlineblock}

\item[{var\_shft\_L}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak wavelength shift {[}nm{]} of L-cone. 
\end{DUlineblock}

\item[{var\_shft\_L}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak wavelength shift {[}nm{]} of M-cone.  
\end{DUlineblock}

\item[{var\_shft\_S}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Std Dev. in peak wavelength shift {[}nm{]} of S-cone. 
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘LMS’ or , optional
\item[] Determines output.
\end{DUlineblock}

\item[{allow\_negative\_values}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Cone fundamentals or color matching functions 
should not have negative values.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If False: X{[}X\textless{}0{]} = 0.
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] - ‘LMS’ : ndarray with individual observer area-normalized 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] cone fundamentals. Wavelength have been added.
\end{DUlineblock}
\end{DUlineblock}

\begin{DUlineblock}{0em}
\item[] {[}- ‘trans\_lens’: ndarray with lens transmission 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (no wavelengths added, no interpolation)
\end{DUlineblock}
\item[] - ‘trans\_macula’: ndarray with macula transmission 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (no wavelengths added, no interpolation)
\end{DUlineblock}
\item[] - ‘sens\_photopig’ : ndarray with photopigment sens. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (no wavelengths added, no interpolation){]}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0145671}{Asano Y, Fairchild MD, and Blondé L (2016). 
Individual Colorimetric Observer Model. 
PLoS One 11, 1\textendash{}19.}

2. \sphinxhref{https://onlinelibrary.wiley.com/doi/abs/10.1002/col.21975}{Asano Y, Fairchild MD, Blondé L, and Morvan P (2016). 
Color matching experiment for highlighting interobserver variability. 
Color Res. Appl. 41, 530\textendash{}539.}

3. \sphinxhref{http://www.cie.co.at/publications/fundamental-chromaticity-diagram-physiological-axes-part-1}{CIE, and CIE (2006). 
Fundamental Chromaticity Diagram with Physiological Axes - Part I 
(Vienna: CIE).}

4. \sphinxhref{https://www.rit.edu/cos/colorscience/re\_AsanoObserverFunctions.php}{Asano’s Individual Colorimetric Observer Model}

\end{description}

\end{fulllineitems}

\index{getMonteCarloParam() (in module luxpy.toolboxes.indvcmf)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.indvcmf.getMonteCarloParam}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.indvcmf.}\sphinxbfcode{getMonteCarloParam}}{\emph{n\_obs=1}, \emph{stdDevAllParam=\{'od\_L': 17.9}, \emph{'od\_M': 17.9}, \emph{'od\_S': 14.7}, \emph{'od\_lens': 19.1}, \emph{'od\_macula': 37.2}, \emph{'shft\_L': 4.0}, \emph{'shft\_M': 3.0}, \emph{'shft\_S': 2.5\}}}{}
Get dict with normally-distributed physiological factors 
for a population of observers.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{n\_obs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Number of individual observers in population.
\end{DUlineblock}

\item[{stdDevAllParam}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_INDVCMF\_STD\_DEV\_ALL\_PARAM, optional
\item[] Dict with parameters for:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] {[}‘od\_lens’, ‘od\_macula’, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘od\_L’, ‘od\_M’, ‘od\_S’, 
\item[] ‘shft\_L’, ‘shft\_M’, ‘shft\_S’{]}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with n\_obs randomly drawn parameters.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{genMonteCarloObs() (in module luxpy.toolboxes.indvcmf)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.indvcmf.genMonteCarloObs}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.indvcmf.}\sphinxbfcode{genMonteCarloObs}}{\emph{n\_obs=1, fieldsize=10, list\_Age={[}32{]}, out='LMS', wl=None, allow\_negative\_values=False}}{}
Monte-Carlo generation of individual observer cone fundamentals.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{n\_obs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Number of observer CMFs to generate.
\end{DUlineblock}

\item[{list\_Age}] \leavevmode
\begin{DUlineblock}{0em}
\item[] list of observer ages or str, optional
\item[] Defaults to 32 (cfr. CIE2006 CMFs)
\item[] If ‘us\_census’: use US population census of 2010 
to generate list\_Age.
\end{DUlineblock}

\item[{fieldsize}] \leavevmode
\begin{DUlineblock}{0em}
\item[] fieldsize in degrees (between 2° and 10°), optional
\item[] Defaults to 10°.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘LMS’ or str, optional
\item[] Determines output.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Interpolation/extraplation of :LMS: output to specified wavelengths.
\item[] None: output original \_WL = np.array({[}390,780,5{]})
\end{DUlineblock}

\item[{allow\_negative\_values}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Cone fundamentals or color matching functions 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] should not have negative values.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If False: X{[}X\textless{}0{]} = 0.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] LMS {[},var\_age, vAll{]} 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - LMS: ndarray with population LMS functions.
\item[] - var\_age: ndarray with population observer ages.
\item[] - vAll: dict with population physiological factors (see .keys()) 
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0145671}{Asano Y, Fairchild MD, and Blondé L (2016). 
Individual Colorimetric Observer Model. 
PLoS One 11, 1\textendash{}19.}

2. \sphinxhref{https://onlinelibrary.wiley.com/doi/abs/10.1002/col.21975}{Asano Y, Fairchild MD, Blondé L, and Morvan P (2016). 
Color matching experiment for highlighting interobserver variability. 
Color Res. Appl. 41, 530\textendash{}539.}

3. \sphinxhref{http://www.cie.co.at/publications/fundamental-chromaticity-diagram-physiological-axes-part-1}{CIE, and CIE (2006). 
Fundamental Chromaticity Diagram with Physiological Axes - Part I 
(Vienna: CIE).}

4. \sphinxhref{https://www.rit.edu/cos/colorscience/re\_AsanoObserverFunctions.php}{Asano’s Individual Colorimetric Observer Model}

\end{description}

\end{fulllineitems}

\index{getCatObs() (in module luxpy.toolboxes.indvcmf)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.indvcmf.getCatObs}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.indvcmf.}\sphinxbfcode{getCatObs}}{\emph{n\_cat=10}, \emph{fieldsize=2}, \emph{out='LMS'}, \emph{wl=None}, \emph{allow\_negative\_values=False}}{}
Generate cone fundamentals for categorical observers.
\begin{description}
\item[{Args: }] \leavevmode\begin{quote}\begin{description}
\item[{n\_cat}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 10, optional
\item[] Number of observer CMFs to generate.
\end{DUlineblock}

\item[{fieldsize}] \leavevmode
\begin{DUlineblock}{0em}
\item[] fieldsize in degrees (between 2° and 10°), optional
\item[] Defaults to 10°.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘LMS’ or str, optional
\item[] Determines output.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Interpolation/extraplation of :LMS: output to specified wavelengths.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] None: output original \_WL = np.array({[}390,780,5{]})
\end{DUlineblock}
\end{DUlineblock}

\item[{allow\_negative\_values}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] Cone fundamentals or color matching functions 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] should not have negative values.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If False: X{[}X\textless{}0{]} = 0.
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] LMS {[},var\_age, vAll{]} 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - LMS: ndarray with population LMS functions.
\item[] - var\_age: ndarray with population observer ages.
\item[] - vAll: dict with population physiological factors (see .keys()) 
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes:}] \leavevmode
1. Categorical observers are observer functions that would represent 
color-normal populations. They are finite and discrete as opposed to 
observer functions generated from the individual colorimetric observer 
model. Thus, they would offer more convenient and practical approaches
for the personalized color imaging workflow and color matching analyses.
Categorical observers were derived in two steps. 
At the first step, 10000 observer functions were generated from the 
individual colorimetric observer model using Monte Carlo simulation. 
At the second step, the cluster analysis, a modified k-medoids 
algorithm, was applied to the 10000 observers minimizing the squared 
Euclidean distance in cone fundamentals space, and categorical 
observers were derived iteratively. Since the proposed categorical 
observers are defined by their physiological parameters and ages, their
CMFs can be derived for any target field size.

2. Categorical observers were ordered by the importance; 
the first categorical observer vas the average observer equivalent to 
CIEPO06 with 38 year-old for a given field size, followed by the second
most important categorical observer, the third, and so on.
\begin{enumerate}
\setcounter{enumi}{2}
\item {} 
see: \sphinxurl{https://www.rit.edu/cos/colorscience/re\_AsanoObserverFunctions.php}

\end{enumerate}

\end{description}

\end{fulllineitems}



\subsection{spdbuild/}
\label{\detokenize{toolboxes:spdbuild}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
spdbuilder.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.spdbuild/

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{toolboxes:module-luxpy.toolboxes.spdbuild}}\index{luxpy.toolboxes.spdbuild (module)}

\subsubsection{Module for building and optimizing SPDs}
\label{\detokenize{toolboxes:module-for-building-and-optimizing-spds}}\begin{quote}
\begin{quote}\begin{description}
\item[{gaussian\_spd()}] \leavevmode
Generate Gaussian spectrum.

\item[{butterworth\_spd()}] \leavevmode
Generate Butterworth based spectrum.

\item[{mono\_led\_spd()}] \leavevmode
Generate monochromatic LED spectrum based on a Gaussian 
or butterworth profile or according to Ohno (Opt. Eng. 2005).

\item[{spd\_builder()}] \leavevmode
Build spectrum based on Gaussians, monochromatic 
and/or phophor LED spectra.

\item[{color3mixer()}] \leavevmode
Calculate fluxes required to obtain a target chromaticity 
when (additively) mixing 3 light sources.

\item[{colormixer()}] \leavevmode
Calculate fluxes required to obtain a target chromaticity 
when (additively) mixing N light sources.

\item[{spd\_builder()}] \leavevmode
Build spectrum based on Gaussians, monochromatic 
and/or phophor LED-type spectra.

\item[{get\_w\_summed\_spd()}] \leavevmode
Calculate weighted sum of spds.

\item[{fitnessfcn()}] \leavevmode
Fitness function that calculates closeness of solution x to 
target values for specified objective functions.

\item[{spd\_constructor\_2()}] \leavevmode
Construct spd from spectral model parameters 
using pairs of intermediate sources.

\item[{spd\_constructor\_3()}] \leavevmode
Construct spd from spectral model parameters 
using trio’s of intermediate sources.

\item[{spd\_optimizer\_2\_3()}] \leavevmode
Optimizes the weights (fluxes) of a set of component 
spectra by combining pairs (2) or trio’s (3) of 
components to intermediate sources until only 3 remain.
Color3mixer can then be called to calculate required 
fluxes to obtain target chromaticity and fluxes are 
then back-calculated.

\item[{get\_optim\_pars\_dict()}] \leavevmode
Setup dict with optimization parameters.

\item[{initialize\_spd\_model\_pars()}] \leavevmode
Initialize spd\_model\_pars (for spd\_constructor)
based on type of component\_data.

\item[{initialize\_spd\_optim\_pars()}] \leavevmode
Initialize spd\_optim\_pars (x0, lb, ub for use
with math.minimizebnd) based on type 
of component\_data.

\item[{spd\_optimizer()}] \leavevmode
Generate a spectrum with specified white point and optimized
for certain objective functions from a set of component 
spectra or component spectrum model parameters.

\end{description}\end{quote}
\end{quote}
\index{gaussian\_spd() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.gaussian_spd}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{gaussian\_spd}}{\emph{peakwl=530, fwhm=20, wl={[}360.0, 830.0, 1.0{]}, with\_wl=True}}{}
Generate Gaussian spectrum.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{peakw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelength
\end{DUlineblock}

\item[{fwhm}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional 
\item[] Wavelength range.
\end{DUlineblock}

\item[{with\_wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] True outputs a ndarray with first row wavelengths.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectra.        
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{mono\_led\_spd() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.mono_led_spd}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{mono\_led\_spd}}{\emph{peakwl=530, fwhm=20, wl={[}360.0, 830.0, 1.0{]}, with\_wl=True, strength\_shoulder=2, bw\_order=-1}}{}
Generate monochromatic LED spectrum based on a Gaussian or butterworth
profile or according to Ohno (Opt. Eng. 2005).
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{peakw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelength
\end{DUlineblock}

\item[{fwhm}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian used to simulate led.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Wavelength range.
\end{DUlineblock}
\end{DUlineblock}

\item[{with\_wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] True outputs a ndarray with first row wavelengths.
\end{DUlineblock}

\item[{strength\_shoulder}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 2, optional
\item[] Determines the strength of the spectrum shoulders of the mono led.
\item[] A value of 1 reduces to a Gaussian model (if bw\_order == 0).
\end{DUlineblock}

\item[{bw\_order}] \leavevmode
\begin{DUlineblock}{0em}
\item[] -1, optional
\item[] Order of Butterworth function.
\item[] If -1: spd profile is Gaussian.
\item[] If (bw\_order == 0): spd profile is Gaussian, else Butterworth.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectra.   
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
\begin{DUlineblock}{0em}
\item[] Gaussian:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] g = exp(-0.5*((wl - peakwl)/fwhm)**2)
\item[] 
\end{DUlineblock}
\item[] Butterworth :
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] bw = 2 / (1 + (((wl - peakwl)/fwhm)**2))
\item[] 
\end{DUlineblock}
\item[] Ohno’s model:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ohno = (g + strength\_shoulder*g**5)/(1+strength\_shoulder)
\item[] 
\item[] mono\_led\_spd = ohno*(bw\_order == 0) + bw*(bw\_order \textgreater{} 0)
\end{DUlineblock}
\end{DUlineblock}

\item[{Reference:}] \leavevmode
1. \sphinxhref{https://ws680.nist.gov/publication/get\_pdf.cfm?pub\_id=841839}{Ohno Y (2005). 
Spectral design considerations for white LED color rendering. 
Opt. Eng. 44, 111302.}

\end{description}

\end{fulllineitems}

\index{phosphor\_led\_spd() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.phosphor_led_spd}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{phosphor\_led\_spd}}{\emph{peakwl=450, fwhm=20, wl={[}360.0, 830.0, 1.0{]}, bw\_order=-1, with\_wl=True, strength\_shoulder=2, strength\_ph=0, peakwl\_ph1=530, fwhm\_ph1=80, strength\_ph1=1, peakwl\_ph2=560, fwhm\_ph2=80, strength\_ph2=None, use\_piecewise\_fcn=False, verbosity=0, out='spd'}}{}
Generate phosphor LED spectrum with up to 2 phosphors based on Smet (Opt. Expr. 2011).

\begin{DUlineblock}{0em}
\item[] Model:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] 1) If strength\_ph2 is not None:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] phosphor\_spd = (strength\_ph1*mono\_led\_spd(peakwl\_ph1, …, strength\_shoulder = 1) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] + strength\_ph2)*mono\_led\_spd(peakwl\_ph2, …, strength\_shoulder = 1)) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] / (strength\_ph1 + strength\_ph2)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\item[] else:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] phosphor\_spd = (strength\_ph1*mono\_led\_spd(peakwl\_ph1, …, strength\_shoulder = 1) 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] + (1-strength\_ph1)*mono\_led\_spd(peakwl\_ph2, …, strength\_shoulder = 1)) 
\item[] 
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\item[] 2) S = (mono\_led\_spd() + strength\_ph*(phosphor\_spd/phosphor\_spd.max()))/(1 + strength\_ph)
\item[] 
\item[] 3) piecewise\_fcn = S for wl \textless{} peakwl and 1 for wl \textgreater{}= peakwl
\item[] 
\item[] 4) phosphor\_led\_spd = S*piecewise\_fcn 
\end{DUlineblock}
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{peakw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelengths of the monochromatic led.
\end{DUlineblock}

\item[{fwhm}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional 
\item[] Wavelength range.
\end{DUlineblock}

\item[{bw\_order}] \leavevmode
\begin{DUlineblock}{0em}
\item[] -1, optional
\item[] Order of Butterworth function.
\item[] If -1: mono\_led spd profile is Gaussian.
\item[] else: (bw\_order == 0): spd profile is Gaussian, else Butterworth.
\item[] Note that this only applies to the monochromatic led  spds and not 
\item[] the phosphors spds (these are always gaussian based).
\end{DUlineblock}

\item[{with\_wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] True outputs a ndarray with first row wavelengths.
\end{DUlineblock}

\item[{strength\_shoulder}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 2, optiona l
\item[] Determines the strength of the spectrum shoulders of the mono led.
\end{DUlineblock}

\item[{strength\_ph}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Total contribution of phosphors in mixture.
\end{DUlineblock}

\item[{peakwl\_ph1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelength of the first phosphor.
\end{DUlineblock}

\item[{fwhm\_ph1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian used to simulate first phosphor.
\end{DUlineblock}

\item[{strength\_ph1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Strength of first phosphor in phosphor mixture. 
\item[] If :strength\_ph2: is None: value should be in the {[}0,1{]} range.
\end{DUlineblock}

\item[{peakwl\_ph2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelength of the second phosphor.
\end{DUlineblock}

\item[{fwhm\_ph2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian used to simulate second phosphor.
\end{DUlineblock}

\item[{strength\_ph2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Strength of second phosphor in phosphor mixture. 
\item[] If None: strength is calculated as (1-:strength\_ph1:)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] :target: np2d({[}100,1/3,1/3{]}), optional
\end{DUlineblock}
\item[] ndarray with Yxy chromaticity of target.
\end{DUlineblock}
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] If \textgreater{} 0: plots spectrum components (mono\_led, ph1, ph2, …)
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘spd’, optional
\item[] Specifies output.
\end{DUlineblock}

\item[{use\_piecewise\_fcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] True: uses piece-wise function as in Smet et al. 2011. Can give 
non\_smooth spectra optimized from components to which it is
applied. 
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] spd, component\_spds
\item[] ndarrays with spectra (and component spds used to build the 
final spectra) 
\end{DUlineblock}

\end{description}\end{quote}

\item[{References:}] \leavevmode
1. \sphinxhref{https://ws680.nist.gov/publication/get\_pdf.cfm?pub\_id=841839}{Ohno Y (2005). 
Spectral design considerations for white LED color rendering. 
Opt. Eng. 44, 111302.}

2. \sphinxhref{https://www.osapublishing.org/vjbo/fulltext.cfm?uri=oe-19-7-6903\&id=211315}{Smet K, Ryckaert WR, Pointer MR, Deconinck G, and Hanselaer P (2011). 
Optimal colour quality of LED clusters based on memory colours. 
Opt. Express 19, 6903\textendash{}6912.}

\end{description}

\end{fulllineitems}

\index{spd\_builder() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.spd_builder}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{spd\_builder}}{\emph{flux=None, component\_spds=None, peakwl=450, fwhm=20, bw\_order=-1, pair\_strengths=None, wl={[}360.0, 830.0, 1.0{]}, with\_wl=True, strength\_shoulder=2, strength\_ph=0, peakwl\_ph1=530, fwhm\_ph1=80, strength\_ph1=1, peakwl\_ph2=560, fwhm\_ph2=80, strength\_ph2=None, target=None, tar\_type='Yuv', cspace\_bwtf=\{\}, cieobs='1931\_2', use\_piecewise\_fcn=False, verbosity=0, out='spd', **kwargs}}{}
Build spectrum based on Gaussian, monochromatic and/or phophor type spectra.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{flux}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Fluxes of each of the component spectra.
\item[] None outputs the individual component spectra.
\end{DUlineblock}

\item[{component\_spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or ndarray, optional
\item[] If None: calculate component spds from input args.
\end{DUlineblock}

\item[{peakw}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelengths of the monochromatic led.
\end{DUlineblock}

\item[{fwhm}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional
\item[] Wavelength range.
\end{DUlineblock}

\item[{bw\_order}] \leavevmode
\begin{DUlineblock}{0em}
\item[] -1, optional
\item[] Order of Butterworth function.
\item[] If -1: mono\_led spd profile is Gaussian.
\item[] else: (bw\_order == 0): spd profile is Gaussian, else Butterworth.
\item[] Note that this only applies to the monochromatic led  spds and not 
\item[] the phosphors spds (these are always gaussian based).
\end{DUlineblock}

\item[{pair\_strengths}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with pair\_strengths of mono\_led spds, optional
\item[] If None: will be randomly selected, possibly resulting in 
unphysical (out-of-gamut) solution.
\end{DUlineblock}

\item[{with\_wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] True outputs a ndarray with first row wavelengths.
\end{DUlineblock}

\item[{strength\_shoulder}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 2, optiona l
\item[] Determines the strength of the spectrum shoulders of the mono led.
\end{DUlineblock}

\item[{strength\_ph}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] Total contribution of phosphors in mixture.
\end{DUlineblock}

\item[{peakwl\_ph1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelength of the first phosphor.
\end{DUlineblock}

\item[{fwhm\_ph1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian used to simulate first phosphor.
\end{DUlineblock}

\item[{strength\_ph1}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 1, optional
\item[] Strength of first phosphor in phosphor mixture. 
\item[] If :strength\_ph2: is None: value should be in the {[}0,1{]} range.
\end{DUlineblock}

\item[{peakwl\_ph2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Peak wavelength of the second phosphor.
\end{DUlineblock}

\item[{fwhm\_ph2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] int or float or list or ndarray, optional
\item[] Full-Width-Half-Maximum of gaussian used to simulate second phosphor.
\end{DUlineblock}

\item[{strength\_ph2}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Strength of second phosphor in phosphor mixture. 
\item[] If None: strength is calculated as (1-:strength\_ph1:)
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] :target: np2d({[}100,1/3,1/3{]}), optional
\end{DUlineblock}
\item[] ndarray with Yxy chromaticity of target.
\end{DUlineblock}
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] If \textgreater{} 0: plots spectrum components (mono\_led, ph1, ph2, …)
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘spd’, optional
\item[] Specifies output.
\end{DUlineblock}

\item[{use\_piecewise\_fcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] True: uses piece-wise function as in Smet et al. 2011. Can give 
non\_smooth spectra optimized from components to which it is
applied. 
\end{DUlineblock}

\item[{target}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] ndarray with Yxy chromaticity of target.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] If None: don’t override phosphor strengths, else calculate strength
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] to obtain :target: using color3mixer().
\end{DUlineblock}
\end{DUlineblock}
\item[] If not None AND strength\_ph is None or 0: components are 
monochromatic and colormixer is used to optimize fluxes to 
obtain target chromaticity (N can be \textgreater{} 3 components)
\end{DUlineblock}

\item[{tar\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Yxy’ or str, optional
\item[] Specifies the input type in :target: (e.g. ‘Yxy’ or ‘cct’)
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS, optional
\item[] CIE CMF set used to calculate chromaticity values.
\end{DUlineblock}

\item[{cspace\_bwtf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\}, optional
\item[] Backward (…\_to\_xyz) transform parameters 
\item[] (see colortf()) to go from :tar\_type: to ‘Yxy’)
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with spectra.  
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
1. Target-optimization is only for phophor\_leds with three components 
(blue pump, ph1 and ph2) spanning a sufficiently large gamut.

\item[{References:}] \leavevmode
1. \sphinxhref{https://ws680.nist.gov/publication/get\_pdf.cfm?pub\_id=841839}{Ohno Y (2005). 
Spectral design considerations for white LED color rendering. 
Opt. Eng. 44, 111302.}

2. \sphinxhref{https://www.osapublishing.org/vjbo/fulltext.cfm?uri=oe-19-7-6903\&id=211315}{Smet K, Ryckaert WR, Pointer MR, Deconinck G, and Hanselaer P (2011). 
Optimal colour quality of LED clusters based on memory colours. 
Opt. Express 19, 6903\textendash{}6912.}

\end{description}

\end{fulllineitems}

\index{get\_w\_summed\_spd() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.get_w_summed_spd}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{get\_w\_summed\_spd}}{\emph{w}, \emph{spds}}{}
Calculate weighted sum of spds.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{w}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with weigths (e.g. fluxes)
\end{DUlineblock}

\item[{spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with component spds.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with weighted sum.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{fitnessfcn() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.fitnessfcn}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{fitnessfcn}}{\emph{x, spd\_constructor, spd\_constructor\_pars=None, F\_rss=True, decimals={[}3{]}, obj\_fcn={[}None{]}, obj\_fcn\_pars={[}\{\}{]}, obj\_fcn\_weights={[}1{]}, obj\_tar\_vals={[}0{]}, verbosity=0, out='F'}}{}
Fitness function that calculates closeness of solution x to target values 
for specified objective functions.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray with parameter values
\end{DUlineblock}

\item[{spd\_constructor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] function handle to a function that constructs the spd
from parameter values in :x:.
\end{DUlineblock}

\item[{spd\_constructor\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional,
\item[] Parameters required by :spd\_constructor:
\end{DUlineblock}

\item[{F\_rss}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Take Root-Sum-of-Squares of ‘closeness’ values between target and 
objective function values.
\end{DUlineblock}

\item[{decimals}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 3, optional
\item[] Rounding decimals of objective function values.
\end{DUlineblock}

\item[{obj\_fcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}None{]} or list, optional
\item[] Function handles to objective function.
\end{DUlineblock}

\item[{obj\_fcn\_weights}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}1{]} or list, optional.
\item[] Weigths for each obj. fcn
\end{DUlineblock}

\item[{obj\_fcn\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}None{]} or list, optional
\item[] Parameter dicts for each obj. fcn.
\end{DUlineblock}

\item[{obj\_tar\_vals}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}0{]} or list, optional
\item[] Target values for each objective function.
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] If \textgreater{} 0: print intermediate results.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘F’, optional
\item[] Determines output.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{F}] \leavevmode
\begin{DUlineblock}{0em}
\item[] float or ndarray with fitness value for current solution :x:.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_constructor\_2() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.spd_constructor_2}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{spd\_constructor\_2}}{\emph{x}, \emph{constructor\_pars=\{\}}, \emph{**kwargs}}{}
Construct spd from model parameters using pairs of intermediate sources.

\begin{DUlineblock}{0em}
\item[] Pairs (odd,even) of components are selected and combined using 
‘pair\_strength’. This process is continued until only 3 intermediate 
(combined) sources remain. Color3mixer is then used to calculate the 
fluxes for the remaining 3 sources, after which the fluxes of all 
components are back-calculated.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] vector of optimization parameters.
\end{DUlineblock}

\item[{constructor\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with model parameters. 
\item[] Key ‘list’ determines which parameters are in :x: and key ‘len’
(Specifies the number of variables representing each parameter).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] spd, M, spds
\item[] ndarrays with spectrum corresponding to x, M the fluxes of 
the spectral components of spd and spds the spectral components 
themselves.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_constructor\_3() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.spd_constructor_3}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{spd\_constructor\_3}}{\emph{x}, \emph{constructor\_pars=\{\}}, \emph{**kwargs}}{}
Construct spd from model parameters using trio’s of intermediate sources.

\begin{DUlineblock}{0em}
\item[] The triangle/trio method creates for all possible combinations of 3 primary
component spectra a spectrum that results in the target chromaticity 
using color3mixer() and then optimizes the weights of each of the latter 
spectra such that adding them (additive mixing) results in obj\_vals as 
close as possible to the target values.
\end{DUlineblock}
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{x}] \leavevmode
\begin{DUlineblock}{0em}
\item[] vector of optimization parameters.
\end{DUlineblock}

\item[{constructor\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with model parameters. 
\item[] Key ‘list’ determines which parameters are in :x: and key ‘len’
(specifies the number of variables representing each parameter).
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] spd, M, spds
\item[] ndarrays with spectrum corresponding to x, M the fluxes of 
the spectral components of spd and spds the spectral components 
themselves.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_optimizer\_2\_3() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.spd_optimizer_2_3}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{spd\_optimizer\_2\_3}}{\emph{optimizer\_type='2mixer', spd\_constructor=None, spd\_model\_pars=None, component\_data=4, N\_components=None, wl={[}360.0, 830.0, 1.0{]}, allow\_butterworth\_mono\_spds=False, Yxy\_target=array({[}{[}1.0000e+02, 3.3333e-01, 3.3333e-01{]}{]}), cieobs='1931\_2', obj\_fcn={[}None{]}, obj\_fcn\_pars={[}\{\}{]}, obj\_fcn\_weights={[}1{]}, obj\_tar\_vals={[}0{]}, decimals={[}5{]}, minimize\_method='nelder-mead', minimize\_opts=None, F\_rss=True, verbosity=0, **kwargs}}{}
Optimizes the weights (fluxes) of a set of component spectra by combining 
pairs (2) or trio’s (3) of components to intermediate sources until only 3
remain. Color3mixer can then be called to calculate required fluxes to
obtain target chromaticity and fluxes are then back-calculated.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{optimizer\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘2mixer’ or ‘3mixer’ or ‘user’, optional
\item[] Specifies whether to optimize spectral model parameters by 
combining pairs or trio’s of comonponents.
\end{DUlineblock}

\item[{spd\_constructor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Function handle to user defined spd\_constructor function.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Input: fcn(x, constructor\_pars = \{\}, kwargs)
\item[] Output: spd,M,spds
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] nd array with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - spd: spectrum resulting from x
\end{DUlineblock}
\item[] - M: fluxes of all component spds
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - spds: component spds (in {[}N+1,wl{]} format)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\item[] (See e.g. spd\_constructor\_2 or spd\_constructor\_3)
\end{DUlineblock}

\item[{spd\_model\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with model parameters required by spd\_constructor
and with optimization parameters required by minimize (x0, lb, ub).                .
\item[] Only used when :optimizer\_type: == ‘user’.
\end{DUlineblock}

\item[{component\_data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 4, optional
\item[] Component spectra data: 
\item[] If int: specifies number of components used in optimization 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (peakwl, fwhm and pair\_strengths will be optimized).
\end{DUlineblock}
\item[] If dict: generate components based on parameters (peakwl, fwhm, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] pair\_strengths, etc.) in dict. 
\end{DUlineblock}
\item[] (keys with None values will be optimized)
\end{DUlineblock}
\item[] If ndarray: optimize pair\_strengths of component spectra.
\end{DUlineblock}

\item[{N\_components}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Specifies number of components used in optimization. (only used 
when :component\_data: is dict and user wants to override dict. 
\item[] Note that shape of parameters arrays must match N\_components).
\end{DUlineblock}

\item[{allow\_butterworth\_mono\_spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] False: use pure Gaussian based monochrom. spds.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional
\item[] Wavelengths used in optimization when :component\_data: is not 
\item[] ndarray with spectral data.
\end{DUlineblock}

\item[{Yxy\_target}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np2d({[}100,1/3,1/3{]}), optional
\item[] ndarray with Yxy chromaticity of target.
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS, optional
\item[] CIE CMF set used to calculate chromaticity values if not provided 
in :Yxyi:.
\end{DUlineblock}

\item[{F\_rss}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Take Root-Sum-of-Squares of ‘closeness’ values between target and 
objective function values.
\end{DUlineblock}

\item[{decimals}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 5, optional
\item[] Rounding decimals of objective function values.
\end{DUlineblock}

\item[{obj\_fcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}None{]} or list, optional
\item[] Function handles to objective function.
\end{DUlineblock}

\item[{obj\_fcn\_weights}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}1{]} or list, optional.
\item[] Weigths for each obj. fcn
\end{DUlineblock}

\item[{obj\_fcn\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}None{]} or list, optional
\item[] Parameter dicts for each obj. fcn.
\end{DUlineblock}

\item[{obj\_tar\_vals}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}0{]} or list, optional
\item[] Target values for each objective function.
\end{DUlineblock}

\item[{minimize\_method}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘nelder-mead’, optional
\item[] Optimization method used by minimize function.
\end{DUlineblock}

\item[{minimize\_opts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Dict with minimization options. 
\item[] None defaults to: \{‘xtol’: 1e-5, ‘disp’: True, ‘maxiter’: 1000*Nc,
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘maxfev’ : 1000*Nc,’fatol’: 0.01\}
\end{DUlineblock}
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] If \textgreater{} 0: print intermediate results.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] M, spd\_opt, obj\_vals
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘M’: ndarray with fluxes for each component spectrum.
\item[] - ‘spd\_opt’: optimized spectrum.
\item[] - ‘obj\_vals’: values of the obj. fcns for the optimized spectrum.
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{get\_optim\_pars\_dict() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.get_optim_pars_dict}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{get\_optim\_pars\_dict}}{\emph{target=array({[}{[}1.0000e+02, 3.3333e-01, 3.3333e-01{]}{]}), tar\_type='Yxy', cieobs='1931\_2', optimizer\_type='2mixer', spd\_constructor=None, spd\_model\_pars=None, cspace='Yuv', cspace\_bwtf=\{\}, cspace\_fwtf=\{\}, component\_spds=None, N\_components=None, obj\_fcn={[}None{]}, obj\_fcn\_pars={[}\{\}{]}, obj\_fcn\_weights={[}1{]}, obj\_tar\_vals={[}0{]}, decimals={[}5{]}, minimize\_method='nelder-mead', minimize\_opts=None, F\_rss=True, peakwl={[}450, 530, 610{]}, fwhm={[}20, 20, 20{]}, allow\_butterworth\_mono\_spds=False, bw\_order={[}-1{]}, wl={[}360.0, 830.0, 1.0{]}, with\_wl=True, strength\_shoulder=2, strength\_ph={[}0{]}, use\_piecewise\_fcn=False, peakwl\_ph1={[}530{]}, fwhm\_ph1={[}80{]}, strength\_ph1={[}1{]}, peakwl\_ph2={[}560{]}, fwhm\_ph2={[}80{]}, strength\_ph2=None, verbosity=0, pair\_strengths=None, triangle\_strengths=None, peakwl\_min={[}400{]}, peakwl\_max={[}700{]}, fwhm\_min={[}5{]}, fwhm\_max={[}300{]}, bw\_order\_min={[}0{]}, bw\_order\_max={[}100{]}}}{}
Setup dict with optimization parameters.
\begin{description}
\item[{Args:}] \leavevmode
See  ?spd\_optimizer for more info.

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{opts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with keys and values of the function’s keywords and values.
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{initialize\_spd\_model\_pars() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.initialize_spd_model_pars}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{initialize\_spd\_model\_pars}}{\emph{component\_data, N\_components=None, allow\_butterworth\_mono\_spds=False, optimizer\_type='2mixer', wl={[}360.0, 830.0, 1.0{]}}}{}
Initialize spd\_model\_pars dict (for spd\_constructor) based on type 
of component\_data.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{component\_data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Component spectra data: 
\item[] If int: specifies number of components used in optimization 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (peakwl, fwhm and pair\_strengths will be optimized).
\end{DUlineblock}
\item[] If dict: generate components based on parameters (peakwl, fwhm, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] pair\_strengths, etc.) in dict. 
\end{DUlineblock}
\item[] (keys with None values will be optimized)
\end{DUlineblock}
\item[] If ndarray: optimize pair\_strengths of component spectra.
\end{DUlineblock}

\item[{N\_components}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Specifies number of components used in optimization. (only used 
\item[] when :component\_data: is dict and user wants to override dict. 
\item[] Note that shape of parameters arrays must match N\_components).
\end{DUlineblock}

\item[{allow\_butterworth\_mono\_spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - False: use pure Gaussian based monochrom. spds.
\item[] - True: also allow butterworth type monochrom. spds while optimizing.
\end{DUlineblock}
\end{DUlineblock}

\item[{optimizer\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘2mixer’, optional
\item[] Type of spectral optimization routine.
\item[] (other options: ‘3mixer’, ‘search’)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional
\item[] Wavelengths used in optimization when :component\_data: is not an
ndarray with spectral data.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{spd\_model\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with spectrum-model parameters
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{initialize\_spd\_optim\_pars() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.initialize_spd_optim_pars}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{initialize\_spd\_optim\_pars}}{\emph{component\_data, N\_components=None, allow\_butterworth\_mono\_spds=False, optimizer\_type='2mixer', wl={[}360.0, 830.0, 1.0{]}}}{}
Initialize spd\_optim\_pars dict based on type of component\_data.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{component\_data}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Component spectra data: 
\item[] If int: specifies number of components used in optimization 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (peakwl, fwhm and pair\_strengths will be optimized).
\end{DUlineblock}
\item[] If dict: generate components based on parameters (peakwl, fwhm, 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] pair\_strengths, etc.) in dict. 
\end{DUlineblock}
\item[] (keys with None values will be optimized)
\end{DUlineblock}
\item[] If ndarray: optimize pair\_strengths of component spectra.
\end{DUlineblock}

\item[{N\_components}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Specifies number of components used in optimization. (only used 
when :component\_data: is dict and user wants to override dict. 
\item[] Note that shape of parameters arrays must match N\_components).
\end{DUlineblock}

\item[{allow\_butterworth\_mono\_spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] False: use pure Gaussian based monochrom. spds.
\end{DUlineblock}

\item[{optimizer\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘2mixer’, optional
\item[] Type of spectral optimization routine.
(other options: ‘3mixer’, ‘search’)
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional
\item[] Wavelengths used in optimization when :component\_data: is not an
ndarray with spectral data.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{spd\_optim\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with optimization parameters (x0, ub, lb)
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}

\index{spd\_optimizer() (in module luxpy.toolboxes.spdbuild)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.spdbuild.spd_optimizer}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.spdbuild.}\sphinxbfcode{spd\_optimizer}}{\emph{target=array({[}{[}1.0000e+02, 3.3333e-01, 3.3333e-01{]}{]}), tar\_type='Yxy', cieobs='1931\_2', optimizer\_type='2mixer', spd\_constructor=None, spd\_model\_pars=None, cspace='Yuv', cspace\_bwtf=\{\}, cspace\_fwtf=\{\}, component\_spds=None, N\_components=None, obj\_fcn={[}None{]}, obj\_fcn\_pars={[}\{\}{]}, obj\_fcn\_weights={[}1{]}, obj\_tar\_vals={[}0{]}, decimals={[}5{]}, minimize\_method='nelder-mead', minimize\_opts=None, F\_rss=True, peakwl={[}450, 530, 610{]}, fwhm={[}20, 20, 20{]}, allow\_butterworth\_mono\_spds=False, bw\_order={[}-1{]}, wl={[}360.0, 830.0, 1.0{]}, with\_wl=True, strength\_shoulder=2, strength\_ph={[}0{]}, use\_piecewise\_fcn=False, peakwl\_ph1={[}530{]}, fwhm\_ph1={[}80{]}, strength\_ph1={[}1{]}, peakwl\_ph2={[}560{]}, fwhm\_ph2={[}80{]}, strength\_ph2=None, verbosity=0, pair\_strengths=None, peakwl\_min={[}400{]}, peakwl\_max={[}700{]}, fwhm\_min={[}5{]}, fwhm\_max={[}300{]}, bw\_order\_min=0, bw\_order\_max=100}}{}
Generate a spectrum with specified white point and optimized for certain 
objective functions from a set of component spectra or component spectrum 
model parameters.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{target}] \leavevmode
\begin{DUlineblock}{0em}
\item[] np2d({[}100,1/3,1/3{]}), optional
\item[] ndarray with Yxy chromaticity of target.
\end{DUlineblock}

\item[{tar\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Yxy’ or str, optional
\item[] Specifies the input type in :target: (e.g. ‘Yxy’ or ‘cct’)
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS, optional
\item[] CIE CMF set used to calculate chromaticity values, if not provided 
in :Yxyi:.
\end{DUlineblock}

\item[{optimizer\_type}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘2mixer’,  optional
\item[] Specifies type of chromaticity optimization 
\item[] (‘3mixer’ or ‘2mixer’ or ‘search’)
\item[] For help on ‘2mixer’ and ‘3mixer’ algorithms, see notes below.
\end{DUlineblock}

\item[{spd\_constructor}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Function handle to user defined spd\_constructor function.
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Input: fcn(x, constructor\_pars = \{\}, kwargs)
\item[] Output: spd,M,spds
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] nd array with:
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - spd: spectrum resulting from x
\item[] - M: fluxes of all component spds
\item[] - spds: component spds (in {[}N+1,wl{]} format)
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}
\item[] (See e.g. spd\_constructor\_2 or spd\_constructor\_3)
\end{DUlineblock}

\item[{spd\_model\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] dict with model parameters required by spd\_constructor
and with optimization parameters required by minimize (x0, lb, ub).                .
\item[] Only used when :optimizer\_type: == ‘user’.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘Yuv’, optional
\item[] Color space for ‘search’-type optimization. 
\end{DUlineblock}

\item[{cspace\_bwtf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\}, optional
\item[] Backward (cspace\_to\_xyz) transform parameters 
\item[] (see colortf()) to go from :tar\_type: to ‘Yxy’).
\end{DUlineblock}

\item[{cspace\_fwtf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\}, optional
\item[] Forward (xyz\_to\_cspace) transform parameters 
\item[] (see colortf()) to go from xyz to :cspace:).
\end{DUlineblock}

\item[{component\_spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray of component spectra.
\item[] If None: they are built from input args.
\end{DUlineblock}

\item[{N\_components}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Specifies number of components used in optimization. (only used 
when :component\_data: is dict and user wants to override dict value
\item[] Note that shape of parameters arrays must match N\_components).
\end{DUlineblock}

\item[{allow\_butterworth\_mono\_spds}] \leavevmode
\begin{DUlineblock}{0em}
\item[] False, optional
\item[] False: use pure Gaussian based monochrom. spds.
\end{DUlineblock}

\item[{wl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_WL3, optional
\item[] Wavelengths used in optimization when :component\_data: is not an
ndarray with spectral data.
\end{DUlineblock}

\item[{F\_rss}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] Take Root-Sum-of-Squares of ‘closeness’ values between target and 
objective function values.
\end{DUlineblock}

\item[{decimals}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 5, optional
\item[] Rounding decimals of objective function values.
\end{DUlineblock}

\item[{obj\_fcn}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}None{]} or list, optional
\item[] Function handles to objective function.
\end{DUlineblock}

\item[{obj\_fcn\_weights}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}1{]} or list, optional.
\item[] Weigths for each obj. fcn
\end{DUlineblock}

\item[{obj\_fcn\_pars}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}None{]} or list, optional
\item[] Parameter dicts for each obj. fcn.
\end{DUlineblock}

\item[{obj\_tar\_vals}] \leavevmode
\begin{DUlineblock}{0em}
\item[] {[}0{]} or list, optional
\item[] Target values for each objective function.
\end{DUlineblock}

\item[{minimize\_method}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘nelder-mead’, optional
\item[] Optimization method used by minimize function.
\end{DUlineblock}

\item[{minimize\_opts}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Dict with minimization options. 
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] None defaults to: \{‘xtol’: 1e-5, ‘disp’: True, ‘maxiter’: 1000*Nc,
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] ‘maxfev’ : 1000*Nc,’fatol’: 0.01\}
\end{DUlineblock}
\end{DUlineblock}
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] If \textgreater{} 0: print intermediate results.
\end{DUlineblock}

\end{description}\end{quote}

\item[{Note:}] \leavevmode
peakwl:, :fwhm:, … : see ?spd\_builder for more info.

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] spds, M
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - ‘spds’: optimized spectrum.
\item[] - ‘M’: ndarray with fluxes for each component spectrum.
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Notes:}] \leavevmode\begin{quote}
\begin{quote}\begin{description}
\item[{Optimization algorithms}] \leavevmode
\end{description}\end{quote}

1. ‘2mixer’:
Pairs (odd,even) of components are selected and combined using 
‘pair\_strength’. This process is continued until only 3 (combined)
intermediate sources remain. Color3mixer is then used to calculate 
the fluxes for the remaining 3 sources, after which the fluxes of 
all components are back-calculated.
\end{quote}

2. ‘3mixer’:
The triangle/trio method creates for all possible combinations of 
3 primary component spectra a spectrum that results in the target 
chromaticity using color3mixer() and then optimizes the weights of
each of the latter spectra such that adding them (additive mixing) 
results in obj\_vals as close as possible to the target values.

\end{description}

\end{fulllineitems}



\subsection{hypspcim/}
\label{\detokenize{toolboxes:hypspcim}}\begin{quote}
\begin{quote}\begin{description}
\item[{py}] \leavevmode\begin{itemize}
\item {} 
\_\_init\_\_.py

\item {} 
hyperspectral\_img\_simulator.py

\end{itemize}

\item[{namespace}] \leavevmode
luxpy.hypspcim

\end{description}\end{quote}
\end{quote}
\phantomsection\label{\detokenize{toolboxes:module-luxpy.toolboxes.hypspcim}}\index{luxpy.toolboxes.hypspcim (module)}

\subsubsection{Module for hyper spectral image simulation}
\label{\detokenize{toolboxes:module-for-hyper-spectral-image-simulation}}\begin{quote}
\begin{quote}\begin{description}
\item[{\_HYPSPCIM\_PATH}] \leavevmode
path to module

\item[{\_HYPSPCIM\_DEFAULT\_IMAGE}] \leavevmode
path + filename to default image

\item[{xyz\_to\_rfl()}] \leavevmode
approximate spectral reflectance of xyz based on k nearest 
neighbour interpolation of samples from a standard reflectance 
set.

\item[{render\_image()}] \leavevmode
Render image under specified light source spd.

\end{description}\end{quote}
\end{quote}
\index{render\_image() (in module luxpy.toolboxes.hypspcim)}

\begin{fulllineitems}
\phantomsection\label{\detokenize{toolboxes:luxpy.toolboxes.hypspcim.render_image}}\pysiglinewithargsret{\sphinxcode{luxpy.toolboxes.hypspcim.}\sphinxbfcode{render\_image}}{\emph{img=None}, \emph{spd=None}, \emph{rfl=None}, \emph{out='img\_hyp'}, \emph{refspd=None}, \emph{D=None}, \emph{cieobs='1931\_2'}, \emph{cspace='ipt'}, \emph{cspace\_tf=\{\}}, \emph{k\_neighbours=4}, \emph{show=True}, \emph{verbosity=0}, \emph{show\_ref\_img=True}, \emph{stack\_test\_ref=12}, \emph{write\_to\_file=None}, \emph{use\_plt\_show=True}, \emph{use\_plt\_read=True}}{}
Render image under specified light source spd.
\begin{description}
\item[{Args:}] \leavevmode\begin{quote}\begin{description}
\item[{img}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None or str or ndarray with uint8 rgb image.
\item[] None load a default image.
\end{DUlineblock}

\item[{spd}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray, optional
\item[] Light source spectrum for rendering
\end{DUlineblock}

\item[{rfl}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ndarray, optional
\item[] Reflectance set for color coordinate to rfl mapping.
\end{DUlineblock}

\item[{out}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘img\_hyp’ or str, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] (other option: ‘img\_ren’: rendered image under :spd:)
\end{DUlineblock}
\end{DUlineblock}

\item[{refspd}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Reference spectrum for color coordinate to rfl mapping.
\item[] None defaults to D65 (srgb has a D65 white point)
\end{DUlineblock}

\item[{D}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] Degree of (von Kries) adaptation from spd to refspd. 
\end{DUlineblock}

\item[{cieobs}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \_CIEOBS, optional
\item[] CMF set for calculation of xyz from spectral data.
\end{DUlineblock}

\item[{cspace}] \leavevmode
\begin{DUlineblock}{0em}
\item[] ‘ipt’,  optional
\item[] Color space for color coordinate to rfl mapping.
\end{DUlineblock}

\item[{cspace\_tf}] \leavevmode
\begin{DUlineblock}{0em}
\item[] \{\}, optional
\item[] Dict with parameters for xyz\_to\_cspace and cspace\_to\_xyz transform.
\end{DUlineblock}

\item[{k\_neighbours}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 4 or int, optional
\item[] Number of nearest neighbours for reflectance spectrum interpolation.
\item[] Neighbours are found using scipy.cKDTree
\end{DUlineblock}

\item[{show}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] Show images.
\end{DUlineblock}
\end{DUlineblock}

\item[{verbosity}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 0, optional
\item[] If \textgreater{} 0: make a plot of the color coordinates of original and 
rendered image pixels.
\end{DUlineblock}

\item[{show\_ref\_img}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[] True: shows rendered image under reference spd. False: shows
original image.
\end{DUlineblock}

\item[{write\_to\_file}] \leavevmode
\begin{DUlineblock}{0em}
\item[] None, optional
\item[] None: do nothing, else: write to filename(+path) in :write\_to\_file:
\end{DUlineblock}

\item[{stack\_test\_ref}] \leavevmode
\begin{DUlineblock}{0em}
\item[] 12, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - 12: left (test), right (ref) format for show and imwrite
\item[] - 21: top (test), bottom (ref)
\item[] - 1: only show/write test
\item[] - 2: only show/write ref
\item[] - 0: show both, write test
\end{DUlineblock}
\end{DUlineblock}

\item[{use\_plt\_show}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - True: Use matplotlib.pyplot.imshow 
\item[] - False: use open-cv imshow() 
\end{DUlineblock}
\end{DUlineblock}

\item[{use\_plt\_read}] \leavevmode
\begin{DUlineblock}{0em}
\item[] True, optional
\item[]
\begin{DUlineblock}{\DUlineblockindent}
\item[] - False: use cv2 (openCV)
\item[] - True: try matplotlib.imread()
\end{DUlineblock}
\end{DUlineblock}

\end{description}\end{quote}

\item[{Returns:}] \leavevmode\begin{quote}\begin{description}
\item[{returns}] \leavevmode
\begin{DUlineblock}{0em}
\item[] img\_hyp, img\_ren, 
\item[] ndarrays with hyperspectral image and rendered images 
\end{DUlineblock}

\end{description}\end{quote}

\end{description}

\end{fulllineitems}



\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\def\bigletter#1{{\Large\sffamily#1}\nopagebreak\vspace{1mm}}
\bigletter{l}
\item {\sphinxstyleindexentry{luxpy.color.cam}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.cam}}
\item {\sphinxstyleindexentry{luxpy.color.cat}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.cat}}
\item {\sphinxstyleindexentry{luxpy.color.cct}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.cct}}
\item {\sphinxstyleindexentry{luxpy.color.cri}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.cri}}
\item {\sphinxstyleindexentry{luxpy.color.cri.VFPX}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.cri.VFPX}}
\item {\sphinxstyleindexentry{luxpy.color.ctf.colortf}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.ctf.colortf}}
\item {\sphinxstyleindexentry{luxpy.color.ctf.colortransforms}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.ctf.colortransforms}}
\item {\sphinxstyleindexentry{luxpy.color.deltaE}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.deltaE}}
\item {\sphinxstyleindexentry{luxpy.color.utils}}\sphinxstyleindexpageref{color:\detokenize{module-luxpy.color.utils}}
\item {\sphinxstyleindexentry{luxpy.spectrum}}\sphinxstyleindexpageref{spectrum:\detokenize{module-luxpy.spectrum}}
\item {\sphinxstyleindexentry{luxpy.toolboxes.hypspcim}}\sphinxstyleindexpageref{toolboxes:\detokenize{module-luxpy.toolboxes.hypspcim}}
\item {\sphinxstyleindexentry{luxpy.toolboxes.indvcmf}}\sphinxstyleindexpageref{toolboxes:\detokenize{module-luxpy.toolboxes.indvcmf}}
\item {\sphinxstyleindexentry{luxpy.toolboxes.photbiochem}}\sphinxstyleindexpageref{toolboxes:\detokenize{module-luxpy.toolboxes.photbiochem}}
\item {\sphinxstyleindexentry{luxpy.toolboxes.spdbuild}}\sphinxstyleindexpageref{toolboxes:\detokenize{module-luxpy.toolboxes.spdbuild}}
\item {\sphinxstyleindexentry{luxpy.utils.helpers}}\sphinxstyleindexpageref{utils:\detokenize{module-luxpy.utils.helpers}}
\item {\sphinxstyleindexentry{luxpy.utils.math}}\sphinxstyleindexpageref{utils:\detokenize{module-luxpy.utils.math}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}